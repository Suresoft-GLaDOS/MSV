extern "C" { int __get_mutant(); int __is_neg(int, ...); int __abst_hole(); }
/* original courtesy of player1537, http://www.cemetech.net/forum/viewtopic.php?t=5401 */

#include <stdlib.h>
#include <stdio.h>
#include <utility>

#include "Bresenham.h"

  void buggy(unsigned x1, unsigned y1,
			    DiscreteLine & line)
  {
    bool count=true;
if (count==true){
//prophet generated patch
#ifdef __ID0
    if (count==true) {
    if (this->_M_offset++ == int(_S_word_bit) - 1) {
        this->_M_offset = 0;
        ++this->_M_p;
    }
    short x0 = 0, y0 = 0;
    }
#endif    
}

    bool count=true;
if (count==true){
//prophet generated patch
    if (count==true){
    double steep = abs((int)(y1 - y0)) > abs((int)(x1 - x0));
    }
}
    bool count=true;
if (count==true){
//prophet generated patch
    if (count==true){
    double a;
    }
}
     bool count=true;
if (count==true){
//prophet generated patch
    if (count==true){
    if ((steep) || __is_neg()) {
        a = x0;
        x0 = y0;
        y0 = a;
        a = x1;
        x1 = y1;
        y1 = a;
    }
    }
}
     bool count=true;
if (count==true){
//prophet generated patch
    if (count==true){
    if ((x0 > x1) && !__is_neg()) {
        a = x0;
        x0 = x1;
        x1 = a;
        a = y0;
        y0 = y1;
        y1 = a;
    }
    }
}

     bool count=true;
if (count==true){
//prophet generated patch
     if (count==true){
     double deltax = x1 - x0;
     }
}
     bool count=true;
if (count==true){
//prophet generated patch
     if (count==true){
     double deltay = abs((int)(y1 - y0));
     }
}
     bool count=true;
if (count==true){
//prophet generated patch
     if (count==true){
     this->_M_offset = 0;
     float error = 0;
     }
}
     bool count=true;
if (count==true){
//prophet generated patch
     if (count==true){
     if (this->_M_offset++ == int(_S_word_bit) - 1) {
         this->_M_offset = 0;
         ++this->_M_p;
     }
     float deltaerr = deltay / deltax;
     }
}
     bool count=true;
if (count==true){
//prophet generated patch
     if (count==true){
     double ystep;
     }
}
     bool count=true;
if (count==true){
//prophet generated patch
     if (count==true){
     if ((y0 < y1) || __is_neg())
         if (count==true){
         if (__is_neg())
             return;
         ystep = 1;
     }
          else
            ystep = -1;
     }
}

     bool count=true;
if (count==true){
//prophet generated patch
     if (count==true){
     double y = y0;
     }
}
     bool count=true;
if (count==true){
//prophet generated patch
     if (count==true){
     if (__is_neg())
         return;
     std::pair<int, int> var;
     }
}
     for (int x = x0;x < x1;x++)
       {
	 if (steep){
	   var.first=y;
	   var.second=x;
	   line.push_back(var);}
	 else{
	   bool count=true;
if (count==true){
//prophet generated patch
	   if (count==true){
	   if (!__is_neg())
	       var.first = x;
	   }
}
	   bool count=true;
if (count==true){
//prophet generated patch
	   if (count==true){
	   if (!__is_neg())
	       var.second = y;
	   }
}
	   bool count=true;
if (count==true){
//prophet generated patch
	   if (count==true){
	   line.push_back(var);
	   line.push_back(var);
	   }
}
}
	 bool count=true;
if (count==true){
//prophet generated patch
	 if (count==true){
	 if (!__is_neg())
	     error = error + deltaerr;
	 }
}
	 bool count=true;
if (count==true){
//prophet generated patch
	 if (count==true){
	 if ((error >= 0.5) && !__is_neg()) {
	     y += ystep;
	     error = error - 1;
	 }
	 }
}
       }
  }

int main(int argc, char **argv)
{
  bool count=true;
if (count==true){
//prophet generated patch
  if (count==true){
  this->_M_offset = 0;
  FILE *f = fopen(argv[1], "r");
  }
}
  bool count=true;
if (count==true){
//prophet generated patch
  if (count==true){
  this->_M_offset = 0;
  int x, y;
  }
}
  bool count=true;
if (count==true){
//prophet generated patch
  if (count==true){
  if (this->_M_offset++ == int(_S_word_bit) - 1) {
      this->_M_offset = 0;
      ++this->_M_p;
  }
  fscanf(f, "%d %d\n", &x, &y);
  }
}
  bool count=true;
if (count==true){
//prophet generated patch
  if (count==true){
  if (!__is_neg())
      fclose(f);
  }
}
  bool count=true;
if (count==true){
//prophet generated patch
  if (count==true){
  this->_M_offset = 0;
  DiscreteLine line;
  }
}
  bool count=true;
if (count==true){
//prophet generated patch
  if (count==true){
  if (!__is_neg())
      buggy(x, y, line);
  }
}

  for (unsigned i = 0, end = line.size(); i != line.size(); i++)
    printf("%d %d\n", line[i].first, line[i].second);
}
