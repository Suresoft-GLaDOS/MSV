#define __COMPILE_0
#define __COMPILE_1
#define __COMPILE_2
#define __COMPILE_3
#define __COMPILE_4
#define __COMPILE_5
#define __COMPILE_6
#define __COMPILE_7
#define __COMPILE_8
#define __COMPILE_9
#define __COMPILE_10
#define __COMPILE_11
#define __COMPILE_12
#define __COMPILE_13
#define __COMPILE_14
#define __COMPILE_15
#define __COMPILE_16
#define __COMPILE_17
#define __COMPILE_18
#define __COMPILE_19
#define __COMPILE_20
#define __COMPILE_21
#define __COMPILE_22
#define __COMPILE_23
#define __COMPILE_24
#define __COMPILE_25
#define __COMPILE_26
#define __COMPILE_27
#define __COMPILE_28
#define __COMPILE_29
#define __COMPILE_30
#define __COMPILE_31
#define __COMPILE_32
#define __COMPILE_33
#define __COMPILE_34
#define __COMPILE_35
#define __COMPILE_36
#define __COMPILE_37
#define __COMPILE_38
#define __COMPILE_39
#define __COMPILE_40
#define __COMPILE_41
#define __COMPILE_42
#define __COMPILE_43
#define __COMPILE_44
#define __COMPILE_45
#define __COMPILE_46
#define __COMPILE_47
#define __COMPILE_48
#define __COMPILE_49
#define __COMPILE_50
#define __COMPILE_51
#define __COMPILE_52
#define __COMPILE_53
#define __COMPILE_54
#define __COMPILE_55
#define __COMPILE_56
#define __COMPILE_57
#define __COMPILE_58
#define __COMPILE_59
#define __COMPILE_60
#define __COMPILE_61
#define __COMPILE_62
#define __COMPILE_63
#define __COMPILE_64
#define __COMPILE_65
#define __COMPILE_66
#define __COMPILE_67
#define __COMPILE_68
#define __COMPILE_69
#define __COMPILE_70
#define __COMPILE_71
#define __COMPILE_72
#define __COMPILE_73
#define __COMPILE_74
#define __COMPILE_75
#define __COMPILE_76
#define __COMPILE_77
#define __COMPILE_78
#define __COMPILE_79
#define __COMPILE_80
#define __COMPILE_81
#define __COMPILE_82
#define __COMPILE_83
#define __COMPILE_84
#define __COMPILE_85
#define __COMPILE_86
#define __COMPILE_87
#define __COMPILE_88
#define __COMPILE_89
#define __COMPILE_90
#define __COMPILE_91
#define __COMPILE_92
#define __COMPILE_93
#define __COMPILE_94
#define __COMPILE_95
#define __COMPILE_96
#define __COMPILE_97
#define __COMPILE_98
#define __COMPILE_99
#define __COMPILE_100
#define __COMPILE_101
#define __COMPILE_102
#define __COMPILE_103
#define __COMPILE_104
#define __COMPILE_105
#define __COMPILE_106
#define __COMPILE_107
#define __COMPILE_108
#define __COMPILE_109
#define __COMPILE_110
#define __COMPILE_111
#define __COMPILE_112
#define __COMPILE_113
#define __COMPILE_114
#define __COMPILE_115
#define __COMPILE_116
#define __COMPILE_117
#define __COMPILE_118
#define __COMPILE_119
#define __COMPILE_120
#define __COMPILE_121
#define __COMPILE_122
#define __COMPILE_123
#define __COMPILE_124
#define __COMPILE_125
#define __COMPILE_126
#define __COMPILE_127
#define __COMPILE_128
#define __COMPILE_129
#define __COMPILE_130
#define __COMPILE_131
#define __COMPILE_132
#define __COMPILE_133
#define __COMPILE_134
#define __COMPILE_135
#define __COMPILE_136
#define __COMPILE_137
#define __COMPILE_138
#define __COMPILE_139
#define __COMPILE_140
#define __COMPILE_141
#define __COMPILE_142
#define __COMPILE_143
#define __COMPILE_144
#define __COMPILE_145
#define __COMPILE_146
#define __COMPILE_147
#define __COMPILE_148
#define __COMPILE_149
#define __COMPILE_150
#define __COMPILE_151
#define __COMPILE_152
#define __COMPILE_153
#define __COMPILE_154
#define __COMPILE_155
#define __COMPILE_156
#define __COMPILE_157
#define __COMPILE_158
#define __COMPILE_159
#define __COMPILE_160
#define __COMPILE_161
#define __COMPILE_162
#define __COMPILE_163
#define __COMPILE_164
#define __COMPILE_165
#define __COMPILE_166
#define __COMPILE_167
#define __COMPILE_168
#define __COMPILE_169
#define __COMPILE_170
#define __COMPILE_171
#define __COMPILE_172
#define __COMPILE_173
#define __COMPILE_174
#define __COMPILE_175
#define __COMPILE_176
#define __COMPILE_177
#define __COMPILE_178
#define __COMPILE_179
#define __COMPILE_180
#define __COMPILE_181
#define __COMPILE_182
#define __COMPILE_183
#define __COMPILE_184
#define __COMPILE_185
#define __COMPILE_186
#define __COMPILE_187
#define __COMPILE_188
#define __COMPILE_189
#define __COMPILE_190
#define __COMPILE_191
#define __COMPILE_192
#define __COMPILE_193
#define __COMPILE_194
#define __COMPILE_195
#define __COMPILE_196
#define __COMPILE_197
#define __COMPILE_198
#define __COMPILE_199
#define __COMPILE_200
#define __COMPILE_201
#define __COMPILE_202
#define __COMPILE_203
#define __COMPILE_204
#define __COMPILE_205
#define __COMPILE_206
#define __COMPILE_207
#define __COMPILE_208
#define __COMPILE_209
#define __COMPILE_210
#define __COMPILE_211
#define __COMPILE_212
#define __COMPILE_213
#define __COMPILE_214
#define __COMPILE_215
#define __COMPILE_216
#define __COMPILE_217
#define __COMPILE_218
#define __COMPILE_219
#define __COMPILE_220
#define __COMPILE_221
#define __COMPILE_222
#define __COMPILE_223
#define __COMPILE_224
#define __COMPILE_225
#define __COMPILE_226
#define __COMPILE_227
#define __COMPILE_228
#define __COMPILE_229
#define __COMPILE_230
#define __COMPILE_231
#define __COMPILE_232
#define __COMPILE_233
#define __COMPILE_234
#define __COMPILE_235
#define __COMPILE_236
#define __COMPILE_237
#define __COMPILE_238
#define __COMPILE_239
#define __COMPILE_240
#define __COMPILE_241
#define __COMPILE_242
#define __COMPILE_243
#define __COMPILE_244
#define __COMPILE_245
#define __COMPILE_246
#define __COMPILE_247
#define __COMPILE_248
#define __COMPILE_249
#define __COMPILE_250
#define __COMPILE_251
#define __COMPILE_252
#define __COMPILE_253
#define __COMPILE_254
#define __COMPILE_255
#define __COMPILE_256
#define __COMPILE_257
#define __COMPILE_258
#define __COMPILE_259
#define __COMPILE_260
#define __COMPILE_261
#define __COMPILE_262
#define __COMPILE_263
#define __COMPILE_264
#define __COMPILE_265
#define __COMPILE_266
#define __COMPILE_267
#define __COMPILE_268
#define __COMPILE_269
#define __COMPILE_270
#define __COMPILE_271
#define __COMPILE_272
#define __COMPILE_273
#define __COMPILE_274
#define __COMPILE_275
#define __COMPILE_276
#define __COMPILE_277
#define __COMPILE_278
#define __COMPILE_279
#define __COMPILE_280
#define __COMPILE_281
#define __COMPILE_282
#define __COMPILE_283
#define __COMPILE_284
#define __COMPILE_285
#define __COMPILE_286
#define __COMPILE_287
#define __COMPILE_288
#define __COMPILE_289
#define __COMPILE_290
#define __COMPILE_291
#define __COMPILE_292
#define __COMPILE_293
#define __COMPILE_294
#define __COMPILE_295
#define __COMPILE_296
#define __COMPILE_297
#define __COMPILE_298
#define __COMPILE_299
#define __COMPILE_300
#define __COMPILE_301
#define __COMPILE_302
#define __COMPILE_303
#define __COMPILE_304
#define __COMPILE_305
#define __COMPILE_306
#define __COMPILE_307
#define __COMPILE_308
#define __COMPILE_309
#define __COMPILE_310
#define __COMPILE_311
#define __COMPILE_312
#define __COMPILE_313
#define __COMPILE_314
#define __COMPILE_315
#define __COMPILE_316
#define __COMPILE_317
#define __COMPILE_318
#define __COMPILE_319
#define __COMPILE_320
#define __COMPILE_321
#define __COMPILE_322
#define __COMPILE_323
#define __COMPILE_324
#define __COMPILE_325
#define __COMPILE_326
#define __COMPILE_327
#define __COMPILE_328
#define __COMPILE_329
#define __COMPILE_330
#define __COMPILE_331
#define __COMPILE_332
#define __COMPILE_333
#define __COMPILE_334
#define __COMPILE_335
#define __COMPILE_336
#define __COMPILE_337
#define __COMPILE_338
#define __COMPILE_339
#define __COMPILE_340
#define __COMPILE_341
#define __COMPILE_342
#define __COMPILE_343
#define __COMPILE_344
#define __COMPILE_345
#define __COMPILE_346
#define __COMPILE_347
#define __COMPILE_348
#define __COMPILE_349
#define __COMPILE_350
#define __COMPILE_351
#define __COMPILE_352
#define __COMPILE_353
#define __COMPILE_354
#define __COMPILE_355
#define __COMPILE_356
#define __COMPILE_357
#define __COMPILE_358
#define __COMPILE_359
#define __COMPILE_360
#define __COMPILE_361
#define __COMPILE_362
#define __COMPILE_363
#define __COMPILE_364
#define __COMPILE_365
#define __COMPILE_366
#define __COMPILE_367
#define __COMPILE_368
#define __COMPILE_369
#define __COMPILE_370
#define __COMPILE_371
#define __COMPILE_372
#define __COMPILE_373
#define __COMPILE_374
#define __COMPILE_375
#define __COMPILE_376
#define __COMPILE_377
#define __COMPILE_378
#define __COMPILE_379
#define __COMPILE_380
#define __COMPILE_381
#define __COMPILE_382
#define __COMPILE_383
#define __COMPILE_384
#define __COMPILE_385
#define __COMPILE_386
#define __COMPILE_387
#define __COMPILE_388
#define __COMPILE_389
#define __COMPILE_390
#define __COMPILE_391
#define __COMPILE_392
#define __COMPILE_393
#define __COMPILE_394
#define __COMPILE_395
#define __COMPILE_396
#define __COMPILE_397
#define __COMPILE_398
#define __COMPILE_399
#define __COMPILE_400
#define __COMPILE_401
#define __COMPILE_402
#define __COMPILE_403
#define __COMPILE_404
#define __COMPILE_405
#define __COMPILE_406
#define __COMPILE_407
#define __COMPILE_408
#define __COMPILE_409
#define __COMPILE_410
#define __COMPILE_411
#define __COMPILE_412
#define __COMPILE_413
#define __COMPILE_414
#define __COMPILE_415
#define __COMPILE_416
#define __COMPILE_417
#define __COMPILE_418
#define __COMPILE_419
#define __COMPILE_420
#define __COMPILE_421
#define __COMPILE_422
#define __COMPILE_423
#define __COMPILE_424
#define __COMPILE_425
#define __COMPILE_426
#define __COMPILE_427
#define __COMPILE_428
#define __COMPILE_429
#define __COMPILE_430
#define __COMPILE_431
#define __COMPILE_432
#define __COMPILE_433
#define __COMPILE_434
#define __COMPILE_435
#define __COMPILE_436
#define __COMPILE_437
#define __COMPILE_438
#define __COMPILE_439
#define __COMPILE_440
#define __COMPILE_441
#define __COMPILE_442
#define __COMPILE_443
#define __COMPILE_444
#define __COMPILE_445
#define __COMPILE_446
#define __COMPILE_447
#define __COMPILE_448
#define __COMPILE_449
#define __COMPILE_450
#define __COMPILE_451
#define __COMPILE_452
#define __COMPILE_453
#define __COMPILE_454
#define __COMPILE_455
#define __COMPILE_456
#define __COMPILE_457
#define __COMPILE_458
#define __COMPILE_459
#define __COMPILE_460
#define __COMPILE_461
#define __COMPILE_462
#define __COMPILE_463
#define __COMPILE_464
#define __COMPILE_465
#define __COMPILE_466
#define __COMPILE_467
#define __COMPILE_468
#define __COMPILE_469
#define __COMPILE_470
#define __COMPILE_471
#define __COMPILE_472
#define __COMPILE_473
#define __COMPILE_474
#define __COMPILE_475
#define __COMPILE_476
#define __COMPILE_477
#define __COMPILE_478
#define __COMPILE_479
#define __COMPILE_480
#define __COMPILE_481
#define __COMPILE_482
#define __COMPILE_483
#define __COMPILE_484
#define __COMPILE_485
#define __COMPILE_486
#define __COMPILE_487
#define __COMPILE_488
#define __COMPILE_489
#define __COMPILE_490
#define __COMPILE_491
#define __COMPILE_492
#define __COMPILE_493
#define __COMPILE_494
#define __COMPILE_495
#define __COMPILE_496
#define __COMPILE_497
#define __COMPILE_498
#define __COMPILE_499
#define __COMPILE_500
#define __COMPILE_501
#define __COMPILE_502
#define __COMPILE_503
#define __COMPILE_504
#define __COMPILE_505
#define __COMPILE_506
#define __COMPILE_507
#define __COMPILE_508
#define __COMPILE_509
#define __COMPILE_510
#define __COMPILE_511
#define __COMPILE_512
#define __COMPILE_513
#define __COMPILE_514
#define __COMPILE_515
#define __COMPILE_516
#define __COMPILE_517
#define __COMPILE_518
#define __COMPILE_519
#define __COMPILE_520
#define __COMPILE_521
#define __COMPILE_522
#define __COMPILE_523
#define __COMPILE_524
#define __COMPILE_525
#define __COMPILE_526
#define __COMPILE_527
#define __COMPILE_528
#define __COMPILE_529
#define __COMPILE_530
#define __COMPILE_531
#define __COMPILE_532
#define __COMPILE_533
#define __COMPILE_534
#define __COMPILE_535
#define __COMPILE_536
#define __COMPILE_537
#define __COMPILE_538
#define __COMPILE_539
#define __COMPILE_540
#define __COMPILE_541
#define __COMPILE_542
#define __COMPILE_543
#define __COMPILE_544
#define __COMPILE_545
#define __COMPILE_546
#define __COMPILE_547
#define __COMPILE_548
#define __COMPILE_549
#define __COMPILE_550
#define __COMPILE_551
#define __COMPILE_552
#define __COMPILE_553
#define __COMPILE_554
#define __COMPILE_555
#define __COMPILE_556
#define __COMPILE_557
#define __COMPILE_558
#define __COMPILE_559
#define __COMPILE_560
#define __COMPILE_561
#define __COMPILE_562
#define __COMPILE_563
#define __COMPILE_564
#define __COMPILE_565
#define __COMPILE_566
#define __COMPILE_567
#define __COMPILE_568
#define __COMPILE_569
#define __COMPILE_570
#define __COMPILE_571
#define __COMPILE_572
#define __COMPILE_573
#define __COMPILE_574
#define __COMPILE_575
#define __COMPILE_576
#define __COMPILE_577
#define __COMPILE_578
#define __COMPILE_579
#define __COMPILE_580
#define __COMPILE_581
#define __COMPILE_582
#define __COMPILE_583
#define __COMPILE_584
#define __COMPILE_585
#define __COMPILE_586
#define __COMPILE_587
#define __COMPILE_588
#define __COMPILE_589
#define __COMPILE_590
#define __COMPILE_591
#define __COMPILE_592
#define __COMPILE_593
#define __COMPILE_594
#define __COMPILE_595
#define __COMPILE_596
#define __COMPILE_597
#define __COMPILE_598
#define __COMPILE_599
#define __COMPILE_600
#define __COMPILE_601
#define __COMPILE_602
#define __COMPILE_603
#define __COMPILE_604
#define __COMPILE_605
#define __COMPILE_606
#define __COMPILE_607
#define __COMPILE_608
#define __COMPILE_609
#define __COMPILE_610
#define __COMPILE_611
#define __COMPILE_612
#define __COMPILE_613
#define __COMPILE_614
#define __COMPILE_615
#define __COMPILE_616
#define __COMPILE_617
#define __COMPILE_618
#define __COMPILE_619
#define __COMPILE_620
#define __COMPILE_621
#define __COMPILE_622
#define __COMPILE_623
#define __COMPILE_624
#define __COMPILE_625
#define __COMPILE_626
#define __COMPILE_627
#define __COMPILE_628
#define __COMPILE_629
#define __COMPILE_630
#define __COMPILE_631
#define __COMPILE_632
#define __COMPILE_633
#define __COMPILE_634
#define __COMPILE_635
#define __COMPILE_636
#define __COMPILE_637
#define __COMPILE_638
#define __COMPILE_639
#define __COMPILE_640
#define __COMPILE_641
#define __COMPILE_642
#define __COMPILE_643
#define __COMPILE_644
#define __COMPILE_645
#define __COMPILE_646
#define __COMPILE_647
#define __COMPILE_648
#define __COMPILE_649
#define __COMPILE_650
#define __COMPILE_651
#define __COMPILE_652
#define __COMPILE_653
#define __COMPILE_654
#define __COMPILE_655
#define __COMPILE_656
#define __COMPILE_657
#define __COMPILE_658
#define __COMPILE_659
#define __COMPILE_660
#define __COMPILE_661
#define __COMPILE_662
#define __COMPILE_663
#define __COMPILE_664
#define __COMPILE_665
#define __COMPILE_666
#define __COMPILE_667
#define __COMPILE_668
#define __COMPILE_669
#define __COMPILE_670
#define __COMPILE_671
#define __COMPILE_672
#define __COMPILE_673
#define __COMPILE_674
#define __COMPILE_675
#define __COMPILE_676
#define __COMPILE_677
#define __COMPILE_678
#define __COMPILE_679
#define __COMPILE_680
#define __COMPILE_681
#define __COMPILE_682
#define __COMPILE_683
#define __COMPILE_684
#define __COMPILE_685
#define __COMPILE_686
#define __COMPILE_687
#define __COMPILE_688
#define __COMPILE_689
#define __COMPILE_690
#define __COMPILE_691
#define __COMPILE_692
#define __COMPILE_693
#define __COMPILE_694
#define __COMPILE_695
#define __COMPILE_696
#define __COMPILE_697
#define __COMPILE_698
#define __COMPILE_699
#define __COMPILE_700
#define __COMPILE_701
#define __COMPILE_702
#define __COMPILE_703
#define __COMPILE_704
#define __COMPILE_705
#define __COMPILE_706
#define __COMPILE_707
#define __COMPILE_708
#define __COMPILE_709
#define __COMPILE_710
#define __COMPILE_711
#define __COMPILE_712
#define __COMPILE_713
#define __COMPILE_714
#define __COMPILE_715
#define __COMPILE_716
#define __COMPILE_717
#define __COMPILE_718
#define __COMPILE_719
#define __COMPILE_720
#define __COMPILE_721
#define __COMPILE_722
#define __COMPILE_723
#define __COMPILE_724
#define __COMPILE_725
#define __COMPILE_726
#define __COMPILE_727
#define __COMPILE_728
#define __COMPILE_729
#define __COMPILE_730
#define __COMPILE_731
#define __COMPILE_732
#define __COMPILE_733
#define __COMPILE_734
#define __COMPILE_735
#define __COMPILE_736
#define __COMPILE_737
#define __COMPILE_738
#define __COMPILE_739
#define __COMPILE_740
#define __COMPILE_741
#define __COMPILE_742
#define __COMPILE_743
#define __COMPILE_744
#define __COMPILE_745
#define __COMPILE_746
#define __COMPILE_747
#define __COMPILE_748
#define __COMPILE_749
#define __COMPILE_750
#define __COMPILE_751
#define __COMPILE_752
#define __COMPILE_753
#define __COMPILE_754
#define __COMPILE_755
#define __COMPILE_756
#define __COMPILE_757
#define __COMPILE_758
#define __COMPILE_759
#define __COMPILE_760
#define __COMPILE_761
#define __COMPILE_762
#define __COMPILE_763
#define __COMPILE_764
#define __COMPILE_765
#define __COMPILE_766
#define __COMPILE_767
#define __COMPILE_768
#define __COMPILE_769
#define __COMPILE_770
#define __COMPILE_771
#define __COMPILE_772
#define __COMPILE_773
#define __COMPILE_774
#define __COMPILE_775
#define __COMPILE_776
#define __COMPILE_777
#define __COMPILE_778
#define __COMPILE_779
#define __COMPILE_780
#define __COMPILE_781
#define __COMPILE_782
#define __COMPILE_783
#define __COMPILE_784
#define __COMPILE_785
#define __COMPILE_786
#define __COMPILE_787
#define __COMPILE_788
#define __COMPILE_789
#define __COMPILE_790
#define __COMPILE_791
#define __COMPILE_792
#define __COMPILE_793
#define __COMPILE_794
#define __COMPILE_795
#define __COMPILE_796
#define __COMPILE_797
#define __COMPILE_798
#define __COMPILE_799
#define __COMPILE_800
#define __COMPILE_801
#define __COMPILE_802
#define __COMPILE_803
#define __COMPILE_804
#define __COMPILE_805
#define __COMPILE_806
#define __COMPILE_807
#define __COMPILE_808
#define __COMPILE_809
#define __COMPILE_810
#define __COMPILE_811
#define __COMPILE_812
#define __COMPILE_813
#define __COMPILE_814
#define __COMPILE_815
#define __COMPILE_816
#define __COMPILE_817
#define __COMPILE_818
#define __COMPILE_819
#define __COMPILE_820
#define __COMPILE_821
#define __COMPILE_822
#define __COMPILE_823
#define __COMPILE_824
#define __COMPILE_825
#define __COMPILE_826
#define __COMPILE_827
#define __COMPILE_828
#define __COMPILE_829
#define __COMPILE_830
#define __COMPILE_831
#define __COMPILE_832
#define __COMPILE_833
#define __COMPILE_834
#define __COMPILE_835
#define __COMPILE_836
#define __COMPILE_837
#define __COMPILE_838
#define __COMPILE_839
#define __COMPILE_840
#define __COMPILE_841
#define __COMPILE_842
#define __COMPILE_843
#define __COMPILE_844
#define __COMPILE_845
#define __COMPILE_846
#define __COMPILE_847
#define __COMPILE_848
#define __COMPILE_849
#define __COMPILE_850
#define __COMPILE_851
#define __COMPILE_852
#define __COMPILE_853
#define __COMPILE_854
#define __COMPILE_855
#define __COMPILE_856
#define __COMPILE_857
#define __COMPILE_858
#define __COMPILE_859
#define __COMPILE_860
#define __COMPILE_861
#define __COMPILE_862
#define __COMPILE_863
#define __COMPILE_864
#define __COMPILE_865
#define __COMPILE_866
#define __COMPILE_867
#define __COMPILE_868
#define __COMPILE_869
#define __COMPILE_870
#define __COMPILE_871
#define __COMPILE_872
#define __COMPILE_873
#define __COMPILE_874
#define __COMPILE_875
#define __COMPILE_876
#define __COMPILE_877
#define __COMPILE_878
#define __COMPILE_879
#define __COMPILE_880
#define __COMPILE_881
#define __COMPILE_882
#define __COMPILE_883
#define __COMPILE_884
#define __COMPILE_885
#define __COMPILE_886
#define __COMPILE_887
#define __COMPILE_888
#define __COMPILE_889
#define __COMPILE_890
#define __COMPILE_891
#define __COMPILE_892
#define __COMPILE_893
#define __COMPILE_894
#define __COMPILE_895
#define __COMPILE_896
#define __COMPILE_897
#define __COMPILE_898
#define __COMPILE_899
#define __COMPILE_900
#define __COMPILE_901
#define __COMPILE_902
#define __COMPILE_903
#define __COMPILE_904
#define __COMPILE_905
#define __COMPILE_906
#define __COMPILE_907
#define __COMPILE_908
#define __COMPILE_909
#define __COMPILE_910
#define __COMPILE_911
#define __COMPILE_912
#define __COMPILE_913
#define __COMPILE_914
#define __COMPILE_915
#define __COMPILE_916
#define __COMPILE_917
#define __COMPILE_918
#define __COMPILE_919
#define __COMPILE_920
#define __COMPILE_921
#define __COMPILE_922
#define __COMPILE_923
#define __COMPILE_924
#define __COMPILE_925
#define __COMPILE_926
#define __COMPILE_927
#define __COMPILE_928
#define __COMPILE_929
#define __COMPILE_930
#define __COMPILE_931
#define __COMPILE_932
#define __COMPILE_933
#define __COMPILE_934
#define __COMPILE_935
#define __COMPILE_936
#define __COMPILE_937
#define __COMPILE_938
#define __COMPILE_939
#define __COMPILE_940
#define __COMPILE_941
#define __COMPILE_942
#define __COMPILE_943
#define __COMPILE_944
#define __COMPILE_945
#define __COMPILE_946
#define __COMPILE_947
#define __COMPILE_948
#define __COMPILE_949
#define __COMPILE_950
#define __COMPILE_951
#define __COMPILE_952
#define __COMPILE_953
#define __COMPILE_954
#define __COMPILE_955
#define __COMPILE_956
#define __COMPILE_957
#define __COMPILE_958
#define __COMPILE_959
#define __COMPILE_960
#define __COMPILE_961
#define __COMPILE_962
#define __COMPILE_963
#define __COMPILE_964
#define __COMPILE_965
#define __COMPILE_966
#define __COMPILE_967
#define __COMPILE_968
#define __COMPILE_969
#define __COMPILE_970
#define __COMPILE_971
#define __COMPILE_972
#define __COMPILE_973
#define __COMPILE_974
#define __COMPILE_975
#define __COMPILE_976
#define __COMPILE_977
#define __COMPILE_978
#define __COMPILE_979
#define __COMPILE_980
#define __COMPILE_981
#define __COMPILE_982
#define __COMPILE_983
#define __COMPILE_984
#define __COMPILE_985
#define __COMPILE_986
#define __COMPILE_987
#define __COMPILE_988
#define __COMPILE_989
#define __COMPILE_990
#define __COMPILE_991
#define __COMPILE_992
#define __COMPILE_993
#define __COMPILE_994
#define __COMPILE_995
#define __COMPILE_996
#define __COMPILE_997
#define __COMPILE_998
#define __COMPILE_999
#define __COMPILE_1000
#define __COMPILE_1001
#define __COMPILE_1002
#define __COMPILE_1003
#define __COMPILE_1004
#define __COMPILE_1005
#define __COMPILE_1006
#define __COMPILE_1007
#define __COMPILE_1008
#define __COMPILE_1009
#define __COMPILE_1010
#define __COMPILE_1011
#define __COMPILE_1012
#define __COMPILE_1013
#define __COMPILE_1014
#define __COMPILE_1015
#define __COMPILE_1016
#define __COMPILE_1017
#define __COMPILE_1018
#define __COMPILE_1019
#define __COMPILE_1020
#define __COMPILE_1021
#define __COMPILE_1022
#define __COMPILE_1023
#define __COMPILE_1024
#define __COMPILE_1025
#define __COMPILE_1026
#define __COMPILE_1027
#define __COMPILE_1028
#define __COMPILE_1029
#define __COMPILE_1030
#define __COMPILE_1031
#define __COMPILE_1032
#define __COMPILE_1033
#define __COMPILE_1034
#define __COMPILE_1035
#define __COMPILE_1036
#define __COMPILE_1037
#define __COMPILE_1038
#define __COMPILE_1039
#define __COMPILE_1040
#define __COMPILE_1041
#define __COMPILE_1042
#define __COMPILE_1043
#define __COMPILE_1044
#define __COMPILE_1045
#define __COMPILE_1046
#define __COMPILE_1047
#define __COMPILE_1048
#define __COMPILE_1049
#define __COMPILE_1050
#define __COMPILE_1051
#define __COMPILE_1052
#define __COMPILE_1053
#define __COMPILE_1054
#define __COMPILE_1055
#define __COMPILE_1056
#define __COMPILE_1057
#define __COMPILE_1058
#define __COMPILE_1059
#define __COMPILE_1060
#define __COMPILE_1061
#define __COMPILE_1062
#define __COMPILE_1063
#define __COMPILE_1064
#define __COMPILE_1065
#define __COMPILE_1066
#define __COMPILE_1067
#define __COMPILE_1068
#define __COMPILE_1069
#define __COMPILE_1070
#define __COMPILE_1071
#define __COMPILE_1072
#define __COMPILE_1073
#define __COMPILE_1074
#define __COMPILE_1075
#define __COMPILE_1076
#define __COMPILE_1077
#define __COMPILE_1078
#define __COMPILE_1079
#define __COMPILE_1080
#define __COMPILE_1081
#define __COMPILE_1082
#define __COMPILE_1083
#define __COMPILE_1084
#define __COMPILE_1085
#define __COMPILE_1086
#define __COMPILE_1087
#define __COMPILE_1088
#define __COMPILE_1089
#define __COMPILE_1090
#define __COMPILE_1091
#define __COMPILE_1092
#define __COMPILE_1093
#define __COMPILE_1094
#define __COMPILE_1095
#define __COMPILE_1096
#define __COMPILE_1097
#define __COMPILE_1098
#define __COMPILE_1099
#define __COMPILE_1100
#define __COMPILE_1101
#define __COMPILE_1102
#define __COMPILE_1103
#define __COMPILE_1104
#define __COMPILE_1105
#define __COMPILE_1106
#define __COMPILE_1107
#define __COMPILE_1108
#define __COMPILE_1109
#define __COMPILE_1110
#define __COMPILE_1111
#define __COMPILE_1112
#define __COMPILE_1113
#define __COMPILE_1114
#define __COMPILE_1115
#define __COMPILE_1116
#define __COMPILE_1117
#define __COMPILE_1118
#define __COMPILE_1119
#define __COMPILE_1120
#define __COMPILE_1121
#define __COMPILE_1122
#define __COMPILE_1123
#define __COMPILE_1124
#define __COMPILE_1125
#define __COMPILE_1126
#define __COMPILE_1127
#define __COMPILE_1128
#define __COMPILE_1129
#define __COMPILE_1130
#define __COMPILE_1131
#define __COMPILE_1132
#define __COMPILE_1133
#define __COMPILE_1134
#define __COMPILE_1135
#define __COMPILE_1136
#define __COMPILE_1137
#define __COMPILE_1138
#define __COMPILE_1139
#define __COMPILE_1140
#define __COMPILE_1141
#define __COMPILE_1142
#define __COMPILE_1143
#define __COMPILE_1144
#define __COMPILE_1145
#define __COMPILE_1146
#define __COMPILE_1147
#define __COMPILE_1148
#define __COMPILE_1149
#define __COMPILE_1150
#define __COMPILE_1151
#define __COMPILE_1152
#define __COMPILE_1153
#define __COMPILE_1154
#define __COMPILE_1155
#define __COMPILE_1156
#define __COMPILE_1157
#define __COMPILE_1158
#define __COMPILE_1159
#define __COMPILE_1160
#define __COMPILE_1161
#define __COMPILE_1162
#define __COMPILE_1163
#define __COMPILE_1164
#define __COMPILE_1165
#define __COMPILE_1166
#define __COMPILE_1167
#define __COMPILE_1168
#define __COMPILE_1169
#define __COMPILE_1170
#define __COMPILE_1171
#define __COMPILE_1172
#define __COMPILE_1173
#define __COMPILE_1174
#define __COMPILE_1175
#define __COMPILE_1176
#define __COMPILE_1177
#define __COMPILE_1178
#define __COMPILE_1179
#define __COMPILE_1180
#define __COMPILE_1181
#define __COMPILE_1182
#define __COMPILE_1183
#define __COMPILE_1184
#define __COMPILE_1185
#define __COMPILE_1186
#define __COMPILE_1187
#define __COMPILE_1188
#define __COMPILE_1189
#define __COMPILE_1190
#define __COMPILE_1191
#define __COMPILE_1192
#define __COMPILE_1193
#define __COMPILE_1194
#define __COMPILE_1195
#define __COMPILE_1196
#define __COMPILE_1197
#define __COMPILE_1198
#define __COMPILE_1199
#define __COMPILE_1200
#define __COMPILE_1201
#define __COMPILE_1202
#define __COMPILE_1203
#define __COMPILE_1204
#define __COMPILE_1205
#define __COMPILE_1206
#define __COMPILE_1207
#define __COMPILE_1208
#define __COMPILE_1209
#define __COMPILE_1210
#define __COMPILE_1211
#define __COMPILE_1212
#define __COMPILE_1213
#define __COMPILE_1214
#define __COMPILE_1215
#define __COMPILE_1216
#define __COMPILE_1217
#define __COMPILE_1218
#define __COMPILE_1219
#define __COMPILE_1220
#define __COMPILE_1221
#define __COMPILE_1222
#define __COMPILE_1223
#define __COMPILE_1224
#define __COMPILE_1225
#define __COMPILE_1226
#define __COMPILE_1227
#define __COMPILE_1228
#define __COMPILE_1229
#define __COMPILE_1230
#define __COMPILE_1231
#define __COMPILE_1232
#define __COMPILE_1233
#define __COMPILE_1234
#define __COMPILE_1235
#define __COMPILE_1236
#define __COMPILE_1237
#define __COMPILE_1238
#define __COMPILE_1239
#define __COMPILE_1240
#define __COMPILE_1241
#define __COMPILE_1242
#define __COMPILE_1243
#define __COMPILE_1244
#define __COMPILE_1245
#define __COMPILE_1246
#define __COMPILE_1247
#define __COMPILE_1248
#define __COMPILE_1249
#define __COMPILE_1250
#define __COMPILE_1251
#define __COMPILE_1252
#define __COMPILE_1253
#define __COMPILE_1254
#define __COMPILE_1255
#define __COMPILE_1256
#define __COMPILE_1257
#define __COMPILE_1258
#define __COMPILE_1259
#define __COMPILE_1260
#define __COMPILE_1261
#define __COMPILE_1262
#define __COMPILE_1263
#define __COMPILE_1264
#define __COMPILE_1265
#define __COMPILE_1266
#define __COMPILE_1267
#define __COMPILE_1268
#define __COMPILE_1269
#define __COMPILE_1270
#define __COMPILE_1271
#define __COMPILE_1272
#define __COMPILE_1273
#define __COMPILE_1274
#define __COMPILE_1275
#define __COMPILE_1276
#define __COMPILE_1277
#define __COMPILE_1278
#define __COMPILE_1279
#define __COMPILE_1280
#define __COMPILE_1281
#define __COMPILE_1282
#define __COMPILE_1283
#define __COMPILE_1284
#define __COMPILE_1285
#define __COMPILE_1286
#define __COMPILE_1287
#define __COMPILE_1288
#define __COMPILE_1289
#define __COMPILE_1290
#define __COMPILE_1291
#define __COMPILE_1292
#define __COMPILE_1293
#define __COMPILE_1294
#define __COMPILE_1295
#define __COMPILE_1296
#define __COMPILE_1297
#define __COMPILE_1298
#define __COMPILE_1299
#define __COMPILE_1300
#define __COMPILE_1301
#define __COMPILE_1302
#define __COMPILE_1303
#define __COMPILE_1304
#define __COMPILE_1305
#define __COMPILE_1306
#define __COMPILE_1307
#define __COMPILE_1308
#define __COMPILE_1309
#define __COMPILE_1310
#define __COMPILE_1311
#define __COMPILE_1312
#define __COMPILE_1313
#define __COMPILE_1314
#define __COMPILE_1315
#define __COMPILE_1316
#define __COMPILE_1317
#define __COMPILE_1318
#define __COMPILE_1319
#define __COMPILE_1320
#define __COMPILE_1321
#define __COMPILE_1322
#define __COMPILE_1323
#define __COMPILE_1324
#define __COMPILE_1325
#define __COMPILE_1326
#define __COMPILE_1327
#define __COMPILE_1328
#define __COMPILE_1329
#define __COMPILE_1330
#define __COMPILE_1331
#define __COMPILE_1332
#define __COMPILE_1333
#define __COMPILE_1334
#define __COMPILE_1335
#define __COMPILE_1336
#define __COMPILE_1337
#define __COMPILE_1338
#define __COMPILE_1339
#define __COMPILE_1340
#define __COMPILE_1341
#define __COMPILE_1342
#define __COMPILE_1343
#define __COMPILE_1344
#define __COMPILE_1345
#define __COMPILE_1346
#define __COMPILE_1347
#define __COMPILE_1348
#define __COMPILE_1349
#define __COMPILE_1350
#define __COMPILE_1351
#define __COMPILE_1352
#define __COMPILE_1353
#define __COMPILE_1354
#define __COMPILE_1355
#define __COMPILE_1356
#define __COMPILE_1357
#define __COMPILE_1358
#define __COMPILE_1359
#define __COMPILE_1360
#define __COMPILE_1361
#define __COMPILE_1362
#define __COMPILE_1363
#define __COMPILE_1364
#define __COMPILE_1365
#define __COMPILE_1366
#define __COMPILE_1367
#define __COMPILE_1368
#define __COMPILE_1369
#define __COMPILE_1370
#define __COMPILE_1371
#define __COMPILE_1372
#define __COMPILE_1373
#define __COMPILE_1374
#define __COMPILE_1375
#define __COMPILE_1376
#define __COMPILE_1377
#define __COMPILE_1378
#define __COMPILE_1379
#define __COMPILE_1380
#define __COMPILE_1381
#define __COMPILE_1382
#define __COMPILE_1383
#define __COMPILE_1384
#define __COMPILE_1385
#define __COMPILE_1386
#define __COMPILE_1387
#define __COMPILE_1388
#define __COMPILE_1389
#define __COMPILE_1390
#define __COMPILE_1391
#define __COMPILE_1392
#define __COMPILE_1393
#define __COMPILE_1394
#define __COMPILE_1395
#define __COMPILE_1396
#define __COMPILE_1397
#define __COMPILE_1398
#define __COMPILE_1399
#define __COMPILE_1400
#define __COMPILE_1401
#define __COMPILE_1402
#define __COMPILE_1403
#define __COMPILE_1404
#define __COMPILE_1405
#define __COMPILE_1406
#define __COMPILE_1407
#define __COMPILE_1408
#define __COMPILE_1409
#define __COMPILE_1410
#define __COMPILE_1411
#define __COMPILE_1412
#define __COMPILE_1413
#define __COMPILE_1414
#define __COMPILE_1415
#define __COMPILE_1416
#define __COMPILE_1417
#define __COMPILE_1418
#define __COMPILE_1419
#define __COMPILE_1420
#define __COMPILE_1421
#define __COMPILE_1422
#define __COMPILE_1423
#define __COMPILE_1424
#define __COMPILE_1425
#define __COMPILE_1426
#define __COMPILE_1427
#define __COMPILE_1428
#define __COMPILE_1429
#define __COMPILE_1430
#define __COMPILE_1431
#define __COMPILE_1432
#define __COMPILE_1433
#define __COMPILE_1434
#define __COMPILE_1435
#define __COMPILE_1436
#define __COMPILE_1437
#define __COMPILE_1438
#define __COMPILE_1439
#define __COMPILE_1440
#define __COMPILE_1441
#define __COMPILE_1442
#define __COMPILE_1443
#define __COMPILE_1444
#define __COMPILE_1445
#define __COMPILE_1446
#define __COMPILE_1447
#define __COMPILE_1448
#define __COMPILE_1449
#define __COMPILE_1450
#define __COMPILE_1451
#define __COMPILE_1452
#define __COMPILE_1453
#define __COMPILE_1454
#define __COMPILE_1455
#define __COMPILE_1456
#define __COMPILE_1457
#define __COMPILE_1458
#define __COMPILE_1459
#define __COMPILE_1460
#define __COMPILE_1461
#define __COMPILE_1462
#define __COMPILE_1463
#define __COMPILE_1464
#define __COMPILE_1465
#define __COMPILE_1466
#define __COMPILE_1467
#define __COMPILE_1468
#define __COMPILE_1469
#define __COMPILE_1470
#define __COMPILE_1471
#define __COMPILE_1472
#define __COMPILE_1473
#define __COMPILE_1474
#define __COMPILE_1475
#define __COMPILE_1476
#define __COMPILE_1477
#define __COMPILE_1478
#define __COMPILE_1479
#define __COMPILE_1480
#define __COMPILE_1481
#define __COMPILE_1482
#define __COMPILE_1483
#define __COMPILE_1484
#define __COMPILE_1485
#define __COMPILE_1486
#define __COMPILE_1487
#define __COMPILE_1488
#define __COMPILE_1489
#define __COMPILE_1490
#define __COMPILE_1491
#define __COMPILE_1492
#define __COMPILE_1493
#define __COMPILE_1494
#define __COMPILE_1495
#define __COMPILE_1496
#define __COMPILE_1497
#define __COMPILE_1498
#define __COMPILE_1499
#define __COMPILE_1500
#define __COMPILE_1501
#define __COMPILE_1502
#define __COMPILE_1503
#define __COMPILE_1504
#define __COMPILE_1505
#define __COMPILE_1506
#define __COMPILE_1507
#define __COMPILE_1508
#define __COMPILE_1509
#define __COMPILE_1510
#define __COMPILE_1511
#define __COMPILE_1512
#define __COMPILE_1513
#define __COMPILE_1514
#define __COMPILE_1515
#define __COMPILE_1516
#define __COMPILE_1517
#define __COMPILE_1518
#define __COMPILE_1519
#define __COMPILE_1520
#define __COMPILE_1521
#define __COMPILE_1522
#define __COMPILE_1523
#define __COMPILE_1524
#define __COMPILE_1525
#define __COMPILE_1526
#define __COMPILE_1527
#define __COMPILE_1528
#define __COMPILE_1529
#define __COMPILE_1530
#define __COMPILE_1531
#define __COMPILE_1532
#define __COMPILE_1533
#define __COMPILE_1534
#define __COMPILE_1535
#define __COMPILE_1536
#define __COMPILE_1537
#define __COMPILE_1538
#define __COMPILE_1539
#define __COMPILE_1540
#define __COMPILE_1541
#define __COMPILE_1542
#define __COMPILE_1543
#define __COMPILE_1544
#define __COMPILE_1545
#define __COMPILE_1546
#define __COMPILE_1547
#define __COMPILE_1548
#define __COMPILE_1549
#define __COMPILE_1550
#define __COMPILE_1551
#define __COMPILE_1552
#define __COMPILE_1553
#define __COMPILE_1554
#define __COMPILE_1555
#define __COMPILE_1556
#define __COMPILE_1557
#define __COMPILE_1558
#define __COMPILE_1559
#define __COMPILE_1560
#define __COMPILE_1561
#define __COMPILE_1562
#define __COMPILE_1563
#define __COMPILE_1564
#define __COMPILE_1565
#define __COMPILE_1566
#define __COMPILE_1567
#define __COMPILE_1568
#define __COMPILE_1569
#define __COMPILE_1570
#define __COMPILE_1571
#define __COMPILE_1572
#define __COMPILE_1573
#define __COMPILE_1574
#define __COMPILE_1575
#define __COMPILE_1576
#define __COMPILE_1577
#define __COMPILE_1578
#define __COMPILE_1579
#define __COMPILE_1580
#define __COMPILE_1581
#define __COMPILE_1582
#define __COMPILE_1583
#define __COMPILE_1584
#define __COMPILE_1585
#define __COMPILE_1586
#define __COMPILE_1587
#define __COMPILE_1588
#define __COMPILE_1589
#define __COMPILE_1590
#define __COMPILE_1591
#define __COMPILE_1592
#define __COMPILE_1593
#define __COMPILE_1594
#define __COMPILE_1595
#define __COMPILE_1596
#define __COMPILE_1597
#define __COMPILE_1598
#define __COMPILE_1599
#define __COMPILE_1600
#define __COMPILE_1601
#define __COMPILE_1602
#define __COMPILE_1603
#define __COMPILE_1604
#define __COMPILE_1605
#define __COMPILE_1606
#define __COMPILE_1607
#define __COMPILE_1608
#define __COMPILE_1609
#define __COMPILE_1610
#define __COMPILE_1611
#define __COMPILE_1612
#define __COMPILE_1613
#define __COMPILE_1614
#define __COMPILE_1615
#define __COMPILE_1616
#define __COMPILE_1617
#define __COMPILE_1618
#define __COMPILE_1619
#define __COMPILE_1620
#define __COMPILE_1621
#define __COMPILE_1622
#define __COMPILE_1623
#define __COMPILE_1624
#define __COMPILE_1625
#define __COMPILE_1626
#define __COMPILE_1627
#define __COMPILE_1628
#define __COMPILE_1629
#define __COMPILE_1630
#define __COMPILE_1631
#define __COMPILE_1632
#define __COMPILE_1633
#define __COMPILE_1634
#define __COMPILE_1635
#define __COMPILE_1636
#define __COMPILE_1637
#define __COMPILE_1638
#define __COMPILE_1639
#define __COMPILE_1640
#define __COMPILE_1641
#define __COMPILE_1642
#define __COMPILE_1643
#define __COMPILE_1644
#define __COMPILE_1645
#define __COMPILE_1646
#define __COMPILE_1647
#define __COMPILE_1648
#define __COMPILE_1649
#define __COMPILE_1650
#define __COMPILE_1651
#define __COMPILE_1652
#define __COMPILE_1653
#define __COMPILE_1654
#define __COMPILE_1655
#define __COMPILE_1656
#define __COMPILE_1657
#define __COMPILE_1658
#define __COMPILE_1659
#define __COMPILE_1660
#define __COMPILE_1661
#define __COMPILE_1662
#define __COMPILE_1663
#define __COMPILE_1664
#define __COMPILE_1665
#define __COMPILE_1666
#define __COMPILE_1667
#define __COMPILE_1668
#define __COMPILE_1669
#define __COMPILE_1670
#define __COMPILE_1671
#define __COMPILE_1672
#define __COMPILE_1673
#define __COMPILE_1674
#define __COMPILE_1675
#define __COMPILE_1676
#define __COMPILE_1677
#define __COMPILE_1678
#define __COMPILE_1679
#define __COMPILE_1680
#define __COMPILE_1681
#define __COMPILE_1682
#define __COMPILE_1683
#define __COMPILE_1684
#define __COMPILE_1685
#define __COMPILE_1686
#define __COMPILE_1687
#define __COMPILE_1688
#define __COMPILE_1689
#define __COMPILE_1690
#define __COMPILE_1691
#define __COMPILE_1692
#define __COMPILE_1693
#define __COMPILE_1694
#define __COMPILE_1695
#define __COMPILE_1696
#define __COMPILE_1697
#define __COMPILE_1698
#define __COMPILE_1699
#define __COMPILE_1700
#define __COMPILE_1701
// compile_fin
int __get_mutant(); int __is_neg(const char *location,char *lid,int count, ...); int __abst_hole(); char *__stat_write_init(const char *func_name);void __write_stat(char *str,const char *var_name,void *var_addr,int size); void __stat_file_close(const char *func_name,char *str);long long __mutate(const long long,const char *,const char *); int __trident_choice(char* lid, char* typestr,int* rvals, char** rvals_ids, int rvals_size,int** lvals, char** lvals_ids, int lvals_size);int __trident_output(char* id, char* typestr, int value);float fabs_trident(float a);int __choose(const char *);void *__var_select(unsigned int var_count,void *vars[]);void *__var_select_2(unsigned int var_count,void *vars[]);long long __const_select(unsigned int const_count, ...);void* memset(void*, int, unsigned long); 
/*
   +----------------------------------------------------------------------+
   | PHP Version 5                                                        |
   +----------------------------------------------------------------------+
   | Copyright (c) 1997-2011 The PHP Group                                |
   +----------------------------------------------------------------------+
   | This source file is subject to version 3.01 of the PHP license,      |
   | that is bundled with this package in the file LICENSE, and is        |
   | available through the world-wide-web at the following url:           |
   | http://www.php.net/license/3_01.txt                                  |
   | If you did not receive a copy of the PHP license and are unable to   |
   | obtain it through the world-wide-web, please send a note to          |
   | license@php.net so we can mail you a copy immediately.               |
   +----------------------------------------------------------------------+
   | Authors: Rasmus Lerdorf <rasmus@php.net>                             |
   |          Stig Sæther Bakken <ssb@php.net>                            |
   |          Zeev Suraski <zeev@zend.com>                                |
   +----------------------------------------------------------------------+
 */

/* $Id$ */

/* Synced with php 3.0 revision 1.193 1999-06-16 [ssb] */

#include <stdio.h>
#include "php.h"
#include "php_rand.h"
#include "php_string.h"
#include "php_variables.h"
#ifdef HAVE_LOCALE_H
# include <locale.h>
#endif
#ifdef HAVE_LANGINFO_H
# include <langinfo.h>
#endif
#ifdef HAVE_MONETARY_H
# include <monetary.h>
#endif
/* 
 * This define is here because some versions of libintl redefine setlocale
 * to point to libintl_setlocale.  That's a ridiculous thing to do as far
 * as I am concerned, but with this define and the subsequent undef we
 * limit the damage to just the actual setlocale() call in this file
 * without turning zif_setlocale into zif_libintl_setlocale.  -Rasmus
 */
#define php_my_setlocale setlocale
#ifdef HAVE_LIBINTL
# include <libintl.h> /* For LC_MESSAGES */
 #ifdef setlocale
 # undef setlocale
 #endif
#endif

#include "scanf.h"
#include "zend_API.h"
#include "zend_execute.h"
#include "php_globals.h"
#include "basic_functions.h"
#include "php_smart_str.h"
#ifdef ZTS
#include "TSRM.h"
#endif

/* For str_getcsv() support */
#include "ext/standard/file.h"

#define STR_PAD_LEFT			0
#define STR_PAD_RIGHT			1
#define STR_PAD_BOTH			2
#define PHP_PATHINFO_DIRNAME 	1
#define PHP_PATHINFO_BASENAME 	2
#define PHP_PATHINFO_EXTENSION 	4
#define PHP_PATHINFO_FILENAME 	8
#define PHP_PATHINFO_ALL	(PHP_PATHINFO_DIRNAME | PHP_PATHINFO_BASENAME | PHP_PATHINFO_EXTENSION | PHP_PATHINFO_FILENAME)

#define STR_STRSPN				0
#define STR_STRCSPN				1

/* {{{ register_string_constants
 */
void register_string_constants(INIT_FUNC_ARGS)
{
	REGISTER_LONG_CONSTANT("STR_PAD_LEFT", STR_PAD_LEFT, CONST_CS | CONST_PERSISTENT);
	REGISTER_LONG_CONSTANT("STR_PAD_RIGHT", STR_PAD_RIGHT, CONST_CS | CONST_PERSISTENT);
	REGISTER_LONG_CONSTANT("STR_PAD_BOTH", STR_PAD_BOTH, CONST_CS | CONST_PERSISTENT);
	REGISTER_LONG_CONSTANT("PATHINFO_DIRNAME", PHP_PATHINFO_DIRNAME, CONST_CS | CONST_PERSISTENT);
	REGISTER_LONG_CONSTANT("PATHINFO_BASENAME", PHP_PATHINFO_BASENAME, CONST_CS | CONST_PERSISTENT);
	REGISTER_LONG_CONSTANT("PATHINFO_EXTENSION", PHP_PATHINFO_EXTENSION, CONST_CS | CONST_PERSISTENT);
	REGISTER_LONG_CONSTANT("PATHINFO_FILENAME", PHP_PATHINFO_FILENAME, CONST_CS | CONST_PERSISTENT);

#ifdef HAVE_LOCALECONV
	/* If last members of struct lconv equal CHAR_MAX, no grouping is done */	

/* This is bad, but since we are going to be hardcoding in the POSIX stuff anyway... */
# ifndef HAVE_LIMITS_H
# define CHAR_MAX 127
# endif

	REGISTER_LONG_CONSTANT("CHAR_MAX", CHAR_MAX, CONST_CS | CONST_PERSISTENT);
#endif

#ifdef HAVE_LOCALE_H
	REGISTER_LONG_CONSTANT("LC_CTYPE", LC_CTYPE, CONST_CS | CONST_PERSISTENT);
	REGISTER_LONG_CONSTANT("LC_NUMERIC", LC_NUMERIC, CONST_CS | CONST_PERSISTENT);
	REGISTER_LONG_CONSTANT("LC_TIME", LC_TIME, CONST_CS | CONST_PERSISTENT);
	REGISTER_LONG_CONSTANT("LC_COLLATE", LC_COLLATE, CONST_CS | CONST_PERSISTENT);
	REGISTER_LONG_CONSTANT("LC_MONETARY", LC_MONETARY, CONST_CS | CONST_PERSISTENT);
	REGISTER_LONG_CONSTANT("LC_ALL", LC_ALL, CONST_CS | CONST_PERSISTENT);
# ifdef LC_MESSAGES
	REGISTER_LONG_CONSTANT("LC_MESSAGES", LC_MESSAGES, CONST_CS | CONST_PERSISTENT);
# endif
#endif
	
}
/* }}} */

int php_tag_find(char *tag, int len, char *set);

/* this is read-only, so it's ok */
static char hexconvtab[] = "0123456789abcdef";

/* localeconv mutex */
#ifdef ZTS
static MUTEX_T locale_mutex = NULL;
#endif

/* {{{ php_bin2hex
 */
static char *php_bin2hex(const unsigned char *old, const size_t oldlen, size_t *newlen)
{
	register unsigned char *result = NULL;
	size_t i, j;

	result = (unsigned char *) safe_emalloc(oldlen * 2, sizeof(char), 1);
	
	for (i = j = 0; i < oldlen; i++) {
		result[j++] = hexconvtab[old[i] >> 4];
		result[j++] = hexconvtab[old[i] & 15];
	}
	result[j] = '\0';

	if (newlen) 
		*newlen = oldlen * 2 * sizeof(char);

	return (char *)result;
}
/* }}} */

#ifdef HAVE_LOCALECONV
/* {{{ localeconv_r
 * glibc's localeconv is not reentrant, so lets make it so ... sorta */
PHPAPI struct lconv *localeconv_r(struct lconv *out)
{
	struct lconv *res;

# ifdef ZTS
	tsrm_mutex_lock( locale_mutex );
# endif

	/* localeconv doesn't return an error condition */
	res = localeconv();

	*out = *res;

# ifdef ZTS
	tsrm_mutex_unlock( locale_mutex );
# endif

	return out;
}
/* }}} */

# ifdef ZTS
/* {{{ PHP_MINIT_FUNCTION
 */
PHP_MINIT_FUNCTION(localeconv)
{
	locale_mutex = tsrm_mutex_alloc();
	return SUCCESS;
}
/* }}} */

/* {{{ PHP_MSHUTDOWN_FUNCTION
 */
PHP_MSHUTDOWN_FUNCTION(localeconv)
{
	tsrm_mutex_free( locale_mutex );
	locale_mutex = NULL;
	return SUCCESS;
}
/* }}} */
# endif
#endif

/* {{{ proto string bin2hex(string data)
   Converts the binary representation of data to hex */
PHP_FUNCTION(bin2hex)
{
	char *result, *data;
	size_t newlen;
	int datalen;

	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "s", &data, &datalen) == FAILURE) {
		return;
	}

	result = php_bin2hex((unsigned char *)data, datalen, &newlen);
	
	if (!result) {
		RETURN_FALSE;
	}

	RETURN_STRINGL(result, newlen, 0);
}
/* }}} */

static void php_spn_common_handler(INTERNAL_FUNCTION_PARAMETERS, int behavior) /* {{{ */
{
	char *s11, *s22;
	int len1, len2;
	long start = 0, len = 0;
	
	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "ss|ll", &s11, &len1,
				&s22, &len2, &start, &len) == FAILURE) {
		return;
	}
	
	if (ZEND_NUM_ARGS() < 4) {
		len = len1;
	}
	
	/* look at substr() function for more information */
	
	if (start < 0) {
		start += len1;
		if (start < 0) {
			start = 0;
		}
	} else if (start > len1) {
		RETURN_FALSE;
	}
	
	if (len < 0) {
		len += (len1 - start);
		if (len < 0) {
			len = 0;
		}
	}
	
	if (len > len1 - start) {
		len = len1 - start;
	}

	if(len == 0) {
		RETURN_LONG(0);
	}

	if (behavior == STR_STRSPN) {
		RETURN_LONG(php_strspn(s11 + start /*str1_start*/,
						s22 /*str2_start*/,
						s11 + start + len /*str1_end*/,
						s22 + len2 /*str2_end*/));
	} else if (behavior == STR_STRCSPN) {
		RETURN_LONG(php_strcspn(s11 + start /*str1_start*/,
						s22 /*str2_start*/,
						s11 + start + len /*str1_end*/,
						s22 + len2 /*str2_end*/));
	}
	
}
/* }}} */

/* {{{ proto int strspn(string str, string mask [, start [, len]])
   Finds length of initial segment consisting entirely of characters found in mask. If start or/and length is provided works like strspn(substr($s,$start,$len),$good_chars) */
PHP_FUNCTION(strspn)
{
	php_spn_common_handler(INTERNAL_FUNCTION_PARAM_PASSTHRU, STR_STRSPN);
}
/* }}} */

/* {{{ proto int strcspn(string str, string mask [, start [, len]])
   Finds length of initial segment consisting entirely of characters not found in mask. If start or/and length is provide works like strcspn(substr($s,$start,$len),$bad_chars) */
PHP_FUNCTION(strcspn)
{
	php_spn_common_handler(INTERNAL_FUNCTION_PARAM_PASSTHRU, STR_STRCSPN);
}
/* }}} */

/* {{{ PHP_MINIT_FUNCTION(nl_langinfo) */
#if HAVE_NL_LANGINFO
PHP_MINIT_FUNCTION(nl_langinfo)
{
#define REGISTER_NL_LANGINFO_CONSTANT(x)	REGISTER_LONG_CONSTANT(#x, x, CONST_CS | CONST_PERSISTENT)
#ifdef ABDAY_1
	REGISTER_NL_LANGINFO_CONSTANT(ABDAY_1);
	REGISTER_NL_LANGINFO_CONSTANT(ABDAY_2);
	REGISTER_NL_LANGINFO_CONSTANT(ABDAY_3);
	REGISTER_NL_LANGINFO_CONSTANT(ABDAY_4);
	REGISTER_NL_LANGINFO_CONSTANT(ABDAY_5);
	REGISTER_NL_LANGINFO_CONSTANT(ABDAY_6);
	REGISTER_NL_LANGINFO_CONSTANT(ABDAY_7);
#endif
#ifdef DAY_1
	REGISTER_NL_LANGINFO_CONSTANT(DAY_1);
	REGISTER_NL_LANGINFO_CONSTANT(DAY_2);
	REGISTER_NL_LANGINFO_CONSTANT(DAY_3);
	REGISTER_NL_LANGINFO_CONSTANT(DAY_4);
	REGISTER_NL_LANGINFO_CONSTANT(DAY_5);
	REGISTER_NL_LANGINFO_CONSTANT(DAY_6);
	REGISTER_NL_LANGINFO_CONSTANT(DAY_7);
#endif
#ifdef ABMON_1
	REGISTER_NL_LANGINFO_CONSTANT(ABMON_1);
	REGISTER_NL_LANGINFO_CONSTANT(ABMON_2);
	REGISTER_NL_LANGINFO_CONSTANT(ABMON_3);
	REGISTER_NL_LANGINFO_CONSTANT(ABMON_4);
	REGISTER_NL_LANGINFO_CONSTANT(ABMON_5);
	REGISTER_NL_LANGINFO_CONSTANT(ABMON_6);
	REGISTER_NL_LANGINFO_CONSTANT(ABMON_7);
	REGISTER_NL_LANGINFO_CONSTANT(ABMON_8);
	REGISTER_NL_LANGINFO_CONSTANT(ABMON_9);
	REGISTER_NL_LANGINFO_CONSTANT(ABMON_10);
	REGISTER_NL_LANGINFO_CONSTANT(ABMON_11);
	REGISTER_NL_LANGINFO_CONSTANT(ABMON_12);
#endif
#ifdef MON_1
	REGISTER_NL_LANGINFO_CONSTANT(MON_1);
	REGISTER_NL_LANGINFO_CONSTANT(MON_2);
	REGISTER_NL_LANGINFO_CONSTANT(MON_3);
	REGISTER_NL_LANGINFO_CONSTANT(MON_4);
	REGISTER_NL_LANGINFO_CONSTANT(MON_5);
	REGISTER_NL_LANGINFO_CONSTANT(MON_6);
	REGISTER_NL_LANGINFO_CONSTANT(MON_7);
	REGISTER_NL_LANGINFO_CONSTANT(MON_8);
	REGISTER_NL_LANGINFO_CONSTANT(MON_9);
	REGISTER_NL_LANGINFO_CONSTANT(MON_10);
	REGISTER_NL_LANGINFO_CONSTANT(MON_11);
	REGISTER_NL_LANGINFO_CONSTANT(MON_12);
#endif
#ifdef AM_STR
	REGISTER_NL_LANGINFO_CONSTANT(AM_STR);
#endif
#ifdef PM_STR
	REGISTER_NL_LANGINFO_CONSTANT(PM_STR);
#endif
#ifdef D_T_FMT
	REGISTER_NL_LANGINFO_CONSTANT(D_T_FMT);
#endif
#ifdef D_FMT
	REGISTER_NL_LANGINFO_CONSTANT(D_FMT);
#endif
#ifdef T_FMT
	REGISTER_NL_LANGINFO_CONSTANT(T_FMT);
#endif
#ifdef T_FMT_AMPM
	REGISTER_NL_LANGINFO_CONSTANT(T_FMT_AMPM);
#endif
#ifdef ERA
	REGISTER_NL_LANGINFO_CONSTANT(ERA);
#endif
#ifdef ERA_YEAR
	REGISTER_NL_LANGINFO_CONSTANT(ERA_YEAR);
#endif
#ifdef ERA_D_T_FMT
	REGISTER_NL_LANGINFO_CONSTANT(ERA_D_T_FMT);
#endif
#ifdef ERA_D_FMT
	REGISTER_NL_LANGINFO_CONSTANT(ERA_D_FMT);
#endif
#ifdef ERA_T_FMT
	REGISTER_NL_LANGINFO_CONSTANT(ERA_T_FMT);
#endif
#ifdef ALT_DIGITS
	REGISTER_NL_LANGINFO_CONSTANT(ALT_DIGITS);
#endif
#ifdef INT_CURR_SYMBOL
	REGISTER_NL_LANGINFO_CONSTANT(INT_CURR_SYMBOL);
#endif
#ifdef CURRENCY_SYMBOL
	REGISTER_NL_LANGINFO_CONSTANT(CURRENCY_SYMBOL);
#endif
#ifdef CRNCYSTR
	REGISTER_NL_LANGINFO_CONSTANT(CRNCYSTR);
#endif
#ifdef MON_DECIMAL_POINT
	REGISTER_NL_LANGINFO_CONSTANT(MON_DECIMAL_POINT);
#endif
#ifdef MON_THOUSANDS_SEP
	REGISTER_NL_LANGINFO_CONSTANT(MON_THOUSANDS_SEP);
#endif
#ifdef MON_GROUPING
	REGISTER_NL_LANGINFO_CONSTANT(MON_GROUPING);
#endif
#ifdef POSITIVE_SIGN
	REGISTER_NL_LANGINFO_CONSTANT(POSITIVE_SIGN);
#endif
#ifdef NEGATIVE_SIGN
	REGISTER_NL_LANGINFO_CONSTANT(NEGATIVE_SIGN);
#endif
#ifdef INT_FRAC_DIGITS
	REGISTER_NL_LANGINFO_CONSTANT(INT_FRAC_DIGITS);
#endif
#ifdef FRAC_DIGITS
	REGISTER_NL_LANGINFO_CONSTANT(FRAC_DIGITS);
#endif
#ifdef P_CS_PRECEDES
	REGISTER_NL_LANGINFO_CONSTANT(P_CS_PRECEDES);
#endif
#ifdef P_SEP_BY_SPACE
	REGISTER_NL_LANGINFO_CONSTANT(P_SEP_BY_SPACE);
#endif
#ifdef N_CS_PRECEDES
	REGISTER_NL_LANGINFO_CONSTANT(N_CS_PRECEDES);
#endif
#ifdef N_SEP_BY_SPACE
	REGISTER_NL_LANGINFO_CONSTANT(N_SEP_BY_SPACE);
#endif
#ifdef P_SIGN_POSN
	REGISTER_NL_LANGINFO_CONSTANT(P_SIGN_POSN);
#endif
#ifdef N_SIGN_POSN
	REGISTER_NL_LANGINFO_CONSTANT(N_SIGN_POSN);
#endif
#ifdef DECIMAL_POINT
	REGISTER_NL_LANGINFO_CONSTANT(DECIMAL_POINT);
#endif
#ifdef RADIXCHAR
	REGISTER_NL_LANGINFO_CONSTANT(RADIXCHAR);
#endif
#ifdef THOUSANDS_SEP
	REGISTER_NL_LANGINFO_CONSTANT(THOUSANDS_SEP);
#endif
#ifdef THOUSEP
	REGISTER_NL_LANGINFO_CONSTANT(THOUSEP);
#endif
#ifdef GROUPING
	REGISTER_NL_LANGINFO_CONSTANT(GROUPING);
#endif
#ifdef YESEXPR
	REGISTER_NL_LANGINFO_CONSTANT(YESEXPR);
#endif
#ifdef NOEXPR
	REGISTER_NL_LANGINFO_CONSTANT(NOEXPR);
#endif
#ifdef YESSTR
	REGISTER_NL_LANGINFO_CONSTANT(YESSTR);
#endif
#ifdef NOSTR
	REGISTER_NL_LANGINFO_CONSTANT(NOSTR);
#endif
#ifdef CODESET
	REGISTER_NL_LANGINFO_CONSTANT(CODESET);
#endif
#undef REGISTER_NL_LANGINFO_CONSTANT
	return SUCCESS;
}
/* }}} */

/* {{{ proto string nl_langinfo(int item)
   Query language and locale information */
PHP_FUNCTION(nl_langinfo)
{
	long item;
	char *value;
	
	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "l", &item) == FAILURE) {
		return;
	}

	switch(item) { /* {{{ */
#ifdef ABDAY_1
		case ABDAY_1:
		case ABDAY_2:
		case ABDAY_3:
		case ABDAY_4:
		case ABDAY_5:
		case ABDAY_6:
		case ABDAY_7:
#endif
#ifdef DAY_1
		case DAY_1:
		case DAY_2:
		case DAY_3:
		case DAY_4:
		case DAY_5:
		case DAY_6:
		case DAY_7:
#endif
#ifdef ABMON_1
		case ABMON_1:
		case ABMON_2:
		case ABMON_3:
		case ABMON_4:
		case ABMON_5:
		case ABMON_6:
		case ABMON_7:
		case ABMON_8:
		case ABMON_9:
		case ABMON_10:
		case ABMON_11:
		case ABMON_12:
#endif
#ifdef MON_1
		case MON_1:
		case MON_2:
		case MON_3:
		case MON_4:
		case MON_5:
		case MON_6:
		case MON_7:
		case MON_8:
		case MON_9:
		case MON_10:
		case MON_11:
		case MON_12:
#endif
#ifdef AM_STR
		case AM_STR:
#endif
#ifdef PM_STR
		case PM_STR:
#endif
#ifdef D_T_FMT
		case D_T_FMT:
#endif
#ifdef D_FMT
		case D_FMT:
#endif
#ifdef T_FMT
		case T_FMT:
#endif
#ifdef T_FMT_AMPM
		case T_FMT_AMPM:
#endif
#ifdef ERA
		case ERA:
#endif
#ifdef ERA_YEAR
		case ERA_YEAR:
#endif
#ifdef ERA_D_T_FMT
		case ERA_D_T_FMT:
#endif
#ifdef ERA_D_FMT
		case ERA_D_FMT:
#endif
#ifdef ERA_T_FMT
		case ERA_T_FMT:
#endif
#ifdef ALT_DIGITS
		case ALT_DIGITS:
#endif
#ifdef INT_CURR_SYMBOL
		case INT_CURR_SYMBOL:
#endif
#ifdef CURRENCY_SYMBOL
		case CURRENCY_SYMBOL:
#endif
#ifdef CRNCYSTR
		case CRNCYSTR:
#endif
#ifdef MON_DECIMAL_POINT
		case MON_DECIMAL_POINT:
#endif
#ifdef MON_THOUSANDS_SEP
		case MON_THOUSANDS_SEP:
#endif
#ifdef MON_GROUPING
		case MON_GROUPING:
#endif
#ifdef POSITIVE_SIGN
		case POSITIVE_SIGN:
#endif
#ifdef NEGATIVE_SIGN
		case NEGATIVE_SIGN:
#endif
#ifdef INT_FRAC_DIGITS
		case INT_FRAC_DIGITS:
#endif
#ifdef FRAC_DIGITS
		case FRAC_DIGITS:
#endif
#ifdef P_CS_PRECEDES
		case P_CS_PRECEDES:
#endif
#ifdef P_SEP_BY_SPACE
		case P_SEP_BY_SPACE:
#endif
#ifdef N_CS_PRECEDES
		case N_CS_PRECEDES:
#endif
#ifdef N_SEP_BY_SPACE
		case N_SEP_BY_SPACE:
#endif
#ifdef P_SIGN_POSN
		case P_SIGN_POSN:
#endif
#ifdef N_SIGN_POSN
		case N_SIGN_POSN:
#endif
#ifdef DECIMAL_POINT
		case DECIMAL_POINT:
#elif defined(RADIXCHAR)
		case RADIXCHAR:
#endif
#ifdef THOUSANDS_SEP
		case THOUSANDS_SEP:
#elif defined(THOUSEP)
		case THOUSEP:
#endif
#ifdef GROUPING
		case GROUPING:
#endif
#ifdef YESEXPR
		case YESEXPR:
#endif
#ifdef NOEXPR
		case NOEXPR:
#endif
#ifdef YESSTR
		case YESSTR:
#endif
#ifdef NOSTR
		case NOSTR:
#endif
#ifdef CODESET
		case CODESET:
#endif
			break;
		default:
			php_error_docref(NULL TSRMLS_CC, E_WARNING, "Item '%ld' is not valid", item);
			RETURN_FALSE;
	}
	/* }}} */

	value = nl_langinfo(item);
	if (value == NULL) {
		RETURN_FALSE;
	} else {
		RETURN_STRING(value, 1);
	}
}
#endif
/* }}} */

#ifdef HAVE_STRCOLL
/* {{{ proto int strcoll(string str1, string str2)
   Compares two strings using the current locale */
PHP_FUNCTION(strcoll)
{
	char *s1, *s2;
	int s1len, s2len;
	
	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "ss", &s1, &s1len, &s2, &s2len) == FAILURE) {
		return;
	}

	RETURN_LONG(strcoll((const char *) s1, 
	                    (const char *) s2));
}
/* }}} */
#endif

/* {{{ php_charmask
 * Fills a 256-byte bytemask with input. You can specify a range like 'a..z',
 * it needs to be incrementing.  
 * Returns: FAILURE/SUCCESS whether the input was correct (i.e. no range errors)
 */
static inline int php_charmask(unsigned char *input, int len, char *mask TSRMLS_DC)
{
	unsigned char *end;
	unsigned char c;
	int result = SUCCESS;

	memset(mask, 0, 256);
	for (end = input+len; input < end; input++) {
		c=*input; 
		if ((input+3 < end) && input[1] == '.' && input[2] == '.' 
				&& input[3] >= c) {
			memset(mask+c, 1, input[3] - c + 1);
			input+=3;
		} else if ((input+1 < end) && input[0] == '.' && input[1] == '.') {
			/* Error, try to be as helpful as possible:
			   (a range ending/starting with '.' won't be captured here) */
			if (end-len >= input) { /* there was no 'left' char */
				php_error_docref(NULL TSRMLS_CC, E_WARNING, "Invalid '..'-range, no character to the left of '..'");
				result = FAILURE;
				continue;
			}
			if (input+2 >= end) { /* there is no 'right' char */
				php_error_docref(NULL TSRMLS_CC, E_WARNING, "Invalid '..'-range, no character to the right of '..'");
				result = FAILURE;
				continue;
			}
			if (input[-1] > input[2]) { /* wrong order */
				php_error_docref(NULL TSRMLS_CC, E_WARNING, "Invalid '..'-range, '..'-range needs to be incrementing");
				result = FAILURE;
				continue;
			} 
			/* FIXME: better error (a..b..c is the only left possibility?) */
			php_error_docref(NULL TSRMLS_CC, E_WARNING, "Invalid '..'-range");
			result = FAILURE;
			continue;
		} else {
			mask[c]=1;
		}
	}
	return result;
}
/* }}} */

/* {{{ php_trim()
 * mode 1 : trim left
 * mode 2 : trim right
 * mode 3 : trim left and right
 * what indicates which chars are to be trimmed. NULL->default (' \t\n\r\v\0')
 */
PHPAPI char *php_trim(char *c, int len, char *what, int what_len, zval *return_value, int mode TSRMLS_DC)
{
	register int i;
	int trimmed = 0;
	char mask[256];

	if (what) {
		php_charmask((unsigned char*)what, what_len, mask TSRMLS_CC);
	} else {
		php_charmask((unsigned char*)" \n\r\t\v\0", 6, mask TSRMLS_CC);
	}

	if (mode & 1) {
		for (i = 0; i < len; i++) {
			if (mask[(unsigned char)c[i]]) {
				trimmed++;
			} else {
				break;
			}
		}
		len -= trimmed;
		c += trimmed;
	}
	if (mode & 2) {
		for (i = len - 1; i >= 0; i--) {
			if (mask[(unsigned char)c[i]]) {
				len--;
			} else {
				break;
			}
		}
	}

	if (return_value) {
		RETVAL_STRINGL(c, len, 1);
	} else {
		return estrndup(c, len);
	}
	return "";
}
/* }}} */

/* {{{ php_do_trim
 * Base for trim(), rtrim() and ltrim() functions.
 */
static void php_do_trim(INTERNAL_FUNCTION_PARAMETERS, int mode)
{
	char *str;
	char *what = NULL;
	int str_len, what_len = 0;
	
	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "s|s", &str, &str_len, &what, &what_len) == FAILURE) {
		return;
	}
	
	php_trim(str, str_len, what, what_len, return_value, mode TSRMLS_CC);
}
/* }}} */

/* {{{ proto string trim(string str [, string character_mask])
   Strips whitespace from the beginning and end of a string */
PHP_FUNCTION(trim)
{
	php_do_trim(INTERNAL_FUNCTION_PARAM_PASSTHRU, 3);
}
/* }}} */

/* {{{ proto string rtrim(string str [, string character_mask])
   Removes trailing whitespace */
PHP_FUNCTION(rtrim)
{
	php_do_trim(INTERNAL_FUNCTION_PARAM_PASSTHRU, 2);
}
/* }}} */

/* {{{ proto string ltrim(string str [, string character_mask])
   Strips whitespace from the beginning of a string */
PHP_FUNCTION(ltrim)
{
	php_do_trim(INTERNAL_FUNCTION_PARAM_PASSTHRU, 1);
}
/* }}} */

/* {{{ proto string wordwrap(string str [, int width [, string break [, boolean cut]]])
   Wraps buffer to selected number of characters using string break char */
PHP_FUNCTION(wordwrap)
{
	const char *text, *breakchar = "\n";
	char *newtext;
	int textlen, breakcharlen = 1, newtextlen, chk;
	size_t alloced;
	long current = 0, laststart = 0, lastspace = 0;
	long linelength = 75;
	zend_bool docut = 0;

	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "s|lsb", &text, &textlen, &linelength, &breakchar, &breakcharlen, &docut) == FAILURE) {
		return;
	}

	if (textlen == 0) {
		RETURN_EMPTY_STRING();
	}

	if (breakcharlen == 0) {
		php_error_docref(NULL TSRMLS_CC, E_WARNING, "Break string cannot be empty");
		RETURN_FALSE;
	}

	if (linelength == 0 && docut) {
		php_error_docref(NULL TSRMLS_CC, E_WARNING, "Can't force cut when width is zero");
		RETURN_FALSE;
	}

	/* Special case for a single-character break as it needs no
	   additional storage space */
	if (breakcharlen == 1 && !docut) {
		newtext = estrndup(text, textlen);

		laststart = lastspace = 0;
		for (current = 0; current < textlen; current++) {
			if (text[current] == breakchar[0]) {
				laststart = lastspace = current + 1;
			} else if (text[current] == ' ') {
				if (current - laststart >= linelength) {
					newtext[current] = breakchar[0];
					laststart = current + 1;
				}
				lastspace = current;
			} else if (current - laststart >= linelength && laststart != lastspace) {
				newtext[lastspace] = breakchar[0];
				laststart = lastspace + 1;
			}
		}

		RETURN_STRINGL(newtext, textlen, 0);
	} else {
		/* Multiple character line break or forced cut */
		if (linelength > 0) {
			chk = (int)(textlen/linelength + 1);
			newtext = safe_emalloc(chk, breakcharlen, textlen + 1);
			alloced = textlen + chk * breakcharlen + 1;
		} else {
			chk = textlen;
			alloced = textlen * (breakcharlen + 1) + 1;
			newtext = safe_emalloc(textlen, (breakcharlen + 1), 1);
		}

		/* now keep track of the actual new text length */
		newtextlen = 0;

		laststart = lastspace = 0;
		for (current = 0; current < textlen; current++) {
			if (chk <= 0) {
				alloced += (int) (((textlen - current + 1)/linelength + 1) * breakcharlen) + 1;
				newtext = erealloc(newtext, alloced);
				chk = (int) ((textlen - current)/linelength) + 1;
			}
			/* when we hit an existing break, copy to new buffer, and
			 * fix up laststart and lastspace */
			if (text[current] == breakchar[0]
				&& current + breakcharlen < textlen
				&& !strncmp(text+current, breakchar, breakcharlen)) {
				memcpy(newtext+newtextlen, text+laststart, current-laststart+breakcharlen);
				newtextlen += current-laststart+breakcharlen;
				current += breakcharlen - 1;
				laststart = lastspace = current + 1;
				chk--;
			}
			/* if it is a space, check if it is at the line boundary,
			 * copy and insert a break, or just keep track of it */
			else if (text[current] == ' ') {
				if (current - laststart >= linelength) {
					memcpy(newtext+newtextlen, text+laststart, current-laststart);
					newtextlen += current - laststart;
					memcpy(newtext+newtextlen, breakchar, breakcharlen);
					newtextlen += breakcharlen;
					laststart = current + 1;
					chk--;
				}
				lastspace = current;
			}
			/* if we are cutting, and we've accumulated enough
			 * characters, and we haven't see a space for this line,
			 * copy and insert a break. */
			else if (current - laststart >= linelength
					&& docut && laststart >= lastspace) {
				memcpy(newtext+newtextlen, text+laststart, current-laststart);
				newtextlen += current - laststart;
				memcpy(newtext+newtextlen, breakchar, breakcharlen);
				newtextlen += breakcharlen;
				laststart = lastspace = current;
				chk--;
			}
			/* if the current word puts us over the linelength, copy
			 * back up until the last space, insert a break, and move
			 * up the laststart */
			else if (current - laststart >= linelength
					&& laststart < lastspace) {
				memcpy(newtext+newtextlen, text+laststart, lastspace-laststart);
				newtextlen += lastspace - laststart;
				memcpy(newtext+newtextlen, breakchar, breakcharlen);
				newtextlen += breakcharlen;
				laststart = lastspace = lastspace + 1;
				chk--;
			}
		}

		/* copy over any stragglers */
		if (laststart != current) {
			memcpy(newtext+newtextlen, text+laststart, current-laststart);
			newtextlen += current - laststart;
		}

		newtext[newtextlen] = '\0';
		/* free unused memory */
		newtext = erealloc(newtext, newtextlen+1);

		RETURN_STRINGL(newtext, newtextlen, 0);
	}
}
/* }}} */

/* {{{ php_explode
 */
PHPAPI void php_explode(zval *delim, zval *str, zval *return_value, long limit) 
{
	char *p1, *p2, *endp;

	endp = Z_STRVAL_P(str) + Z_STRLEN_P(str);

	p1 = Z_STRVAL_P(str);
	p2 = php_memnstr(Z_STRVAL_P(str), Z_STRVAL_P(delim), Z_STRLEN_P(delim), endp);

	if (p2 == NULL) {
		add_next_index_stringl(return_value, p1, Z_STRLEN_P(str), 1);
	} else {
		do {
			add_next_index_stringl(return_value, p1, p2 - p1, 1);
			p1 = p2 + Z_STRLEN_P(delim);
		} while ((p2 = php_memnstr(p1, Z_STRVAL_P(delim), Z_STRLEN_P(delim), endp)) != NULL &&
				 --limit > 1);

		if (p1 <= endp)
			add_next_index_stringl(return_value, p1, endp-p1, 1);
	}
}
/* }}} */

/* {{{ php_explode_negative_limit
 */
PHPAPI void php_explode_negative_limit(zval *delim, zval *str, zval *return_value, long limit) 
{
#define EXPLODE_ALLOC_STEP 64
	char *p1, *p2, *endp;
	
	endp = Z_STRVAL_P(str) + Z_STRLEN_P(str);

	p1 = Z_STRVAL_P(str);
	p2 = php_memnstr(Z_STRVAL_P(str), Z_STRVAL_P(delim), Z_STRLEN_P(delim), endp);

	if (p2 == NULL) {
		/*
		do nothing since limit <= -1, thus if only one chunk - 1 + (limit) <= 0
		by doing nothing we return empty array
		*/
	} else {
		int allocated = EXPLODE_ALLOC_STEP, found = 0;
		long i, to_return;
		char **positions = emalloc(allocated * sizeof(char *));

		positions[found++] = p1;
		do {
			if (found >= allocated) {
				allocated = found + EXPLODE_ALLOC_STEP;/* make sure we have enough memory */
				positions = erealloc(positions, allocated*sizeof(char *));
			}
			positions[found++] = p1 = p2 + Z_STRLEN_P(delim);
		} while ((p2 = php_memnstr(p1, Z_STRVAL_P(delim), Z_STRLEN_P(delim), endp)) != NULL);
		
		to_return = limit + found;
		/* limit is at least -1 therefore no need of bounds checking : i will be always less than found */
		for (i = 0;i < to_return;i++) { /* this checks also for to_return > 0 */
			add_next_index_stringl(return_value, positions[i], 
					(positions[i+1] - Z_STRLEN_P(delim)) - positions[i],
					1
				);
		}
		efree(positions);
	}
#undef EXPLODE_ALLOC_STEP
}
/* }}} */

/* {{{ proto array explode(string separator, string str [, int limit])
   Splits a string on string separator and return array of components. If limit is positive only limit number of components is returned. If limit is negative all components except the last abs(limit) are returned. */
PHP_FUNCTION(explode)
{
	char *str, *delim;
	int str_len = 0, delim_len = 0;
	long limit = LONG_MAX; /* No limit */
	zval zdelim, zstr;
	
	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "ss|l", &delim, &delim_len, &str, &str_len, &limit) == FAILURE) {
		return;
	}
	
	if (delim_len == 0) {
		php_error_docref(NULL TSRMLS_CC, E_WARNING, "Empty delimiter");
		RETURN_FALSE;
	}

	array_init(return_value);

	if (str_len == 0) {
	  	if (limit >= 0) {
			add_next_index_stringl(return_value, "", sizeof("") - 1, 1);
		} 
		return;
	}

	ZVAL_STRINGL(&zstr, str, str_len, 0);
	ZVAL_STRINGL(&zdelim, delim, delim_len, 0);
	if (limit > 1) {
		php_explode(&zdelim, &zstr, return_value, limit);
	} else if (limit < 0) {
		php_explode_negative_limit(&zdelim, &zstr, return_value, limit);
	} else {
		add_index_stringl(return_value, 0, str, str_len, 1);
	}
}
/* }}} */

/* {{{ proto string join(array src, string glue)
   An alias for implode */
/* }}} */

/* {{{ php_implode
 */
PHPAPI void php_implode(zval *delim, zval *arr, zval *return_value TSRMLS_DC) 
{
	zval         **tmp;
	HashPosition   pos;
	smart_str      implstr = {0};
	int            numelems, i = 0;
	zval tmp_val;
	int str_len;

	numelems = zend_hash_num_elements(Z_ARRVAL_P(arr));

	if (numelems == 0) {
		RETURN_EMPTY_STRING();
	}

	zend_hash_internal_pointer_reset_ex(Z_ARRVAL_P(arr), &pos);

	while (zend_hash_get_current_data_ex(Z_ARRVAL_P(arr), (void **) &tmp, &pos) == SUCCESS) {
		switch ((*tmp)->type) {
			case IS_STRING:
				smart_str_appendl(&implstr, Z_STRVAL_PP(tmp), Z_STRLEN_PP(tmp));
				break;

			case IS_LONG: {
				char stmp[MAX_LENGTH_OF_LONG + 1];
				str_len = slprintf(stmp, sizeof(stmp), "%ld", Z_LVAL_PP(tmp));
				smart_str_appendl(&implstr, stmp, str_len);
			}
				break;

			case IS_BOOL:
				if (Z_LVAL_PP(tmp) == 1) {
					smart_str_appendl(&implstr, "1", sizeof("1")-1);
				}
				break;
			
			case IS_NULL:
				break;

			case IS_DOUBLE: {
				char *stmp;
				str_len = spprintf(&stmp, 0, "%.*G", (int) EG(precision), Z_DVAL_PP(tmp));
				smart_str_appendl(&implstr, stmp, str_len);
				efree(stmp);
			}
				break;

			case IS_OBJECT: {
				int copy;
				zval expr;
				zend_make_printable_zval(*tmp, &expr, &copy);
				smart_str_appendl(&implstr, Z_STRVAL(expr), Z_STRLEN(expr));
				if (copy) {
					zval_dtor(&expr);
				}
			}
				break;

			default:
				tmp_val = **tmp;
				zval_copy_ctor(&tmp_val);
				convert_to_string(&tmp_val);
				smart_str_appendl(&implstr, Z_STRVAL(tmp_val), Z_STRLEN(tmp_val));
				zval_dtor(&tmp_val);
				break;
				
		}

		if (++i != numelems) {
			smart_str_appendl(&implstr, Z_STRVAL_P(delim), Z_STRLEN_P(delim));
		}
		zend_hash_move_forward_ex(Z_ARRVAL_P(arr), &pos);
	}
	smart_str_0(&implstr);

	if (implstr.len) {
		RETURN_STRINGL(implstr.c, implstr.len, 0);
	} else {
		smart_str_free(&implstr);
		RETURN_EMPTY_STRING();
	}
}
/* }}} */

/* {{{ proto string implode([string glue,] array pieces)
   Joins array elements placing glue string between items and return one string */
PHP_FUNCTION(implode)
{
	zval **arg1 = NULL, **arg2 = NULL, *delim, *arr;

	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "Z|Z", &arg1, &arg2) == FAILURE) {
		return;
	}
	
	if (arg2 == NULL) {
		if (Z_TYPE_PP(arg1) != IS_ARRAY) {
			php_error_docref(NULL TSRMLS_CC, E_WARNING, "Argument must be an array");
			return;
		}

		MAKE_STD_ZVAL(delim);
#define _IMPL_EMPTY ""
		ZVAL_STRINGL(delim, _IMPL_EMPTY, sizeof(_IMPL_EMPTY) - 1, 0);

		SEPARATE_ZVAL(arg1);
		arr = *arg1;
	} else {
		if (Z_TYPE_PP(arg1) == IS_ARRAY) {
			arr = *arg1;
			convert_to_string_ex(arg2);
			delim = *arg2;
		} else if (Z_TYPE_PP(arg2) == IS_ARRAY) {
			arr = *arg2;
			convert_to_string_ex(arg1);
			delim = *arg1;
		} else {
			php_error_docref(NULL TSRMLS_CC, E_WARNING, "Invalid arguments passed");
			return;
		}
	}
	
	php_implode(delim, arr, return_value TSRMLS_CC);

	if (arg2 == NULL) {
		FREE_ZVAL(delim);
	}
}
/* }}} */

#define STRTOK_TABLE(p) BG(strtok_table)[(unsigned char) *p]	

/* {{{ proto string strtok([string str,] string token)
   Tokenize a string */
PHP_FUNCTION(strtok)
{		
	char *str, *tok = NULL;
	int str_len, tok_len = 0;
	zval *zv;
	
	char *token;
	char *token_end;
	char *p;
	char *pe;
	int skipped = 0;
	
	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "s|s", &str, &str_len, &tok, &tok_len) == FAILURE) {
		return;
	}

	if (ZEND_NUM_ARGS() == 1) {
		tok = str;
		tok_len = str_len;
	} else {
		if (BG(strtok_zval)) {
			zval_ptr_dtor(&BG(strtok_zval));
		}
		MAKE_STD_ZVAL(zv);
		ZVAL_STRINGL(zv, str, str_len, 1);

		BG(strtok_zval) = zv;
		BG(strtok_last) = BG(strtok_string) = Z_STRVAL_P(zv);
		BG(strtok_len) = str_len;
	}
	
	p = BG(strtok_last); /* Where we start to search */
	pe = BG(strtok_string) + BG(strtok_len);

	if (!p || p >= pe) {
		RETURN_FALSE;
	}
	
	token = tok;
	token_end = token + tok_len;

	while (token < token_end) {
		STRTOK_TABLE(token++) = 1;
	}
	
	/* Skip leading delimiters */
	while (STRTOK_TABLE(p)) {
		if (++p >= pe) {
			/* no other chars left */
			BG(strtok_last) = NULL;
			RETVAL_FALSE;
			goto restore;
		}
		skipped++;
	}
	
	/* We know at this place that *p is no delimiter, so skip it */	
	while (++p < pe) {
		if (STRTOK_TABLE(p)) {
			goto return_token;	
		}
	}
	
	if (p - BG(strtok_last)) {
return_token:
		RETVAL_STRINGL(BG(strtok_last) + skipped, (p - BG(strtok_last)) - skipped, 1);
		BG(strtok_last) = p + 1;
	} else {
		RETVAL_FALSE;
		BG(strtok_last) = NULL;
	}

	/* Restore table -- usually faster then memset'ing the table on every invocation */
restore:
	token = tok;
	
	while (token < token_end) {
		STRTOK_TABLE(token++) = 0;
	}
}
/* }}} */

/* {{{ php_strtoupper
 */
PHPAPI char *php_strtoupper(char *s, size_t len)
{
	unsigned char *c, *e;
	
	c = (unsigned char *)s;
	e = (unsigned char *)c+len;

	while (c < e) {
		*c = toupper(*c);
		c++;
	}
	return s;
}
/* }}} */

/* {{{ proto string strtoupper(string str)
   Makes a string uppercase */
PHP_FUNCTION(strtoupper)
{
	char *arg;
	int arglen;
	
	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "s", &arg, &arglen) == FAILURE) {
		return;
	}

	arg = estrndup(arg, arglen);
	php_strtoupper(arg, arglen);	
	RETURN_STRINGL(arg, arglen, 0);
}
/* }}} */

/* {{{ php_strtolower
 */
PHPAPI char *php_strtolower(char *s, size_t len)
{
	unsigned char *c, *e;
	
	c = (unsigned char *)s;
	e = c+len;

	while (c < e) {
		*c = tolower(*c);
		c++;
	}
	return s;
}
/* }}} */

/* {{{ proto string strtolower(string str)
   Makes a string lowercase */
PHP_FUNCTION(strtolower)
{
	char *str;
	int arglen;
	
	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "s", &str, &arglen) == FAILURE) {
		return;
	}

	str = estrndup(str, arglen);
	php_strtolower(str, arglen);
	RETURN_STRINGL(str, arglen, 0);
}
/* }}} */

/* {{{ php_basename
 */
PHPAPI void php_basename(char *s, size_t len, char *suffix, size_t sufflen, char **p_ret, size_t *p_len TSRMLS_DC)
{
	char *ret = NULL, *c, *comp, *cend;
	size_t inc_len, cnt;
	int state;

	c = comp = cend = s;
	cnt = len;
	state = 0;
	while (cnt > 0) {
		inc_len = (*c == '\0' ? 1: php_mblen(c, cnt));

		switch (inc_len) {
			case -2:
			case -1:
				inc_len = 1;
				php_mblen(NULL, 0);
				break;
			case 0:
				goto quit_loop;
			case 1:
#if defined(PHP_WIN32) || defined(NETWARE)
				if (*c == '/' || *c == '\\') {
#else
				if (*c == '/') {
#endif
					if (state == 1) {
						state = 0;
						cend = c;
					}
				} else {
					if (state == 0) {
						comp = c;
						state = 1;
					}
				}
				break;
			default:
				if (state == 0) {
					comp = c;
					state = 1;
				}
				break;
		}
		c += inc_len;
		cnt -= inc_len;
	}

quit_loop:
	if (state == 1) {
		cend = c;
	}
	if (suffix != NULL && sufflen < (uint)(cend - comp) &&
			memcmp(cend - sufflen, suffix, sufflen) == 0) {
		cend -= sufflen;
	}

	len = cend - comp;

	if (p_ret) {
		ret = emalloc(len + 1);
		memcpy(ret, comp, len);
		ret[len] = '\0';
		*p_ret = ret;
	}
	if (p_len) {
		*p_len = len;
	}
}
/* }}} */

/* {{{ proto string basename(string path [, string suffix])
   Returns the filename component of the path */
PHP_FUNCTION(basename)
{
	char *string, *suffix = NULL, *ret;
	int   string_len, suffix_len = 0;
	size_t ret_len;

	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "s|s", &string, &string_len, &suffix, &suffix_len) == FAILURE) {
		return;
	}

	php_basename(string, string_len, suffix, suffix_len, &ret, &ret_len TSRMLS_CC);
	RETURN_STRINGL(ret, (int)ret_len, 0);
}
/* }}} */

/* {{{ php_dirname
   Returns directory name component of path */
PHPAPI size_t php_dirname(char *path, size_t len)
{
	return zend_dirname(path, len);
}
/* }}} */

/* {{{ proto string dirname(string path)
   Returns the directory name component of the path */
PHP_FUNCTION(dirname)
{
	char *str;
	char *ret;
	int str_len;
	size_t ret_len;

	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "s", &str, &str_len) == FAILURE) {
		return;
	}
	
	ret = estrndup(str, str_len);
	ret_len = php_dirname(ret, str_len);

	RETURN_STRINGL(ret, ret_len, 0);
}
/* }}} */

/* {{{ proto array pathinfo(string path[, int options])
   Returns information about a certain string */
PHP_FUNCTION(pathinfo)
{
	zval *tmp;
	char *path, *ret = NULL;
	int path_len, have_basename;
	size_t ret_len;
	long opt = PHP_PATHINFO_ALL;

	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "s|l", &path, &path_len, &opt) == FAILURE) {
		return;
	}

	have_basename = ((opt & PHP_PATHINFO_BASENAME) == PHP_PATHINFO_BASENAME);
	
	MAKE_STD_ZVAL(tmp);
	array_init(tmp);
	
	if ((opt & PHP_PATHINFO_DIRNAME) == PHP_PATHINFO_DIRNAME) {
		ret = estrndup(path, path_len);
		php_dirname(ret, path_len);
		if (*ret) {
			add_assoc_string(tmp, "dirname", ret, 1);
		}
		efree(ret);
		ret = NULL;
	}
	
	if (have_basename) {
		php_basename(path, path_len, NULL, 0, &ret, &ret_len TSRMLS_CC);
		add_assoc_stringl(tmp, "basename", ret, ret_len, 0);
	}
	
	if ((opt & PHP_PATHINFO_EXTENSION) == PHP_PATHINFO_EXTENSION) {
		const char *p;
		int idx;

		if (!have_basename) {
			php_basename(path, path_len, NULL, 0, &ret, &ret_len TSRMLS_CC);
		}

		p = zend_memrchr(ret, '.', ret_len);

		if (p) {
			idx = p - ret;
			add_assoc_stringl(tmp, "extension", ret + idx + 1, ret_len - idx - 1, 1);
		}
	}
	
	if ((opt & PHP_PATHINFO_FILENAME) == PHP_PATHINFO_FILENAME) {
		const char *p;
		int idx;

		/* Have we alrady looked up the basename? */
		if (!have_basename && !ret) {
			php_basename(path, path_len, NULL, 0, &ret, &ret_len TSRMLS_CC);
		}

		p = zend_memrchr(ret, '.', ret_len);

		idx = p ? (p - ret) : ret_len;
		add_assoc_stringl(tmp, "filename", ret, idx, 1);
	}

	if (!have_basename && ret) {
		efree(ret);
	}

	if (opt == PHP_PATHINFO_ALL) {
		RETURN_ZVAL(tmp, 0, 1);
	} else {
		zval **element;
		if (zend_hash_get_current_data(Z_ARRVAL_P(tmp), (void **) &element) == SUCCESS) {
			RETVAL_ZVAL(*element, 1, 0);
		} else {
			ZVAL_EMPTY_STRING(return_value);
		}
	}

	zval_ptr_dtor(&tmp);
}
/* }}} */

/* {{{ php_stristr
   case insensitve strstr */
PHPAPI char *php_stristr(char *s, char *t, size_t s_len, size_t t_len)
{
	php_strtolower(s, s_len);
	php_strtolower(t, t_len);
	return php_memnstr(s, t, t_len, s + s_len);
}
/* }}} */

/* {{{ php_strspn
 */
PHPAPI size_t php_strspn(char *s1, char *s2, char *s1_end, char *s2_end)
{
	register const char *p = s1, *spanp;
	register char c = *p;

cont:
	for (spanp = s2; p != s1_end && spanp != s2_end;) {
		if (*spanp++ == c) {
			c = *(++p);
			goto cont;
		}
	}
	return (p - s1);
}
/* }}} */

/* {{{ php_strcspn
 */
PHPAPI size_t php_strcspn(char *s1, char *s2, char *s1_end, char *s2_end)
{
	register const char *p, *spanp;
	register char c = *s1;

	for (p = s1;;) {
		spanp = s2;
		do {
			if (*spanp == c || p == s1_end) {
				return p - s1;
			}
		} while (spanp++ < (s2_end - 1));
		c = *++p;
	}
	/* NOTREACHED */
}
/* }}} */

/* {{{ php_needle_char
 */
static int php_needle_char(zval *needle, char *target TSRMLS_DC)
{
	switch (Z_TYPE_P(needle)) {
		case IS_LONG:
		case IS_BOOL:
			*target = (char)Z_LVAL_P(needle);
			return SUCCESS;
		case IS_NULL:
			*target = '\0';
			return SUCCESS;
		case IS_DOUBLE:
			*target = (char)(int)Z_DVAL_P(needle);
			return SUCCESS;
		case IS_OBJECT:
			{
				zval holder = *needle;
				zval_copy_ctor(&(holder));
				convert_to_long(&(holder));
				if(Z_TYPE(holder) != IS_LONG) {
					return FAILURE;
				}
				*target = (char)Z_LVAL(holder);
				return SUCCESS;
			}
		default: {
			php_error_docref(NULL TSRMLS_CC, E_WARNING, "needle is not a string or an integer");
			return FAILURE;
		 }
	}
}
/* }}} */

/* {{{ proto string stristr(string haystack, string needle[, bool part])
   Finds first occurrence of a string within another, case insensitive */
PHP_FUNCTION(stristr)
{
	zval *needle;
	char *haystack;
	int haystack_len;
	char *found = NULL;
	int  found_offset;
	char *haystack_dup;
	char needle_char[2];
	zend_bool part = 0;
	
	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "sz|b", &haystack, &haystack_len, &needle, &part) == FAILURE) {
		return;
	}

	haystack_dup = estrndup(haystack, haystack_len);

	if (Z_TYPE_P(needle) == IS_STRING) {
		char *orig_needle;
		if (!Z_STRLEN_P(needle)) {
			php_error_docref(NULL TSRMLS_CC, E_WARNING, "Empty delimiter");
			efree(haystack_dup);
			RETURN_FALSE;
		}
		orig_needle = estrndup(Z_STRVAL_P(needle), Z_STRLEN_P(needle));
		found = php_stristr(haystack_dup, orig_needle,	haystack_len, Z_STRLEN_P(needle));
		efree(orig_needle);
	} else {
		if (php_needle_char(needle, needle_char TSRMLS_CC) != SUCCESS) {
			efree(haystack_dup);
			RETURN_FALSE;
		}
		needle_char[1] = 0;

		found = php_stristr(haystack_dup, needle_char,	haystack_len, 1);
	}

	if (found) {
		found_offset = found - haystack_dup;
		if (part) {
			RETVAL_STRINGL(haystack, found_offset, 1);
		} else {
			RETVAL_STRINGL(haystack + found_offset, haystack_len - found_offset, 1);
		}			
	} else {
		RETVAL_FALSE;
	}

	efree(haystack_dup);
}
/* }}} */

/* {{{ proto string strstr(string haystack, string needle[, bool part])
   Finds first occurrence of a string within another */
PHP_FUNCTION(strstr)
{
	zval *needle;
	char *haystack;
	int haystack_len;
	char *found = NULL;
	char needle_char[2];
	long found_offset;
	zend_bool part = 0;
	
	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "sz|b", &haystack, &haystack_len, &needle, &part) == FAILURE) {
		return;
	}

	if (Z_TYPE_P(needle) == IS_STRING) {
		if (!Z_STRLEN_P(needle)) {
			php_error_docref(NULL TSRMLS_CC, E_WARNING, "Empty delimiter");
			RETURN_FALSE;
		}

		found = php_memnstr(haystack, Z_STRVAL_P(needle), Z_STRLEN_P(needle), haystack + haystack_len);
	} else {
		if (php_needle_char(needle, needle_char TSRMLS_CC) != SUCCESS) {
			RETURN_FALSE;
		}
		needle_char[1] = 0;

		found = php_memnstr(haystack, needle_char,	1, haystack + haystack_len);
	}

	if (found) {
		found_offset = found - haystack;
		if (part) {
			RETURN_STRINGL(haystack, found_offset, 1);
		} else {
			RETURN_STRINGL(found, haystack_len - found_offset, 1);
		}
	}
	RETURN_FALSE;
}
/* }}} */

/* {{{ proto string strchr(string haystack, string needle)
   An alias for strstr */
/* }}} */

/* {{{ proto int strpos(string haystack, string needle [, int offset])
   Finds position of first occurrence of a string within another */
PHP_FUNCTION(strpos)
{
	zval *needle;
	char *haystack;
	char *found = NULL;
	char  needle_char[2];
	long  offset = 0;
	int   haystack_len;
	
	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "sz|l", &haystack, &haystack_len, &needle, &offset) == FAILURE) {
		return;
	}

	if (offset < 0 || offset > haystack_len) {
		php_error_docref(NULL TSRMLS_CC, E_WARNING, "Offset not contained in string");
		RETURN_FALSE;
	}

	if (Z_TYPE_P(needle) == IS_STRING) {
		if (!Z_STRLEN_P(needle)) {
			php_error_docref(NULL TSRMLS_CC, E_WARNING, "Empty delimiter");
			RETURN_FALSE;
		}

		found = php_memnstr(haystack + offset,
			                Z_STRVAL_P(needle),
			                Z_STRLEN_P(needle),
			                haystack + haystack_len);
	} else {
		if (php_needle_char(needle, needle_char TSRMLS_CC) != SUCCESS) {
			RETURN_FALSE;
		}
		needle_char[1] = 0;

		found = php_memnstr(haystack + offset,
							needle_char,
							1,
		                    haystack + haystack_len);
	}

	if (found) {
		RETURN_LONG(found - haystack);
	} else {
		RETURN_FALSE;
	}
}
/* }}} */

/* {{{ proto int stripos(string haystack, string needle [, int offset])
   Finds position of first occurrence of a string within another, case insensitive */
PHP_FUNCTION(stripos)
{
	char *found = NULL;
	char *haystack;
	int haystack_len;
	long offset = 0;
	char *needle_dup = NULL, *haystack_dup;
	char needle_char[2];
	zval *needle;

	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "sz|l", &haystack, &haystack_len, &needle, &offset) == FAILURE) {
		return;
	}

	if (offset < 0 || offset > haystack_len) {
		php_error_docref(NULL TSRMLS_CC, E_WARNING, "Offset not contained in string");
		RETURN_FALSE;
	}

	if (haystack_len == 0) {
		RETURN_FALSE;
	}

	haystack_dup = estrndup(haystack, haystack_len);
	php_strtolower(haystack_dup, haystack_len);

	if (Z_TYPE_P(needle) == IS_STRING) {
		if (Z_STRLEN_P(needle) == 0 || Z_STRLEN_P(needle) > haystack_len) {
			efree(haystack_dup);
			RETURN_FALSE;
		}

		needle_dup = estrndup(Z_STRVAL_P(needle), Z_STRLEN_P(needle));
		php_strtolower(needle_dup, Z_STRLEN_P(needle));
		found = php_memnstr(haystack_dup + offset, needle_dup, Z_STRLEN_P(needle), haystack_dup + haystack_len);
	} else {
		if (php_needle_char(needle, needle_char TSRMLS_CC) != SUCCESS) {
			efree(haystack_dup);
			RETURN_FALSE;
		}
		needle_char[0] = tolower(needle_char[0]);
		needle_char[1] = '\0';
		found = php_memnstr(haystack_dup + offset, 
							needle_char, 
							sizeof(needle_char) - 1, 
							haystack_dup + haystack_len);
	}

	efree(haystack_dup);
	if (needle_dup) {
		efree(needle_dup);
	}

	if (found) {
		RETURN_LONG(found - haystack_dup);
	} else {
		RETURN_FALSE;
	}
}
/* }}} */

/* {{{ proto int strrpos(string haystack, string needle [, int offset])
   Finds position of last occurrence of a string within another string */
PHP_FUNCTION(strrpos)
{
	zval *zneedle;
	char *needle, *haystack;
	int needle_len, haystack_len;
	long offset = 0;
	char *p, *e, ord_needle[2];

	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "sz|l", &haystack, &haystack_len, &zneedle, &offset) == FAILURE) {
		RETURN_FALSE;
	}

	if (Z_TYPE_P(zneedle) == IS_STRING) {
		needle = Z_STRVAL_P(zneedle);
		needle_len = Z_STRLEN_P(zneedle);
	} else {
		if (php_needle_char(zneedle, ord_needle TSRMLS_CC) != SUCCESS) {
			RETURN_FALSE;
		}
		ord_needle[1] = '\0';
		needle = ord_needle;
		needle_len = 1;
	}

	if ((haystack_len == 0) || (needle_len == 0)) {
		RETURN_FALSE;
	}

	if (offset >= 0) {
		if (offset > haystack_len) {
			php_error_docref(NULL TSRMLS_CC, E_WARNING, "Offset is greater than the length of haystack string");
			RETURN_FALSE;
		}
		p = haystack + offset;
		e = haystack + haystack_len - needle_len;
	} else {
		if (offset < -INT_MAX || -offset > haystack_len) {
			php_error_docref(NULL TSRMLS_CC, E_WARNING, "Offset is greater than the length of haystack string");
			RETURN_FALSE;
		}

		p = haystack;
		if (needle_len > -offset) {
			e = haystack + haystack_len - needle_len;
		} else {
			e = haystack + haystack_len + offset;
		}
	}

	if (needle_len == 1) {
		/* Single character search can shortcut memcmps */
		while (e >= p) {
			if (*e == *needle) {
				RETURN_LONG(e - p + (offset > 0 ? offset : 0));
			}
			e--;
		}
		RETURN_FALSE;
	}

	while (e >= p) {
		if (memcmp(e, needle, needle_len) == 0) {
			RETURN_LONG(e - p + (offset > 0 ? offset : 0));
		}
		e--;
	}

	RETURN_FALSE;
}
/* }}} */

/* {{{ proto int strripos(string haystack, string needle [, int offset])
   Finds position of last occurrence of a string within another string */
PHP_FUNCTION(strripos)
{
	zval *zneedle;
	char *needle, *haystack;
	int needle_len, haystack_len;
	long offset = 0;
	char *p, *e, ord_needle[2];
	char *needle_dup, *haystack_dup;

	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "sz|l", &haystack, &haystack_len, &zneedle, &offset) == FAILURE) {
		RETURN_FALSE;
	}

	if (Z_TYPE_P(zneedle) == IS_STRING) {
		needle = Z_STRVAL_P(zneedle);
		needle_len = Z_STRLEN_P(zneedle);
	} else {
		if (php_needle_char(zneedle, ord_needle TSRMLS_CC) != SUCCESS) {
			RETURN_FALSE;
		}
		ord_needle[1] = '\0';
		needle = ord_needle;
		needle_len = 1;
	}

	if ((haystack_len == 0) || (needle_len == 0)) {
		RETURN_FALSE;
	}

	if (needle_len == 1) {
		/* Single character search can shortcut memcmps 
		   Can also avoid tolower emallocs */
		if (offset >= 0) {
			if (offset > haystack_len) {
				php_error_docref(NULL TSRMLS_CC, E_WARNING, "Offset is greater than the length of haystack string");
				RETURN_FALSE;
			}
			p = haystack + offset;
			e = haystack + haystack_len - 1;
		} else {
			p = haystack;
			if (offset < -INT_MAX || -offset > haystack_len) {
				php_error_docref(NULL TSRMLS_CC, E_WARNING, "Offset is greater than the length of haystack string");
				RETURN_FALSE;
			}
			e = haystack + haystack_len + offset;
		}
		/* Borrow that ord_needle buffer to avoid repeatedly tolower()ing needle */
		*ord_needle = tolower(*needle);
		while (e >= p) {
			if (tolower(*e) == *ord_needle) {
				RETURN_LONG(e - p + (offset > 0 ? offset : 0));
			}
			e--;
		}
		RETURN_FALSE;
	}

	needle_dup = estrndup(needle, needle_len);
	php_strtolower(needle_dup, needle_len);
	haystack_dup = estrndup(haystack, haystack_len);
	php_strtolower(haystack_dup, haystack_len);

	if (offset >= 0) {
		if (offset > haystack_len) {
			efree(needle_dup);
			efree(haystack_dup);
			php_error_docref(NULL TSRMLS_CC, E_WARNING, "Offset is greater than the length of haystack string");
			RETURN_FALSE;
		}
		p = haystack_dup + offset;
		e = haystack_dup + haystack_len - needle_len;
	} else {
		if (offset < -INT_MAX || -offset > haystack_len) {
			efree(needle_dup);
			efree(haystack_dup);
			php_error_docref(NULL TSRMLS_CC, E_WARNING, "Offset is greater than the length of haystack string");
			RETURN_FALSE;
		}
		p = haystack_dup;
		if (needle_len > -offset) {
			e = haystack_dup + haystack_len - needle_len;
		} else {
			e = haystack_dup + haystack_len + offset;
		}
	}

	while (e >= p) {
		if (memcmp(e, needle_dup, needle_len) == 0) {
			efree(haystack_dup);
			efree(needle_dup);
			RETURN_LONG(e - p + (offset > 0 ? offset : 0));
		}
		e--;
	}

	efree(haystack_dup);
	efree(needle_dup);
	RETURN_FALSE;
}
/* }}} */

/* {{{ proto string strrchr(string haystack, string needle)
   Finds the last occurrence of a character in a string within another */
PHP_FUNCTION(strrchr)
{
	zval *needle;
	char *haystack;
	const char *found = NULL;
	long found_offset;
	int  haystack_len;
	
	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "sz", &haystack, &haystack_len, &needle) == FAILURE) {
		return;
	}

	if (Z_TYPE_P(needle) == IS_STRING) {
		found = zend_memrchr(haystack, *Z_STRVAL_P(needle), haystack_len);
	} else {
		char needle_chr;
		if (php_needle_char(needle, &needle_chr TSRMLS_CC) != SUCCESS) {
			RETURN_FALSE;
		}

		found = zend_memrchr(haystack,  needle_chr, haystack_len);
	}

	if (found) {
		found_offset = found - haystack;
		RETURN_STRINGL(found, haystack_len - found_offset, 1);
	} else {
		RETURN_FALSE;
	}
}
/* }}} */

/* {{{ php_chunk_split
 */
static char *php_chunk_split(char *src, int srclen, char *end, int endlen, int chunklen, int *destlen)
{
	char *dest;
	char *p, *q;
	int chunks; /* complete chunks! */
	int restlen;
	int out_len; 

	chunks = srclen / chunklen;
	restlen = srclen - chunks * chunklen; /* srclen % chunklen */

	if(chunks > INT_MAX - 1) {
		return NULL;
	}
	out_len = chunks + 1;
	if(endlen !=0 && out_len > INT_MAX/endlen) {
		return NULL;
	}
	out_len *= endlen;
	if(out_len > INT_MAX - srclen - 1) {
		return NULL;
	}
	out_len += srclen + 1;

	dest = safe_emalloc((int)out_len, sizeof(char), 0);

	for (p = src, q = dest; p < (src + srclen - chunklen + 1); ) {
		memcpy(q, p, chunklen);
		q += chunklen;
		memcpy(q, end, endlen);
		q += endlen;
		p += chunklen;
	}

	if (restlen) {
		memcpy(q, p, restlen);
		q += restlen;
		memcpy(q, end, endlen);
		q += endlen;
	}

	*q = '\0';
	if (destlen) {
		*destlen = q - dest;
	}

	return(dest);
}
/* }}} */

/* {{{ proto string chunk_split(string str [, int chunklen [, string ending]])
   Returns split line */
PHP_FUNCTION(chunk_split) 
{
	char *str;
	char *result;
	char *end    = "\r\n";
	int endlen   = 2;
	long chunklen = 76;
	int result_len;
	int str_len;
	
	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "s|ls", &str, &str_len, &chunklen, &end, &endlen) == FAILURE) {
		return;
	}

	if (chunklen <= 0) {
		php_error_docref(NULL TSRMLS_CC, E_WARNING, "Chunk length should be greater than zero");
		RETURN_FALSE;
	}

	if (chunklen > str_len) {
		/* to maintain BC, we must return original string + ending */
		result_len = endlen + str_len;
		result = emalloc(result_len + 1);
		memcpy(result, str, str_len);
		memcpy(result + str_len, end, endlen);
		result[result_len] = '\0'; 
		RETURN_STRINGL(result, result_len, 0);	
	}

	if (!str_len) {
		RETURN_EMPTY_STRING();
	}

	result = php_chunk_split(str, str_len, end, endlen, chunklen, &result_len);

	if (result) {
		RETURN_STRINGL(result, result_len, 0);
	} else {
		RETURN_FALSE;
	}
}
/* }}} */

/* {{{ proto string substr(string str, int start [, int length])
   Returns part of a string */
PHP_FUNCTION(substr)
{
	char *str;
	long l = 0, f;
	int str_len;
	int argc = ZEND_NUM_ARGS();
	
	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "sl|l", &str, &str_len, &f, &l) == FAILURE) {
		return;
	}

	if (argc > 2) {
		if ((l < 0 && -l > str_len)) {
			RETURN_FALSE;
		} else if (l > str_len) {
			l = str_len;
		}
	} else {
		l = str_len;
	}
	
	if (f > str_len) {
		RETURN_FALSE;
	} else if (f < 0 && -f > str_len) {
		f = 0;
	}

	if (l < 0 && (l + str_len - f) < 0) {
		RETURN_FALSE;
	}

	/* if "from" position is negative, count start position from the end
	 * of the string
	 */
	if (f < 0) {
		f = str_len + f;
		if (f < 0) {
			f = 0;
		}
	}

	/* if "length" position is negative, set it to the length
	 * needed to stop that many chars from the end of the string
	 */
	if (l < 0) {
		l = (str_len - f) + l;
		if (l < 0) {
			l = 0;
		}
	}

	if (f >= str_len) {
		RETURN_FALSE;
	}

	if ((f + l) > str_len) {
		l = str_len - f;
	}

	RETURN_STRINGL(str + f, l, 1);
}
/* }}} */

/* {{{ proto mixed substr_replace(mixed str, mixed repl, mixed start [, mixed length])
   Replaces part of a string with another string */
PHP_FUNCTION(substr_replace)
{
	zval **str;
	zval **from;
	zval **len = NULL;
	zval **repl;
	char *result;
	int result_len;
	int l = 0;
	int f;
	int argc = ZEND_NUM_ARGS();

	HashPosition pos_str, pos_from, pos_repl, pos_len;
	zval **tmp_str = NULL, **tmp_from = NULL, **tmp_repl = NULL, **tmp_len= NULL;

	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "ZZZ|Z", &str, &repl, &from, &len) == FAILURE) {
		return;
	}
	
	if (Z_TYPE_PP(str) != IS_ARRAY) {
		if (Z_ISREF_PP(str)) {
			SEPARATE_ZVAL(str);
		}
		convert_to_string_ex(str);
	}
	if (Z_TYPE_PP(repl) != IS_ARRAY) {
		if (Z_ISREF_PP(repl)) {
			SEPARATE_ZVAL(repl);
		}
		convert_to_string_ex(repl);
	}
	if (Z_TYPE_PP(from) != IS_ARRAY) {
		if (Z_ISREF_PP(from)) {
			SEPARATE_ZVAL(from);
		}
		convert_to_long_ex(from);
	}

	if (argc > 3) {
		SEPARATE_ZVAL(len);
		if (Z_TYPE_PP(len) != IS_ARRAY) {
			convert_to_long_ex(len);
			l = Z_LVAL_PP(len);
		}
	} else {
		if (Z_TYPE_PP(str) != IS_ARRAY) {
			l = Z_STRLEN_PP(str);
		}
	}

	if (Z_TYPE_PP(str) == IS_STRING) {
		if (
			(argc == 3 && Z_TYPE_PP(from) == IS_ARRAY) || 
			(argc == 4 && Z_TYPE_PP(from) != Z_TYPE_PP(len))
		) {
			php_error_docref(NULL TSRMLS_CC, E_WARNING, "'from' and 'len' should be of same type - numerical or array ");
			RETURN_STRINGL(Z_STRVAL_PP(str), Z_STRLEN_PP(str), 1);		
		}
		if (argc == 4 && Z_TYPE_PP(from) == IS_ARRAY) {
			if (zend_hash_num_elements(Z_ARRVAL_PP(from)) != zend_hash_num_elements(Z_ARRVAL_PP(len))) {
				php_error_docref(NULL TSRMLS_CC, E_WARNING, "'from' and 'len' should have the same number of elements");
				RETURN_STRINGL(Z_STRVAL_PP(str), Z_STRLEN_PP(str), 1);		
			}
		}
	}
	
	if (Z_TYPE_PP(str) != IS_ARRAY) {
		if (Z_TYPE_PP(from) != IS_ARRAY) {
			int repl_len = 0;

			f = Z_LVAL_PP(from);

			/* if "from" position is negative, count start position from the end
			 * of the string
			 */
			if (f < 0) {
				f = Z_STRLEN_PP(str) + f;
				if (f < 0) {
					f = 0;
				}
			} else if (f > Z_STRLEN_PP(str)) {
				f = Z_STRLEN_PP(str);
			}
			/* if "length" position is negative, set it to the length
			 * needed to stop that many chars from the end of the string
			 */
			if (l < 0) {
				l = (Z_STRLEN_PP(str) - f) + l;
				if (l < 0) {
					l = 0;
				}
			}

			if (f > Z_STRLEN_PP(str) || (f < 0 && -f > Z_STRLEN_PP(str))) {
				RETURN_FALSE;
			} else if (l > Z_STRLEN_PP(str) || (l < 0 && -l > Z_STRLEN_PP(str))) {
				l = Z_STRLEN_PP(str);
			}

			if ((f + l) > Z_STRLEN_PP(str)) {
				l = Z_STRLEN_PP(str) - f;
			}
			if (Z_TYPE_PP(repl) == IS_ARRAY) {
				zend_hash_internal_pointer_reset_ex(Z_ARRVAL_PP(repl), &pos_repl);
				if (SUCCESS == zend_hash_get_current_data_ex(Z_ARRVAL_PP(repl), (void **) &tmp_repl, &pos_repl)) {
					convert_to_string_ex(tmp_repl);
					repl_len = Z_STRLEN_PP(tmp_repl);
				}
			} else {
				repl_len = Z_STRLEN_PP(repl);
			}
			result_len = Z_STRLEN_PP(str) - l + repl_len;
			result = emalloc(result_len + 1);

			memcpy(result, Z_STRVAL_PP(str), f);
			if (repl_len) {
				memcpy((result + f), (Z_TYPE_PP(repl) == IS_ARRAY ? Z_STRVAL_PP(tmp_repl) : Z_STRVAL_PP(repl)), repl_len);
			}
			memcpy((result + f + repl_len), Z_STRVAL_PP(str) + f + l, Z_STRLEN_PP(str) - f - l);
			result[result_len] = '\0';
			RETURN_STRINGL(result, result_len, 0);
		} else {
			php_error_docref(NULL TSRMLS_CC, E_WARNING, "Functionality of 'from' and 'len' as arrays is not implemented");
			RETURN_STRINGL(Z_STRVAL_PP(str), Z_STRLEN_PP(str), 1);	
		}
	} else { /* str is array of strings */
		array_init(return_value);

		if (Z_TYPE_PP(from) == IS_ARRAY) {
			zend_hash_internal_pointer_reset_ex(Z_ARRVAL_PP(from), &pos_from);
		}

		if (argc > 3 && Z_TYPE_PP(len) == IS_ARRAY) {
			zend_hash_internal_pointer_reset_ex(Z_ARRVAL_PP(len), &pos_len);
		}

		if (Z_TYPE_PP(repl) == IS_ARRAY) {
			zend_hash_internal_pointer_reset_ex(Z_ARRVAL_PP(repl), &pos_repl);
		}

		zend_hash_internal_pointer_reset_ex(Z_ARRVAL_PP(str), &pos_str);
		while (zend_hash_get_current_data_ex(Z_ARRVAL_PP(str), (void **) &tmp_str, &pos_str) == SUCCESS) {
			convert_to_string_ex(tmp_str);

			if (Z_TYPE_PP(from) == IS_ARRAY) {
				if (SUCCESS == zend_hash_get_current_data_ex(Z_ARRVAL_PP(from), (void **) &tmp_from, &pos_from)) {
					convert_to_long_ex(tmp_from);

					f = Z_LVAL_PP(tmp_from);
					if (f < 0) {
						f = Z_STRLEN_PP(tmp_str) + f;
						if (f < 0) {
							f = 0;
						}
					} else if (f > Z_STRLEN_PP(tmp_str)) {
						f = Z_STRLEN_PP(tmp_str);
					}
					zend_hash_move_forward_ex(Z_ARRVAL_PP(from), &pos_from);
				} else {
					f = 0;
				}
			} else {
				f = Z_LVAL_PP(from);
				if (f < 0) {
					f = Z_STRLEN_PP(tmp_str) + f;
					if (f < 0) {
						f = 0;
					}
				} else if (f > Z_STRLEN_PP(tmp_str)) {
					f = Z_STRLEN_PP(tmp_str);
				}
			}

			if (argc > 3 && Z_TYPE_PP(len) == IS_ARRAY) {
				if (SUCCESS == zend_hash_get_current_data_ex(Z_ARRVAL_PP(len), (void **) &tmp_len, &pos_len)) {
					convert_to_long_ex(tmp_len);

					l = Z_LVAL_PP(tmp_len);
					zend_hash_move_forward_ex(Z_ARRVAL_PP(len), &pos_len);
				} else {
					l = Z_STRLEN_PP(tmp_str);
				}
			} else if (argc > 3) { 
				l = Z_LVAL_PP(len);
			} else {
				l = Z_STRLEN_PP(tmp_str);
			}

			if (l < 0) {
				l = (Z_STRLEN_PP(tmp_str) - f) + l;
				if (l < 0) {
					l = 0;
				}
			}

			if ((f + l) > Z_STRLEN_PP(tmp_str)) {
				l = Z_STRLEN_PP(tmp_str) - f;
			}

			result_len = Z_STRLEN_PP(tmp_str) - l;

			if (Z_TYPE_PP(repl) == IS_ARRAY) {
				if (SUCCESS == zend_hash_get_current_data_ex(Z_ARRVAL_PP(repl), (void **) &tmp_repl, &pos_repl)) {
					convert_to_string_ex(tmp_repl);
					result_len += Z_STRLEN_PP(tmp_repl);
					zend_hash_move_forward_ex(Z_ARRVAL_PP(repl), &pos_repl);	
					result = emalloc(result_len + 1);

					memcpy(result, Z_STRVAL_PP(tmp_str), f);
					memcpy((result + f), Z_STRVAL_PP(tmp_repl), Z_STRLEN_PP(tmp_repl));
					memcpy((result + f + Z_STRLEN_PP(tmp_repl)), Z_STRVAL_PP(tmp_str) + f + l, Z_STRLEN_PP(tmp_str) - f - l);
				} else {
					result = emalloc(result_len + 1);
	
					memcpy(result, Z_STRVAL_PP(tmp_str), f);
					memcpy((result + f), Z_STRVAL_PP(tmp_str) + f + l, Z_STRLEN_PP(tmp_str) - f - l);
				}
			} else {
				result_len += Z_STRLEN_PP(repl);

				result = emalloc(result_len + 1);

				memcpy(result, Z_STRVAL_PP(tmp_str), f);
				memcpy((result + f), Z_STRVAL_PP(repl), Z_STRLEN_PP(repl));
				memcpy((result + f + Z_STRLEN_PP(repl)), Z_STRVAL_PP(tmp_str) + f + l, Z_STRLEN_PP(tmp_str) - f - l);
			}

			result[result_len] = '\0';
			add_next_index_stringl(return_value, result, result_len, 0);

			zend_hash_move_forward_ex(Z_ARRVAL_PP(str), &pos_str);
		} /*while*/
	} /* if */
}
/* }}} */

/* {{{ proto string quotemeta(string str)
   Quotes meta characters */
PHP_FUNCTION(quotemeta)
{
	char *str, *old;
	char *old_end;
	char *p, *q;
	char c;
	int  old_len;

	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "s", &old, &old_len) == FAILURE) {
		return;
	}
	
	old_end = old + old_len;
		
	if (old == old_end) {
		RETURN_FALSE;
	}
	
	str = safe_emalloc(2, old_len, 1);
	
	for (p = old, q = str; p != old_end; p++) {
		c = *p;
		switch (c) {
			case '.':
			case '\\':
			case '+':
			case '*':
			case '?':
			case '[':
			case '^':
			case ']':
			case '$':
			case '(':
			case ')':
				*q++ = '\\';
				/* break is missing _intentionally_ */
			default:
				*q++ = c;
		}
	}
	*q = 0;

	RETURN_STRINGL(erealloc(str, q - str + 1), q - str, 0);
}
/* }}} */

/* {{{ proto int ord(string character)
   Returns ASCII value of character */
PHP_FUNCTION(ord)
{
	char *str;
	int   str_len;
	
	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "s", &str, &str_len) == FAILURE) {
		return;
	}
	
	RETURN_LONG((unsigned char) str[0]);
}
/* }}} */

/* {{{ proto string chr(int ascii)
   Converts ASCII code to a character */
PHP_FUNCTION(chr)
{
	long c;
	char temp[2];

	if (ZEND_NUM_ARGS() != 1) {
		WRONG_PARAM_COUNT;
	}

	if (zend_parse_parameters_ex(ZEND_PARSE_PARAMS_QUIET, ZEND_NUM_ARGS() TSRMLS_CC, "l", &c) == FAILURE) {
		c = 0;
	}

	temp[0] = (char)c;
	temp[1] = '\0';

	RETURN_STRINGL(temp, 1, 1);
}
/* }}} */

/* {{{ php_ucfirst
   Uppercase the first character of the word in a native string */
static void php_ucfirst(char *str) 
{
	register char *r;
	r = str;
	*r = toupper((unsigned char) *r);
}
/* }}} */

/* {{{ proto string ucfirst(string str)
   Makes a string's first character uppercase */
PHP_FUNCTION(ucfirst)
{
	char *str;
	int  str_len;
	
	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "s", &str, &str_len) == FAILURE) {
		return;
	}

	if (!str_len) {
		RETURN_EMPTY_STRING();
	}

	ZVAL_STRINGL(return_value, str, str_len, 1);
	php_ucfirst(Z_STRVAL_P(return_value));
}
/* }}} */

/* {{{
   Lowercase the first character of the word in a native string */
static void php_lcfirst(char *str)
{
	register char *r;
	r = str;
	*r = tolower((unsigned char) *r);
}
/* }}} */

/* {{{ proto string lcfirst(string str)
   Make a string's first character lowercase */
PHP_FUNCTION(lcfirst)
{
	char  *str;
	int   str_len;

	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "s", &str, &str_len) == FAILURE) {
		return;
	}

	if (!str_len) {
		RETURN_EMPTY_STRING();
	}

	ZVAL_STRINGL(return_value, str, str_len, 1);
	php_lcfirst(Z_STRVAL_P(return_value));
}
/* }}} */

/* {{{ proto string ucwords(string str)
   Uppercase the first character of every word in a string */
PHP_FUNCTION(ucwords)
{
	char *str;
	register char *r, *r_end;
	int str_len;
	
	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "s", &str, &str_len) == FAILURE) {
		return;
	}

	if (!str_len) {
		RETURN_EMPTY_STRING();
	}

	ZVAL_STRINGL(return_value, str, str_len, 1);
	r = Z_STRVAL_P(return_value);

	*r = toupper((unsigned char) *r);
	for (r_end = r + Z_STRLEN_P(return_value) - 1; r < r_end; ) {
		if (isspace((int) *(unsigned char *)r++)) {
			*r = toupper((unsigned char) *r);
		}
	}
}
/* }}} */

/* {{{ php_strtr
 */
PHPAPI char *php_strtr(char *str, int len, char *str_from, char *str_to, int trlen)
{
	int i;
	unsigned char xlat[256];

	if ((trlen < 1) || (len < 1)) {
		return str;
	}

	for (i = 0; i < 256; xlat[i] = i, i++);

	for (i = 0; i < trlen; i++) {
		xlat[(unsigned char) str_from[i]] = str_to[i];
	}

	for (i = 0; i < len; i++) {
		str[i] = xlat[(unsigned char) str[i]];
	}

	return str;
}
/* }}} */

/* {{{ php_strtr_array
 */
static void php_strtr_array(zval *return_value, char *str, int slen, HashTable *hash)
{
	zval **entry;
	char  *string_key;
	uint   string_key_len;
	zval **trans;
	zval   ctmp;
	ulong num_key;
	int minlen = 128*1024;
	int maxlen = 0, pos, len, found;
	char *key;
	HashPosition hpos;
	smart_str result = {0};
	HashTable tmp_hash;
	
	zend_hash_init(&tmp_hash, zend_hash_num_elements(hash), NULL, NULL, 0);
	zend_hash_internal_pointer_reset_ex(hash, &hpos);
	while (zend_hash_get_current_data_ex(hash, (void **)&entry, &hpos) == SUCCESS) {
		switch (zend_hash_get_current_key_ex(hash, &string_key, &string_key_len, &num_key, 0, &hpos)) {
			case HASH_KEY_IS_STRING:
				len = string_key_len-1;
				if (len < 1) {
					zend_hash_destroy(&tmp_hash);
					RETURN_FALSE;
				}
				zend_hash_add(&tmp_hash, string_key, string_key_len, entry, sizeof(zval*), NULL);
				if (len > maxlen) {
					maxlen = len;
				}
				if (len < minlen) {
					minlen = len;
				}
				break; 
			
			case HASH_KEY_IS_LONG:
				Z_TYPE(ctmp) = IS_LONG;
				Z_LVAL(ctmp) = num_key;
			
				convert_to_string(&ctmp);
				len = Z_STRLEN(ctmp);
				zend_hash_add(&tmp_hash, Z_STRVAL(ctmp), len+1, entry, sizeof(zval*), NULL);
				zval_dtor(&ctmp);

				if (len > maxlen) {
					maxlen = len;
				}
				if (len < minlen) {
					minlen = len;
				}
				break;
		}
		zend_hash_move_forward_ex(hash, &hpos);
	}

	key = emalloc(maxlen+1);
	pos = 0;

	while (pos < slen) {
		if ((pos + maxlen) > slen) {
			maxlen = slen - pos;
		}

		found = 0;
		memcpy(key, str+pos, maxlen);

		for (len = maxlen; len >= minlen; len--) {
			key[len] = 0;
			
			if (zend_hash_find(&tmp_hash, key, len+1, (void**)&trans) == SUCCESS) {
				char *tval;
				int tlen;
				zval tmp;

				if (Z_TYPE_PP(trans) != IS_STRING) {
					tmp = **trans;
					zval_copy_ctor(&tmp);
					convert_to_string(&tmp);
					tval = Z_STRVAL(tmp);
					tlen = Z_STRLEN(tmp);
				} else {
					tval = Z_STRVAL_PP(trans);
					tlen = Z_STRLEN_PP(trans);
				}

				smart_str_appendl(&result, tval, tlen);
				pos += len;
				found = 1;

				if (Z_TYPE_PP(trans) != IS_STRING) {
					zval_dtor(&tmp);
				}
				break;
			} 
		}

		if (! found) {
			smart_str_appendc(&result, str[pos++]);
		}
	}

	efree(key);
	zend_hash_destroy(&tmp_hash);
	smart_str_0(&result);
	RETVAL_STRINGL(result.c, result.len, 0);
}
/* }}} */

/* {{{ proto string strtr(string str, string from[, string to])
   Translates characters in str using given translation tables */
PHP_FUNCTION(strtr)
{								
	zval **from;
	char *str, *to = NULL;
	int str_len, to_len = 0;
	int ac = ZEND_NUM_ARGS();
	
	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "sZ|s", &str, &str_len, &from, &to, &to_len) == FAILURE) {
		return;
	}
	
	if (ac == 2 && Z_TYPE_PP(from) != IS_ARRAY) {
		php_error_docref(NULL TSRMLS_CC, E_WARNING, "The second argument is not an array");
		RETURN_FALSE;
	}

	/* shortcut for empty string */
	if (str_len == 0) {
		RETURN_EMPTY_STRING();
	}

	if (ac == 2) {
		php_strtr_array(return_value, str, str_len, HASH_OF(*from));
	} else {
		convert_to_string_ex(from);

		ZVAL_STRINGL(return_value, str, str_len, 1);
		
		php_strtr(Z_STRVAL_P(return_value),
				  Z_STRLEN_P(return_value),
				  Z_STRVAL_PP(from),
				  to,
				  MIN(Z_STRLEN_PP(from), 
				  to_len));
	}
}
/* }}} */

/* {{{ proto string strrev(string str)
   Reverse a string */
PHP_FUNCTION(strrev)
{
	char *str;
	char *e, *n, *p;
	int  str_len;
	
	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "s", &str, &str_len) == FAILURE) {
		return;
	}
	
	n = emalloc(str_len+1);
	p = n;
	
	e = str + str_len;
	
	while (--e>=str) {
		*p++ = *e;
	}
	
	*p = '\0';
	
	RETVAL_STRINGL(n, str_len, 0);
}
/* }}} */

/* {{{ php_similar_str
 */
static void php_similar_str(const char *txt1, int len1, const char *txt2, int len2, int *pos1, int *pos2, int *max)
{
	char *p, *q;
	char *end1 = (char *) txt1 + len1;
	char *end2 = (char *) txt2 + len2;
	int l;
	
	*max = 0;
	for (p = (char *) txt1; p < end1; p++) {
		for (q = (char *) txt2; q < end2; q++) {
			for (l = 0; (p + l < end1) && (q + l < end2) && (p[l] == q[l]); l++);
			if (l > *max) {
				*max = l;
				*pos1 = p - txt1;
				*pos2 = q - txt2;
			}
		}
	}
}
/* }}} */

/* {{{ php_similar_char
 */
static int php_similar_char(const char *txt1, int len1, const char *txt2, int len2)
{
	int sum;
	int pos1, pos2, max;

	php_similar_str(txt1, len1, txt2, len2, &pos1, &pos2, &max);
	if ((sum = max)) {
		if (pos1 && pos2) {
			sum += php_similar_char(txt1, pos1, 
									txt2, pos2);
		}
		if ((pos1 + max < len1) && (pos2 + max < len2)) {
			sum += php_similar_char(txt1 + pos1 + max, len1 - pos1 - max, 
									txt2 + pos2 + max, len2 - pos2 - max);
		}
	}

	return sum;
}
/* }}} */

/* {{{ proto int similar_text(string str1, string str2 [, float percent])
   Calculates the similarity between two strings */
PHP_FUNCTION(similar_text)
{
	char *t1, *t2;
	zval **percent = NULL;
	int ac = ZEND_NUM_ARGS();
	int sim;
	int t1_len, t2_len;
	
	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "ss|Z", &t1, &t1_len, &t2, &t2_len, &percent) == FAILURE) {
		return;
	}
	
	if (ac > 2) {
		convert_to_double_ex(percent);
	}
	
	if (t1_len + t2_len == 0) {
		if (ac > 2) {
			Z_DVAL_PP(percent) = 0;
		}

		RETURN_LONG(0);
	}
	
	sim = php_similar_char(t1, t1_len, t2, t2_len);	

	if (ac > 2) {
		Z_DVAL_PP(percent) = sim * 200.0 / (t1_len + t2_len);
	}

	RETURN_LONG(sim);
}
/* }}} */

/* {{{ php_stripslashes
 *
 * be careful, this edits the string in-place */
PHPAPI void php_stripslashes(char *str, int *len TSRMLS_DC)
{
	char *s, *t;
	int l;

	if (len != NULL) {
		l = *len;
	} else {
		l = strlen(str);
	}
	s = str;
	t = str;

	if (PG(magic_quotes_sybase)) {
		while (l > 0) {
			if (*t == '\'') {
				if ((l > 0) && (t[1] == '\'')) {
					t++;
					if (len != NULL) {
						(*len)--;
					}
					l--;
				}
				*s++ = *t++;
			} else if (*t == '\\' && t[1] == '0' && l > 0) {
				*s++='\0';
				t+=2;
				if (len != NULL) {
					(*len)--;
				}
				l--;
			} else {
				*s++ = *t++;
			}
			l--;
		}
		*s = '\0';
		
		return;
	}

	while (l > 0) {
		if (*t == '\\') {
			t++;				/* skip the slash */
			if (len != NULL) {
				(*len)--;
			}
			l--;
			if (l > 0) {
				if (*t == '0') {
					*s++='\0';
					t++;
				} else {
					*s++ = *t++;	/* preserve the next character */
				}
				l--;
			}
		} else {
			*s++ = *t++;
			l--;
		}
	}
	if (s != t) {
		*s = '\0';
	}
}
/* }}} */

/* {{{ proto string addcslashes(string str, string charlist)
   Escapes all chars mentioned in charlist with backslash. It creates octal representations if asked to backslash characters with 8th bit set or with ASCII<32 (except '\n', '\r', '\t' etc...) */
PHP_FUNCTION(addcslashes)
{
	char *str, *what;
	int str_len, what_len;

	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "ss", &str, &str_len, &what, &what_len) == FAILURE) {
		return;
	}

	if (str_len == 0) {
		RETURN_EMPTY_STRING();
	}

	if (what_len == 0) {
		RETURN_STRINGL(str, str_len, 1);
	}

	Z_STRVAL_P(return_value) = php_addcslashes(str, str_len, &Z_STRLEN_P(return_value), 0, what, what_len TSRMLS_CC);
	RETURN_STRINGL(Z_STRVAL_P(return_value), Z_STRLEN_P(return_value), 0);
}
/* }}} */

/* {{{ proto string addslashes(string str)
   Escapes single quote, double quotes and backslash characters in a string with backslashes */
PHP_FUNCTION(addslashes)
{
	char *str;
	int  str_len;
	
	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "s", &str, &str_len) == FAILURE) {
		return;
	}

	if (str_len == 0) {
		RETURN_EMPTY_STRING();
	}

	RETURN_STRING(php_addslashes(str,
	                             str_len, 
	                             &Z_STRLEN_P(return_value), 0 
	                             TSRMLS_CC), 0);
}
/* }}} */

/* {{{ proto string stripcslashes(string str)
   Strips backslashes from a string. Uses C-style conventions */
PHP_FUNCTION(stripcslashes)
{
	char *str;
	int  str_len;
	
	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "s", &str, &str_len) == FAILURE) {
		return;
	}

	ZVAL_STRINGL(return_value, str, str_len, 1);
	php_stripcslashes(Z_STRVAL_P(return_value), &Z_STRLEN_P(return_value));
}
/* }}} */

/* {{{ proto string stripslashes(string str)
   Strips backslashes from a string */
PHP_FUNCTION(stripslashes)
{
	char *str;
	int  str_len;
	
	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "s", &str, &str_len) == FAILURE) {
		return;
	}

	ZVAL_STRINGL(return_value, str, str_len, 1);
	php_stripslashes(Z_STRVAL_P(return_value), &Z_STRLEN_P(return_value) TSRMLS_CC);
}
/* }}} */

#ifndef HAVE_STRERROR
/* {{{ php_strerror
 */
char *php_strerror(int errnum) 
{
	extern int sys_nerr;
	extern char *sys_errlist[];
	TSRMLS_FETCH();

	if ((unsigned int) errnum < sys_nerr) {
		return(sys_errlist[errnum]);
	}

	(void) snprintf(BG(str_ebuf), sizeof(php_basic_globals.str_ebuf), "Unknown error: %d", errnum);
	return(BG(str_ebuf));
}
/* }}} */
#endif

/* {{{ php_stripcslashes
 */
PHPAPI void php_stripcslashes(char *str, int *len)
{
	char *source, *target, *end;
	int  nlen = *len, i;
	char numtmp[4];

	for (source=str, end=str+nlen, target=str; source < end; source++) {
		if (*source == '\\' && source+1 < end) {
			source++;
			switch (*source) {
				case 'n':  *target++='\n'; nlen--; break;
				case 'r':  *target++='\r'; nlen--; break;
				case 'a':  *target++='\a'; nlen--; break;
				case 't':  *target++='\t'; nlen--; break;
				case 'v':  *target++='\v'; nlen--; break;
				case 'b':  *target++='\b'; nlen--; break;
				case 'f':  *target++='\f'; nlen--; break;
				case '\\': *target++='\\'; nlen--; break;
				case 'x':
					if (source+1 < end && isxdigit((int)(*(source+1)))) {
						numtmp[0] = *++source;
						if (source+1 < end && isxdigit((int)(*(source+1)))) {
							numtmp[1] = *++source;
							numtmp[2] = '\0';
							nlen-=3;
						} else {
							numtmp[1] = '\0';
							nlen-=2;
						}
						*target++=(char)strtol(numtmp, NULL, 16);
						break;
					}
					/* break is left intentionally */
				default: 
					i=0; 
					while (source < end && *source >= '0' && *source <= '7' && i<3) {
						numtmp[i++] = *source++;
					}
					if (i) {
						numtmp[i]='\0';
						*target++=(char)strtol(numtmp, NULL, 8);
						nlen-=i;
						source--;
					} else {
						*target++=*source;
						nlen--;
					}
			}
		} else {
			*target++=*source;
		}
	}

	if (nlen != 0) {
		*target='\0';
	}

	*len = nlen;
}
/* }}} */
			
/* {{{ php_addcslashes
 */
PHPAPI char *php_addcslashes(char *str, int length, int *new_length, int should_free, char *what, int wlength TSRMLS_DC)
{
	char flags[256];
	char *new_str = safe_emalloc(4, (length?length:(length=strlen(str))), 1);
	char *source, *target;
	char *end;
	char c;
	int  newlen;

	if (!wlength) {
		wlength = strlen(what);
	}

	php_charmask((unsigned char *)what, wlength, flags TSRMLS_CC);

	for (source = str, end = source + length, target = new_str; source < end; source++) {
		c = *source; 
		if (flags[(unsigned char)c]) {
			if ((unsigned char) c < 32 || (unsigned char) c > 126) {
				*target++ = '\\';
				switch (c) {
					case '\n': *target++ = 'n'; break;
					case '\t': *target++ = 't'; break;
					case '\r': *target++ = 'r'; break;
					case '\a': *target++ = 'a'; break;
					case '\v': *target++ = 'v'; break;
					case '\b': *target++ = 'b'; break;
					case '\f': *target++ = 'f'; break;
					default: target += sprintf(target, "%03o", (unsigned char) c);
				}
				continue;
			} 
			*target++ = '\\';
		}
		*target++ = c;
	}
	*target = 0;
	newlen = target - new_str;
	if (target - new_str < length * 4) {
		new_str = erealloc(new_str, newlen + 1);
	}
	if (new_length) {
		*new_length = newlen;
	}
	if (should_free) {
		STR_FREE(str);
	}
	return new_str;
}
/* }}} */

/* {{{ php_addslashes
 */
PHPAPI char *php_addslashes(char *str, int length, int *new_length, int should_free TSRMLS_DC)
{
	return php_addslashes_ex(str, length, new_length, should_free, 0 TSRMLS_CC);
}
/* }}} */

/* {{{ php_addslashes_ex
 */
PHPAPI char *php_addslashes_ex(char *str, int length, int *new_length, int should_free, int ignore_sybase TSRMLS_DC)
{
	/* maximum string length, worst case situation */
	char *new_str;
	char *source, *target;
	char *end;
	int local_new_length;
 	        
	if (!new_length) {
		new_length = &local_new_length;
	}
	if (!str) {
		*new_length = 0;
		return str;
	}
	new_str = (char *) safe_emalloc(2, (length ? length : (length = strlen(str))), 1);
	source = str;
	end = source + length;
	target = new_str;
	
	if (!ignore_sybase && PG(magic_quotes_sybase)) {
		while (source < end) {
			switch (*source) {
				case '\0':
					*target++ = '\\';
					*target++ = '0';
					break;
				case '\'':
					*target++ = '\'';
					*target++ = '\'';
					break;
				default:
					*target++ = *source;
					break;
			}
			source++;
		}
	} else {
		while (source < end) {
			switch (*source) {
				case '\0':
					*target++ = '\\';
					*target++ = '0';
					break;
				case '\'':
				case '\"':
				case '\\':
					*target++ = '\\';
					/* break is missing *intentionally* */
				default:
					*target++ = *source;
					break;	
			}
		
			source++;
		}
	}
	
	*target = 0;
	*new_length = target - new_str;
	if (should_free) {
		STR_FREE(str);
	}
	new_str = (char *) erealloc(new_str, *new_length + 1);
	return new_str;
}
/* }}} */

#define _HEB_BLOCK_TYPE_ENG 1
#define _HEB_BLOCK_TYPE_HEB 2
#define isheb(c)      (((((unsigned char) c) >= 224) && (((unsigned char) c) <= 250)) ? 1 : 0)
#define _isblank(c)   (((((unsigned char) c) == ' '  || ((unsigned char) c) == '\t')) ? 1 : 0)
#define _isnewline(c) (((((unsigned char) c) == '\n' || ((unsigned char) c) == '\r')) ? 1 : 0)

/* {{{ php_char_to_str_ex
 */
PHPAPI int php_char_to_str_ex(char *str, uint len, char from, char *to, int to_len, zval *result, int case_sensitivity, int *replace_count)
{
	int char_count = 0;
	int replaced = 0;
	char *source, *target, *tmp, *source_end=str+len, *tmp_end = NULL;
		
	if (case_sensitivity) {
		char *p = str, *e = p + len;
		while ((p = memchr(p, from, (e - p)))) {
			char_count++;
			p++;
		}
	} else {
		for (source = str; source < source_end; source++) {
			if (tolower(*source) == tolower(from)) {
				char_count++;
			}
		}
	}

	if (char_count == 0 && case_sensitivity) {
		ZVAL_STRINGL(result, str, len, 1);
		return 0;
	}
	
	Z_STRLEN_P(result) = len + (char_count * (to_len - 1));
	Z_STRVAL_P(result) = target = safe_emalloc(char_count, to_len, len + 1);
	Z_TYPE_P(result) = IS_STRING;

	if (case_sensitivity) {
		char *p = str, *e = p + len, *s = str;
		while ((p = memchr(p, from, (e - p)))) {
			memcpy(target, s, (p - s));
			target += p - s;
			memcpy(target, to, to_len);
			target += to_len;
			p++;
			s = p;
			if (replace_count) {
				*replace_count += 1;
			}
		}
		if (s < e) {
			memcpy(target, s, (e - s));
			target += e - s;
		}
	} else {
		for (source = str; source < source_end; source++) {
			if (tolower(*source) == tolower(from)) {
				replaced = 1;
				if (replace_count) {
					*replace_count += 1;
				}
				for (tmp = to, tmp_end = tmp+to_len; tmp < tmp_end; tmp++) {
					*target = *tmp;
					target++;
				}
			} else {
				*target = *source;
				target++;
			}
		}
	}
	*target = 0;
	return replaced;
}
/* }}} */

/* {{{ php_char_to_str
 */
PHPAPI int php_char_to_str(char *str, uint len, char from, char *to, int to_len, zval *result)
{
	return php_char_to_str_ex(str, len, from, to, to_len, result, 1, NULL);
}
/* }}} */

/* {{{ php_str_to_str_ex
 */
PHPAPI char *php_str_to_str_ex(char *haystack, int length, 
	char *needle, int needle_len, char *str, int str_len, int *_new_length, int case_sensitivity, int *replace_count)
{
	char *new_str;

	if (needle_len < length) {
		char *end, *haystack_dup = NULL, *needle_dup = NULL;
		char *e, *s, *p, *r;

		if (needle_len == str_len) {
			new_str = estrndup(haystack, length);
			*_new_length = length;

			if (case_sensitivity) {
				end = new_str + length;
				for (p = new_str; (r = php_memnstr(p, needle, needle_len, end)); p = r + needle_len) {
					memcpy(r, str, str_len);
					if (replace_count) {
						(*replace_count)++;
					}
				}
			} else {
				haystack_dup = estrndup(haystack, length);
				needle_dup = estrndup(needle, needle_len);
				php_strtolower(haystack_dup, length);
				php_strtolower(needle_dup, needle_len);
				end = haystack_dup + length;
				for (p = haystack_dup; (r = php_memnstr(p, needle_dup, needle_len, end)); p = r + needle_len) {
					memcpy(new_str + (r - haystack_dup), str, str_len);
					if (replace_count) {
						(*replace_count)++;
					}
				}
				efree(haystack_dup);
				efree(needle_dup);
			}
			return new_str;
		} else {
			if (!case_sensitivity) {
				haystack_dup = estrndup(haystack, length);
				needle_dup = estrndup(needle, needle_len);
				php_strtolower(haystack_dup, length);
				php_strtolower(needle_dup, needle_len);
			}

			if (str_len < needle_len) {
				new_str = emalloc(length + 1);
			} else {
				int count = 0;
				char *o, *n, *endp;

				if (case_sensitivity) {
					o = haystack;
					n = needle;
				} else {
					o = haystack_dup;
					n = needle_dup;
				}
				endp = o + length;

				while ((o = php_memnstr(o, n, needle_len, endp))) {
					o += needle_len;
					count++;
				}
				if (count == 0) {
					/* Needle doesn't occur, shortcircuit the actual replacement. */
					if (haystack_dup) {
						efree(haystack_dup);
					}
					if (needle_dup) {
						efree(needle_dup);
					}
					new_str = estrndup(haystack, length);
					if (_new_length) {
						*_new_length = length;
					}
					return new_str;
				} else {
					new_str = safe_emalloc(count, str_len - needle_len, length + 1);
				}
			}

			e = s = new_str;

			if (case_sensitivity) {
				end = haystack + length;
				for (p = haystack; (r = php_memnstr(p, needle, needle_len, end)); p = r + needle_len) {
					memcpy(e, p, r - p);
					e += r - p;
					memcpy(e, str, str_len);
					e += str_len;
					if (replace_count) {
						(*replace_count)++;
					}
				}

				if (p < end) {
					memcpy(e, p, end - p);
					e += end - p;
				}
			} else {
				end = haystack_dup + length;

				for (p = haystack_dup; (r = php_memnstr(p, needle_dup, needle_len, end)); p = r + needle_len) {
					memcpy(e, haystack + (p - haystack_dup), r - p);
					e += r - p;
					memcpy(e, str, str_len);
					e += str_len;
					if (replace_count) {
						(*replace_count)++;
					}
				}

				if (p < end) {
					memcpy(e, haystack + (p - haystack_dup), end - p);
					e += end - p;
				}
			}

			if (haystack_dup) {
				efree(haystack_dup);
			}
			if (needle_dup) {
				efree(needle_dup);
			}

			*e = '\0';
			*_new_length = e - s;

			new_str = erealloc(new_str, *_new_length + 1);
			return new_str;
		}
	} else if (needle_len > length) {
nothing_todo:
		*_new_length = length;
		new_str = estrndup(haystack, length);
		return new_str;
	} else {
		if (case_sensitivity && memcmp(haystack, needle, length)) {
			goto nothing_todo;
		} else if (!case_sensitivity) {
			char *l_haystack, *l_needle;

			l_haystack = estrndup(haystack, length);
			l_needle = estrndup(needle, length);

			php_strtolower(l_haystack, length);
			php_strtolower(l_needle, length);

			if (memcmp(l_haystack, l_needle, length)) {
				efree(l_haystack);
				efree(l_needle);
				goto nothing_todo;
			}
			efree(l_haystack);
			efree(l_needle);
		}

		*_new_length = str_len;
		new_str = estrndup(str, str_len);

		if (replace_count) {
			(*replace_count)++;
		}
		return new_str;
	}

}
/* }}} */

/* {{{ php_str_to_str
 */
PHPAPI char *php_str_to_str(char *haystack, int length, 
	char *needle, int needle_len, char *str, int str_len, int *_new_length)
{
	return php_str_to_str_ex(haystack, length, needle, needle_len, str, str_len, _new_length, 1, NULL);
} 
/* }}} */

/* {{{ php_str_replace_in_subject
 */
static void php_str_replace_in_subject(zval *search, zval *replace, zval **subject, zval *result, int case_sensitivity, int *replace_count)
{
	zval		**search_entry,
				**replace_entry = NULL,
				  temp_result;
	char		*replace_value = NULL;
	int			 replace_len = 0;

	/* Make sure we're dealing with strings. */	
	convert_to_string_ex(subject);
	Z_TYPE_P(result) = IS_STRING;
	if (Z_STRLEN_PP(subject) == 0) {
		ZVAL_STRINGL(result, "", 0, 1);
		return;
	}
	
	/* If search is an array */
	if (Z_TYPE_P(search) == IS_ARRAY) {
		/* Duplicate subject string for repeated replacement */
		MAKE_COPY_ZVAL(subject, result);
		
		zend_hash_internal_pointer_reset(Z_ARRVAL_P(search));

		if (Z_TYPE_P(replace) == IS_ARRAY) {
			zend_hash_internal_pointer_reset(Z_ARRVAL_P(replace));
		} else {
			/* Set replacement value to the passed one */
			replace_value = Z_STRVAL_P(replace);
			replace_len = Z_STRLEN_P(replace);
		}

		/* For each entry in the search array, get the entry */
		while (zend_hash_get_current_data(Z_ARRVAL_P(search), (void **) &search_entry) == SUCCESS) {
			/* Make sure we're dealing with strings. */	
			SEPARATE_ZVAL(search_entry);
			convert_to_string(*search_entry);
			if (Z_STRLEN_PP(search_entry) == 0) {
				zend_hash_move_forward(Z_ARRVAL_P(search));
				if (Z_TYPE_P(replace) == IS_ARRAY) {
					zend_hash_move_forward(Z_ARRVAL_P(replace));
				}
				continue;
			}

			/* If replace is an array. */
			if (Z_TYPE_P(replace) == IS_ARRAY) {
				/* Get current entry */
				if (zend_hash_get_current_data(Z_ARRVAL_P(replace), (void **)&replace_entry) == SUCCESS) {
					/* Make sure we're dealing with strings. */	
					convert_to_string_ex(replace_entry);
					
					/* Set replacement value to the one we got from array */
					replace_value = Z_STRVAL_PP(replace_entry);
					replace_len = Z_STRLEN_PP(replace_entry);

					zend_hash_move_forward(Z_ARRVAL_P(replace));
				} else {
					/* We've run out of replacement strings, so use an empty one. */
					replace_value = "";
					replace_len = 0;
				}
			}
			
			if (Z_STRLEN_PP(search_entry) == 1) {
				php_char_to_str_ex(Z_STRVAL_P(result),
								Z_STRLEN_P(result),
								Z_STRVAL_PP(search_entry)[0],
								replace_value,
								replace_len,
								&temp_result,
								case_sensitivity,
								replace_count);
			} else if (Z_STRLEN_PP(search_entry) > 1) {
				Z_STRVAL(temp_result) = php_str_to_str_ex(Z_STRVAL_P(result), Z_STRLEN_P(result),
														   Z_STRVAL_PP(search_entry), Z_STRLEN_PP(search_entry),
														   replace_value, replace_len, &Z_STRLEN(temp_result), case_sensitivity, replace_count);
			}

           str_efree(Z_STRVAL_P(result));
			Z_STRVAL_P(result) = Z_STRVAL(temp_result);
			Z_STRLEN_P(result) = Z_STRLEN(temp_result);

			if (Z_STRLEN_P(result) == 0) {
				return;
			}

			zend_hash_move_forward(Z_ARRVAL_P(search));
		}
	} else {
		if (Z_STRLEN_P(search) == 1) {
			php_char_to_str_ex(Z_STRVAL_PP(subject),
							Z_STRLEN_PP(subject),
							Z_STRVAL_P(search)[0],
							Z_STRVAL_P(replace),
							Z_STRLEN_P(replace),
							result,
							case_sensitivity,
							replace_count);
		} else if (Z_STRLEN_P(search) > 1) {
			Z_STRVAL_P(result) = php_str_to_str_ex(Z_STRVAL_PP(subject), Z_STRLEN_PP(subject),
													Z_STRVAL_P(search), Z_STRLEN_P(search),
													Z_STRVAL_P(replace), Z_STRLEN_P(replace), &Z_STRLEN_P(result), case_sensitivity, replace_count);
		} else {
			MAKE_COPY_ZVAL(subject, result);
		}
	}
}
/* }}} */

/* {{{ php_str_replace_common
 */
static void php_str_replace_common(INTERNAL_FUNCTION_PARAMETERS, int case_sensitivity)
{
	zval **subject, **search, **replace, **subject_entry, **zcount = NULL;
	zval *result;
	char *string_key;
	uint string_key_len;
	ulong num_key;
	int count = 0;
	int argc = ZEND_NUM_ARGS();

	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "ZZZ|Z", &search, &replace, &subject, &zcount) == FAILURE) {
		return;
	}

	SEPARATE_ZVAL(search);
	SEPARATE_ZVAL(replace);
	SEPARATE_ZVAL(subject);

	/* Make sure we're dealing with strings and do the replacement. */
	if (Z_TYPE_PP(search) != IS_ARRAY) {
		convert_to_string_ex(search);
		convert_to_string_ex(replace);
	} else if (Z_TYPE_PP(replace) != IS_ARRAY) {
		convert_to_string_ex(replace);
	}

	/* if subject is an array */
	if (Z_TYPE_PP(subject) == IS_ARRAY) {
		array_init(return_value);
		zend_hash_internal_pointer_reset(Z_ARRVAL_PP(subject));

		/* For each subject entry, convert it to string, then perform replacement
		   and add the result to the return_value array. */
		while (zend_hash_get_current_data(Z_ARRVAL_PP(subject), (void **)&subject_entry) == SUCCESS) {
			if (Z_TYPE_PP(subject_entry) != IS_ARRAY && Z_TYPE_PP(subject_entry) != IS_OBJECT) {
				MAKE_STD_ZVAL(result);
				SEPARATE_ZVAL(subject_entry);
				php_str_replace_in_subject(*search, *replace, subject_entry, result, case_sensitivity, (argc > 3) ? &count : NULL);
			} else {
				ALLOC_ZVAL(result);
				Z_ADDREF_P(*subject_entry);
				COPY_PZVAL_TO_ZVAL(*result, *subject_entry);
			}
			/* Add to return array */
			switch (zend_hash_get_current_key_ex(Z_ARRVAL_PP(subject), &string_key,
												&string_key_len, &num_key, 0, NULL)) {
				case HASH_KEY_IS_STRING:
					add_assoc_zval_ex(return_value, string_key, string_key_len, result);
					break;

				case HASH_KEY_IS_LONG:
					add_index_zval(return_value, num_key, result);
					break;
			}
		
			zend_hash_move_forward(Z_ARRVAL_PP(subject));
		}
	} else {	/* if subject is not an array */
		php_str_replace_in_subject(*search, *replace, subject, return_value, case_sensitivity, (argc > 3) ? &count : NULL);
	}	
	if (argc > 3) {
		zval_dtor(*zcount);
		ZVAL_LONG(*zcount, count);
	}
}
/* }}} */

/* {{{ proto mixed str_replace(mixed search, mixed replace, mixed subject [, int &replace_count])
   Replaces all occurrences of search in haystack with replace */
PHP_FUNCTION(str_replace)
{
	php_str_replace_common(INTERNAL_FUNCTION_PARAM_PASSTHRU, 1);
}
/* }}} */

/* {{{ proto mixed str_ireplace(mixed search, mixed replace, mixed subject [, int &replace_count])
   Replaces all occurrences of search in haystack with replace / case-insensitive */
PHP_FUNCTION(str_ireplace)
{
	php_str_replace_common(INTERNAL_FUNCTION_PARAM_PASSTHRU, 0);
}
/* }}} */

/* {{{ php_hebrev
 *
 * Converts Logical Hebrew text (Hebrew Windows style) to Visual text
 * Cheers/complaints/flames - Zeev Suraski <zeev@php.net>
 */
static void php_hebrev(INTERNAL_FUNCTION_PARAMETERS, int convert_newlines)
{
	char *str;
	char *heb_str, *tmp, *target, *broken_str;
	int block_start, block_end, block_type, block_length, i;
	long max_chars=0;
	int begin, end, char_count, orig_begin;
	int str_len;
	
	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "s|l", &str, &str_len, &max_chars) == FAILURE) {
		return;
	}
	
	if (str_len == 0) {
		RETURN_FALSE;
	}

	tmp = str;
	block_start=block_end=0;

	heb_str = (char *) emalloc(str_len+1);
	target = heb_str+str_len;
	*target = 0;
	target--;

	block_length=0;

	if (isheb(*tmp)) {
		block_type = _HEB_BLOCK_TYPE_HEB;
	} else {
		block_type = _HEB_BLOCK_TYPE_ENG;
	}
	
	do {
		if (block_type == _HEB_BLOCK_TYPE_HEB) {
			while ((isheb((int)*(tmp+1)) || _isblank((int)*(tmp+1)) || ispunct((int)*(tmp+1)) || (int)*(tmp+1)=='\n' ) && block_end<str_len-1) {
				tmp++;
				block_end++;
				block_length++;
			}
			for (i = block_start; i<= block_end; i++) {
				*target = str[i];
				switch (*target) {
					case '(':
						*target = ')';
						break;
					case ')':
						*target = '(';
						break;
					case '[':
						*target = ']';
						break;
					case ']':
						*target = '[';
						break;
					case '{':
						*target = '}';
						break;
					case '}':
						*target = '{';
						break;
					case '<':
						*target = '>';
						break;
					case '>':
						*target = '<';
						break;
					case '\\':
						*target = '/';
						break;
					case '/':
						*target = '\\';
						break;
					default:
						break;
				}
				target--;
			}
			block_type = _HEB_BLOCK_TYPE_ENG;
		} else {
			while (!isheb(*(tmp+1)) && (int)*(tmp+1)!='\n' && block_end < str_len-1) {
				tmp++;
				block_end++;
				block_length++;
			}
			while ((_isblank((int)*tmp) || ispunct((int)*tmp)) && *tmp!='/' && *tmp!='-' && block_end > block_start) {
				tmp--;
				block_end--;
			}
			for (i = block_end; i >= block_start; i--) {
				*target = str[i];
				target--;
			}
			block_type = _HEB_BLOCK_TYPE_HEB;
		}
		block_start=block_end+1;
	} while (block_end < str_len-1);


	broken_str = (char *) emalloc(str_len+1);
	begin=end=str_len-1;
	target = broken_str;
		
	while (1) {
		char_count=0;
		while ((!max_chars || char_count < max_chars) && begin > 0) {
			char_count++;
			begin--;
			if (begin <= 0 || _isnewline(heb_str[begin])) {
				while (begin > 0 && _isnewline(heb_str[begin-1])) {
					begin--;
					char_count++;
				}
				break;
			}
		}
		if (char_count == max_chars) { /* try to avoid breaking words */
			int new_char_count=char_count, new_begin=begin;
			
			while (new_char_count > 0) {
				if (_isblank(heb_str[new_begin]) || _isnewline(heb_str[new_begin])) {
					break;
				}
				new_begin++;
				new_char_count--;
			}
			if (new_char_count > 0) {
				char_count=new_char_count;
				begin=new_begin;
			}
		}
		orig_begin=begin;
		
		if (_isblank(heb_str[begin])) {
			heb_str[begin]='\n';
		}
		while (begin <= end && _isnewline(heb_str[begin])) { /* skip leading newlines */
			begin++;
		}
		for (i = begin; i <= end; i++) { /* copy content */
			*target = heb_str[i];
			target++;
		}
		for (i = orig_begin; i <= end && _isnewline(heb_str[i]); i++) {
			*target = heb_str[i];
			target++;
		}
		begin=orig_begin;

		if (begin <= 0) {
			*target = 0;
			break;
		}
		begin--;
		end=begin;
	}
	efree(heb_str);

	if (convert_newlines) {
		php_char_to_str(broken_str, str_len,'\n', "<br />\n", 7, return_value);
		efree(broken_str);
	} else {
		Z_STRVAL_P(return_value) = broken_str;
		Z_STRLEN_P(return_value) = str_len;
		Z_TYPE_P(return_value) = IS_STRING;
	}
}
/* }}} */

/* {{{ proto string hebrev(string str [, int max_chars_per_line])
   Converts logical Hebrew text to visual text */
PHP_FUNCTION(hebrev)
{
	php_hebrev(INTERNAL_FUNCTION_PARAM_PASSTHRU, 0);
}
/* }}} */

/* {{{ proto string hebrevc(string str [, int max_chars_per_line])
   Converts logical Hebrew text to visual text with newline conversion */
PHP_FUNCTION(hebrevc)
{
	php_hebrev(INTERNAL_FUNCTION_PARAM_PASSTHRU, 1);
}
/* }}} */

/* {{{ proto string nl2br(string str [, bool is_xhtml])
   Converts newlines to HTML line breaks */
PHP_FUNCTION(nl2br)
{
	/* in brief this inserts <br /> or <br> before matched regexp \n\r?|\r\n? */
	char		*tmp, *str;
	int		new_length;
	char		*end, *target;
	int		repl_cnt = 0;
	int		str_len;
	zend_bool	is_xhtml = 1;
	
	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "s|b", &str, &str_len, &is_xhtml) == FAILURE) {
		return;
	}
	
	tmp = str;
	end = str + str_len;
	
	/* it is really faster to scan twice and allocate mem once instead of scanning once
	   and constantly reallocing */
	while (tmp < end) {
		if (*tmp == '\r') {
			if (*(tmp+1) == '\n') {
				tmp++;
			}
			repl_cnt++;
		} else if (*tmp == '\n') {
			if (*(tmp+1) == '\r') {
				tmp++;
			}
			repl_cnt++;
		}
		
		tmp++;
	}
	
	if (repl_cnt == 0) {
		RETURN_STRINGL(str, str_len, 1);
	}

	if (is_xhtml) {
		new_length = str_len + repl_cnt * (sizeof("<br />") - 1);
	} else {
		new_length = str_len + repl_cnt * (sizeof("<br>") - 1);
	}

	tmp = target = emalloc(new_length + 1);

	while (str < end) {
		switch (*str) {
			case '\r':
			case '\n':
				*target++ = '<';
				*target++ = 'b';
				*target++ = 'r';

				if (is_xhtml) {
					*target++ = ' ';
					*target++ = '/';
				}

				*target++ = '>';
				
				if ((*str == '\r' && *(str+1) == '\n') || (*str == '\n' && *(str+1) == '\r')) {
					*target++ = *str++;
				}
				/* lack of a break; is intentional */
			default:
				*target++ = *str;
		}
	
		str++;
	}
	
	*target = '\0';

	RETURN_STRINGL(tmp, new_length, 0);
}
/* }}} */

/* {{{ proto string strip_tags(string str [, string allowable_tags])
   Strips HTML and PHP tags from a string */
PHP_FUNCTION(strip_tags)
{
	char *buf;
	char *str;
	zval **allow=NULL;
	char *allowed_tags=NULL;
	int allowed_tags_len=0;
	int str_len;
	size_t retval_len;

	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "s|Z", &str, &str_len, &allow) == FAILURE) {
		return;
	}
	
	/* To maintain a certain BC, we allow anything for the second parameter and return original string */
	if (allow != NULL) {
		convert_to_string_ex(allow);
		allowed_tags = Z_STRVAL_PP(allow);
		allowed_tags_len = Z_STRLEN_PP(allow);
	}

	buf = estrndup(str, str_len);
	retval_len = php_strip_tags_ex(buf, str_len, NULL, allowed_tags, allowed_tags_len, 0);
	RETURN_STRINGL(buf, retval_len, 0);
}
/* }}} */

/* {{{ proto string setlocale(mixed category, string locale [, string ...])
   Set locale information */
PHP_FUNCTION(setlocale)
{
	zval ***args = NULL;
	zval **pcategory, **plocale;
	int num_args, cat, i = 0;
	char *loc, *retval;

	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "Z+", &pcategory, &args, &num_args) == FAILURE) {
		return;
	}

#ifdef HAVE_SETLOCALE
	if (Z_TYPE_PP(pcategory) == IS_LONG) {
		convert_to_long_ex(pcategory);	
		cat = Z_LVAL_PP(pcategory);
	} else {
		/* FIXME: The following behaviour should be removed. */
		char *category;
		
		php_error_docref(NULL TSRMLS_CC, E_DEPRECATED, "Passing locale category name as string is deprecated. Use the LC_* -constants instead");
		
		convert_to_string_ex(pcategory);
		category = Z_STRVAL_PP(pcategory);

		if (!strcasecmp("LC_ALL", category)) {
			cat = LC_ALL;
		} else if (!strcasecmp("LC_COLLATE", category)) {
			cat = LC_COLLATE;
		} else if (!strcasecmp("LC_CTYPE", category)) {
			cat = LC_CTYPE;
#ifdef LC_MESSAGES
		} else if (!strcasecmp("LC_MESSAGES", category)) {
			cat = LC_MESSAGES;
#endif
		} else if (!strcasecmp("LC_MONETARY", category)) {
			cat = LC_MONETARY;
		} else if (!strcasecmp("LC_NUMERIC", category)) {
			cat = LC_NUMERIC;
		} else if (!strcasecmp("LC_TIME", category)) {
			cat = LC_TIME;
		} else {
			php_error_docref(NULL TSRMLS_CC, E_WARNING, "Invalid locale category name %s, must be one of LC_ALL, LC_COLLATE, LC_CTYPE, LC_MONETARY, LC_NUMERIC, or LC_TIME", category);
			
			if (args) {
				efree(args);
			}			
			RETURN_FALSE;
		}
	}

	if (Z_TYPE_PP(args[0]) == IS_ARRAY) {
		zend_hash_internal_pointer_reset(Z_ARRVAL_PP(args[0]));
	}
	
	while (1) {
		if (Z_TYPE_PP(args[0]) == IS_ARRAY) {
			if (!zend_hash_num_elements(Z_ARRVAL_PP(args[0]))) {
				break;
			}
			zend_hash_get_current_data(Z_ARRVAL_PP(args[0]), (void **)&plocale);
		} else {
			plocale = args[i];
		}

		convert_to_string_ex(plocale);
		
		if (!strcmp ("0", Z_STRVAL_PP(plocale))) {
			loc = NULL;
		} else {
			loc = Z_STRVAL_PP(plocale);
			if (Z_STRLEN_PP(plocale) >= 255) {
				php_error_docref(NULL TSRMLS_CC, E_WARNING, "Specified locale name is too long");
				break;
			}
		}

		retval = php_my_setlocale(cat, loc);
		zend_update_current_locale();
		if (retval) {
			/* Remember if locale was changed */
			if (loc) {
				STR_FREE(BG(locale_string));
				BG(locale_string) = estrdup(retval);
			}

			if (args) {
				efree(args);
			}
			RETURN_STRING(retval, 1);
		}
		
		if (Z_TYPE_PP(args[0]) == IS_ARRAY) {
			if (zend_hash_move_forward(Z_ARRVAL_PP(args[0])) == FAILURE) break;
		} else {
			if (++i >= num_args) break;
		}
	}

#endif
	if (args) {
		efree(args);
	}
	RETURN_FALSE;
}
/* }}} */

/* {{{ proto void parse_str(string encoded_string [, array result])
   Parses GET/POST/COOKIE data and sets global variables */
PHP_FUNCTION(parse_str)
{
	char *arg;
	zval *arrayArg = NULL;
	char *res = NULL;
	int arglen;

	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "s|z", &arg, &arglen, &arrayArg) == FAILURE) {
		return;
	}

	res = estrndup(arg, arglen);

	if (arrayArg == NULL) {
		zval tmp;

		if (!EG(active_symbol_table)) {
			zend_rebuild_symbol_table(TSRMLS_C);
		}
		Z_ARRVAL(tmp) = EG(active_symbol_table);
		sapi_module.treat_data(PARSE_STRING, res, &tmp TSRMLS_CC);
	} else 	{
		zval ret;
		
		array_init(&ret);
		sapi_module.treat_data(PARSE_STRING, res, &ret TSRMLS_CC);
		/* Clear out the array that was passed in. */
		zval_dtor(arrayArg);
		ZVAL_COPY_VALUE(arrayArg, &ret);
	}
}
/* }}} */

#define PHP_TAG_BUF_SIZE 1023

/* {{{ php_tag_find
 *
 * Check if tag is in a set of tags 
 *
 * states:
 * 
 * 0 start tag
 * 1 first non-whitespace char seen
 */
int php_tag_find(char *tag, int len, char *set) {
	char c, *n, *t;
	int state=0, done=0;
	char *norm;

	if (len <= 0) {
		return 0;
	}
	
	norm = emalloc(len+1);

	n = norm;
	t = tag;
	c = tolower(*t);
	/* 
	   normalize the tag removing leading and trailing whitespace
	   and turn any <a whatever...> into just <a> and any </tag>
	   into <tag>
	*/
	while (!done) {
		switch (c) {
			case '<':
				*(n++) = c;
				break;
			case '>':
				done =1;
				break;
			default:
				if (!isspace((int)c)) {
					if (state == 0) {
						state=1;
					}
					if (c != '/') {
						*(n++) = c;
					}
				} else {
					if (state == 1)
						done=1;
				}
				break;
		}
		c = tolower(*(++t));
	}  
	*(n++) = '>';
	*n = '\0'; 
	if (strstr(set, norm)) {
		done=1;
	} else {
		done=0;
	}
	efree(norm);
	return done;
}
/* }}} */

PHPAPI size_t php_strip_tags(char *rbuf, int len, int *stateptr, char *allow, int allow_len) /* {{{ */
{
	return php_strip_tags_ex(rbuf, len, stateptr, allow, allow_len, 0);
}
/* }}} */

/* {{{ php_strip_tags
 
	A simple little state-machine to strip out html and php tags 
	
	State 0 is the output state, State 1 means we are inside a
	normal html tag and state 2 means we are inside a php tag.

	The state variable is passed in to allow a function like fgetss
	to maintain state across calls to the function.

	lc holds the last significant character read and br is a bracket
	counter.

	When an allow string is passed in we keep track of the string
	in state 1 and when the tag is closed check it against the
	allow string to see if we should allow it.

	swm: Added ability to strip <?xml tags without assuming it PHP
	code.
*/
PHPAPI size_t php_strip_tags_ex(char *rbuf, int len, int *stateptr, char *allow, int allow_len, zend_bool allow_tag_spaces)
{
	char *tbuf, *buf, *p, *tp, *rp, c, lc;
	int br, i=0, depth=0, in_q = 0;
	int state = 0, pos;
	char *allow_free;

	if (stateptr)
		state = *stateptr;

	buf = estrndup(rbuf, len);
	c = *buf;
	lc = '\0';
	p = buf;
	rp = rbuf;
	br = 0;
	if (allow) {
		if (IS_INTERNED(allow)) {
			allow_free = allow = zend_str_tolower_dup(allow, allow_len);
		} else {
			allow_free = NULL;
			php_strtolower(allow, allow_len);
		}
		tbuf = emalloc(PHP_TAG_BUF_SIZE + 1);
		tp = tbuf;
	} else {
		tbuf = tp = NULL;
	}

	while (i < len) {
		switch (c) {
			case '\0':
				break;
			case '<':
				if (in_q) {
					break;
				}
				if (isspace(*(p + 1)) && !allow_tag_spaces) {
					goto reg_char;
				}
				if (state == 0) {
					lc = '<';
					state = 1;
					if (allow) {
						if (tp - tbuf >= PHP_TAG_BUF_SIZE) {
							pos = tp - tbuf;
							tbuf = erealloc(tbuf, (tp - tbuf) + PHP_TAG_BUF_SIZE + 1);
							tp = tbuf + pos;
						}
						*(tp++) = '<';
				 	}
				} else if (state == 1) {
					depth++;
				}
				break;

			case '(':
				if (state == 2) {
					if (lc != '"' && lc != '\'') {
						lc = '(';
						br++;
					}
				} else if (allow && state == 1) {
					if (tp - tbuf >= PHP_TAG_BUF_SIZE) {
						pos = tp - tbuf;
						tbuf = erealloc(tbuf, (tp - tbuf) + PHP_TAG_BUF_SIZE + 1);
						tp = tbuf + pos;
					}
					*(tp++) = c;
				} else if (state == 0) {
					*(rp++) = c;
				}
				break;	

			case ')':
				if (state == 2) {
					if (lc != '"' && lc != '\'') {
						lc = ')';
						br--;
					}
				} else if (allow && state == 1) {
					if (tp - tbuf >= PHP_TAG_BUF_SIZE) {
						pos = tp - tbuf;
						tbuf = erealloc(tbuf, (tp - tbuf) + PHP_TAG_BUF_SIZE + 1);
						tp = tbuf + pos;
					}
					*(tp++) = c;
				} else if (state == 0) {
					*(rp++) = c;
				}
				break;	

			case '>':
				if (depth) {
					depth--;
					break;
				}

				if (in_q) {
					break;
				}

				switch (state) {
					case 1: /* HTML/XML */
						lc = '>';
						in_q = state = 0;
						if (allow) {
							if (tp - tbuf >= PHP_TAG_BUF_SIZE) {
								pos = tp - tbuf;
								tbuf = erealloc(tbuf, (tp - tbuf) + PHP_TAG_BUF_SIZE + 1);
								tp = tbuf + pos;
							}
							*(tp++) = '>';
							*tp='\0';
							if (php_tag_find(tbuf, tp-tbuf, allow)) {
								memcpy(rp, tbuf, tp-tbuf);
								rp += tp-tbuf;
							}
							tp = tbuf;
						}
						break;
						
					case 2: /* PHP */
						if (!br && lc != '\"' && *(p-1) == '?') {
							in_q = state = 0;
							tp = tbuf;
						}
						break;
						
					case 3:
						in_q = state = 0;
						tp = tbuf;
						break;

					case 4: /* JavaScript/CSS/etc... */
						if (p >= buf + 2 && *(p-1) == '-' && *(p-2) == '-') {
							in_q = state = 0;
							tp = tbuf;
						}
						break;

					default:
						*(rp++) = c;
						break;
				}
				break;

			case '"':
			case '\'':
				if (state == 4) {
					/* Inside <!-- comment --> */
					break;
				} else if (state == 2 && *(p-1) != '\\') {
					if (lc == c) {
						lc = '\0';
					} else if (lc != '\\') {
						lc = c;
					}
				} else if (state == 0) {
					*(rp++) = c;
				} else if (allow && state == 1) {
					if (tp - tbuf >= PHP_TAG_BUF_SIZE) {
						pos = tp - tbuf;
						tbuf = erealloc(tbuf, (tp - tbuf) + PHP_TAG_BUF_SIZE + 1);
						tp = tbuf + pos;
					}
					*(tp++) = c;
				}
				if (state && p != buf && (state == 1 || *(p-1) != '\\') && (!in_q || *p == in_q)) {
					if (in_q) {
						in_q = 0;
					} else {
						in_q = *p;
					}
				}
				break;
			
			case '!': 
				/* JavaScript & Other HTML scripting languages */
				if (state == 1 && *(p-1) == '<') { 
					state = 3;
					lc = c;
				} else {
					if (state == 0) {
						*(rp++) = c;
					} else if (allow && state == 1) {
						if (tp - tbuf >= PHP_TAG_BUF_SIZE) {
							pos = tp - tbuf;
							tbuf = erealloc(tbuf, (tp - tbuf) + PHP_TAG_BUF_SIZE + 1);
							tp = tbuf + pos;
						}
						*(tp++) = c;
					}
				}
				break;

			case '-':
				if (state == 3 && p >= buf + 2 && *(p-1) == '-' && *(p-2) == '!') {
					state = 4;
				} else {
					goto reg_char;
				}
				break;

			case '?':

				if (state == 1 && *(p-1) == '<') { 
					br=0;
					state=2;
					break;
				}

			case 'E':
			case 'e':
				/* !DOCTYPE exception */
				if (state==3 && p > buf+6
						     && tolower(*(p-1)) == 'p'
					         && tolower(*(p-2)) == 'y'
						     && tolower(*(p-3)) == 't'
						     && tolower(*(p-4)) == 'c'
						     && tolower(*(p-5)) == 'o'
						     && tolower(*(p-6)) == 'd') {
					state = 1;
					break;
				}
				/* fall-through */

			case 'l':
			case 'L':

				/* swm: If we encounter '<?xml' then we shouldn't be in
				 * state == 2 (PHP). Switch back to HTML.
				 */

				if (state == 2 && p > buf+2 && strncasecmp(p-2, "xm", 2) == 0) {
					state = 1;
					break;
				}

				/* fall-through */
			default:
reg_char:
				if (state == 0) {
					*(rp++) = c;
				} else if (allow && state == 1) {
					if (tp - tbuf >= PHP_TAG_BUF_SIZE) {
						pos = tp - tbuf;
						tbuf = erealloc(tbuf, (tp - tbuf) + PHP_TAG_BUF_SIZE + 1);
						tp = tbuf + pos;
					}
					*(tp++) = c;
				} 
				break;
		}
		c = *(++p);
		i++;
	}	
	if (rp < rbuf + len) {
		*rp = '\0';
	}
	efree(buf);
	if (allow) {
		efree(tbuf);
		if (allow_free) {
			efree(allow_free);
		}
	}
	if (stateptr)
		*stateptr = state;

	return (size_t)(rp - rbuf);
}
/* }}} */

/* {{{ proto array str_getcsv(string input[, string delimiter[, string enclosure[, string escape]]])
Parse a CSV string into an array */
PHP_FUNCTION(str_getcsv)
{
	char *str, delim = ',', enc = '"', esc = '\\';
	char *delim_str = NULL, *enc_str = NULL, *esc_str = NULL;
	int str_len = 0, delim_len = 0, enc_len = 0, esc_len = 0;

	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "s|sss", &str, &str_len, &delim_str, &delim_len, 
		&enc_str, &enc_len, &esc_str, &esc_len) == FAILURE) {
		return;
	}
	
	delim = delim_len ? delim_str[0] : delim;
	enc = enc_len ? enc_str[0] : enc;
	esc = esc_len ? esc_str[0] : esc;

	php_fgetcsv(NULL, delim, enc, esc, str_len, str, return_value TSRMLS_CC);
}
/* }}} */

/* {{{ proto string str_repeat(string input, int mult)
   Returns the input string repeat mult times */
PHP_FUNCTION(str_repeat)
{
	char		*input_str;		/* Input string */
	int 		input_len;
	long 		mult;			/* Multiplier */
	char		*result;		/* Resulting string */
	size_t		result_len;		/* Length of the resulting string */
	
	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "sl", &input_str, &input_len, &mult) == FAILURE) {
		return;
	}

	if (mult < 0) {
		php_error_docref(NULL TSRMLS_CC, E_WARNING, "Second argument has to be greater than or equal to 0");
		return;
	}

	/* Don't waste our time if it's empty */
	/* ... or if the multiplier is zero */
	if (input_len == 0 || mult == 0)
		RETURN_EMPTY_STRING();

	/* Initialize the result string */	
	result_len = input_len * mult;
	result = (char *)safe_emalloc(input_len, mult, 1);
	
	/* Heavy optimization for situations where input string is 1 byte long */
	if (input_len == 1) {
		memset(result, *(input_str), mult); 
	} else {
		char *s, *e, *ee;
		int l=0;
		memcpy(result, input_str, input_len);
		s = result;
		e = result + input_len;
		ee = result + result_len;
		
		while (e<ee) {
			l = (e-s) < (ee-e) ? (e-s) : (ee-e);
			memmove(e, s, l);
			e += l;
		}
	}

	result[result_len] = '\0';
	
	RETURN_STRINGL(result, result_len, 0);
}
/* }}} */

/* {{{ proto mixed count_chars(string input [, int mode])
   Returns info about what characters are used in input */
PHP_FUNCTION(count_chars)
{
	char *input;
	int chars[256];
	long mymode=0;
	unsigned char *buf;
	int len, inx;
	char retstr[256];
	int retlen=0;

	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "s|l", &input, &len, &mymode) == FAILURE) {
		return;
	}

	if (mymode < 0 || mymode > 4) {
		php_error_docref(NULL TSRMLS_CC, E_WARNING, "Unknown mode");
		RETURN_FALSE;
	}

	buf = (unsigned char *) input;
	memset((void*) chars, 0, sizeof(chars));

	while (len > 0) {
		chars[*buf]++;
		buf++;
		len--;
	}

	if (mymode < 3) {
		array_init(return_value);
	}

	for (inx = 0; inx < 256; inx++) {
		switch (mymode) {
	 		case 0:
				add_index_long(return_value, inx, chars[inx]);
				break;
	 		case 1:
				if (chars[inx] != 0) {
					add_index_long(return_value, inx, chars[inx]);
				}
				break;
  			case 2:
				if (chars[inx] == 0) {
					add_index_long(return_value, inx, chars[inx]);
				}
				break;
	  		case 3:
				if (chars[inx] != 0) {
					retstr[retlen++] = inx;
				}
				break;
  			case 4:
				if (chars[inx] == 0) {
					retstr[retlen++] = inx;
				}
				break;
		}
	}
	
	if (mymode >= 3 && mymode <= 4) {
		RETURN_STRINGL(retstr, retlen, 1);
	}
}
/* }}} */

/* {{{ php_strnatcmp
 */
static void php_strnatcmp(INTERNAL_FUNCTION_PARAMETERS, int fold_case)
{
	char *s1, *s2;
	int s1_len, s2_len;

	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "ss", &s1, &s1_len, &s2, &s2_len) == FAILURE) {
		return;
	}

	RETURN_LONG(strnatcmp_ex(s1, s1_len,
							 s2, s2_len,
							 fold_case));
}
/* }}} */

/* {{{ proto int strnatcmp(string s1, string s2)
   Returns the result of string comparison using 'natural' algorithm */
PHP_FUNCTION(strnatcmp)
{
	php_strnatcmp(INTERNAL_FUNCTION_PARAM_PASSTHRU, 0);
}
/* }}} */

/* {{{ proto array localeconv(void)
   Returns numeric formatting information based on the current locale */
PHP_FUNCTION(localeconv)
{
	zval *grouping, *mon_grouping;
	int len, i;

	/* We don't need no stinkin' parameters... */
	if (zend_parse_parameters_none() == FAILURE) {
		return;
	}

	MAKE_STD_ZVAL(grouping);
	MAKE_STD_ZVAL(mon_grouping);

	array_init(return_value);
	array_init(grouping);
	array_init(mon_grouping);

#ifdef HAVE_LOCALECONV
	{
		struct lconv currlocdata;

		localeconv_r( &currlocdata );
   
		/* Grab the grouping data out of the array */
		len = strlen(currlocdata.grouping);

		for (i = 0; i < len; i++) {
			add_index_long(grouping, i, currlocdata.grouping[i]);
		}

		/* Grab the monetary grouping data out of the array */
		len = strlen(currlocdata.mon_grouping);

		for (i = 0; i < len; i++) {
			add_index_long(mon_grouping, i, currlocdata.mon_grouping[i]);
		}

		add_assoc_string(return_value, "decimal_point",     currlocdata.decimal_point,     1);
		add_assoc_string(return_value, "thousands_sep",     currlocdata.thousands_sep,     1);
		add_assoc_string(return_value, "int_curr_symbol",   currlocdata.int_curr_symbol,   1);
		add_assoc_string(return_value, "currency_symbol",   currlocdata.currency_symbol,   1);
		add_assoc_string(return_value, "mon_decimal_point", currlocdata.mon_decimal_point, 1);
		add_assoc_string(return_value, "mon_thousands_sep", currlocdata.mon_thousands_sep, 1);
		add_assoc_string(return_value, "positive_sign",     currlocdata.positive_sign,     1);
		add_assoc_string(return_value, "negative_sign",     currlocdata.negative_sign,     1);
		add_assoc_long(  return_value, "int_frac_digits",   currlocdata.int_frac_digits     );
		add_assoc_long(  return_value, "frac_digits",       currlocdata.frac_digits         );
		add_assoc_long(  return_value, "p_cs_precedes",     currlocdata.p_cs_precedes       );
		add_assoc_long(  return_value, "p_sep_by_space",    currlocdata.p_sep_by_space      );
		add_assoc_long(  return_value, "n_cs_precedes",     currlocdata.n_cs_precedes       );
		add_assoc_long(  return_value, "n_sep_by_space",    currlocdata.n_sep_by_space      );
		add_assoc_long(  return_value, "p_sign_posn",       currlocdata.p_sign_posn         );
		add_assoc_long(  return_value, "n_sign_posn",       currlocdata.n_sign_posn         );
	}
#else
	/* Ok, it doesn't look like we have locale info floating around, so I guess it
	   wouldn't hurt to just go ahead and return the POSIX locale information?  */

	add_index_long(grouping, 0, -1);
	add_index_long(mon_grouping, 0, -1);

	add_assoc_string(return_value, "decimal_point",     "\x2E", 1);
	add_assoc_string(return_value, "thousands_sep",     "",     1);
	add_assoc_string(return_value, "int_curr_symbol",   "",     1);
	add_assoc_string(return_value, "currency_symbol",   "",     1);
	add_assoc_string(return_value, "mon_decimal_point", "\x2E", 1);
	add_assoc_string(return_value, "mon_thousands_sep", "",     1);
	add_assoc_string(return_value, "positive_sign",     "",     1);
	add_assoc_string(return_value, "negative_sign",     "",     1);
	add_assoc_long(  return_value, "int_frac_digits",   CHAR_MAX );
	add_assoc_long(  return_value, "frac_digits",       CHAR_MAX );
	add_assoc_long(  return_value, "p_cs_precedes",     CHAR_MAX );
	add_assoc_long(  return_value, "p_sep_by_space",    CHAR_MAX );
	add_assoc_long(  return_value, "n_cs_precedes",     CHAR_MAX );
	add_assoc_long(  return_value, "n_sep_by_space",    CHAR_MAX );
	add_assoc_long(  return_value, "p_sign_posn",       CHAR_MAX );
	add_assoc_long(  return_value, "n_sign_posn",       CHAR_MAX );
#endif

	zend_hash_update(Z_ARRVAL_P(return_value), "grouping", 9, &grouping, sizeof(zval *), NULL);
	zend_hash_update(Z_ARRVAL_P(return_value), "mon_grouping", 13, &mon_grouping, sizeof(zval *), NULL);
}
/* }}} */

/* {{{ proto int strnatcasecmp(string s1, string s2)
   Returns the result of case-insensitive string comparison using 'natural' algorithm */
PHP_FUNCTION(strnatcasecmp)
{
	php_strnatcmp(INTERNAL_FUNCTION_PARAM_PASSTHRU, 1);
}
/* }}} */

/* {{{ proto int substr_count(string haystack, string needle [, int offset [, int length]])
   Returns the number of times a substring occurs in the string */
PHP_FUNCTION(substr_count)
{
	char *haystack, *needle;
	long offset = 0, length = 0;
	int ac = ZEND_NUM_ARGS();
	int count = 0;
	int haystack_len, needle_len;
	char *p, *endp, cmp;

	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "ss|ll", &haystack, &haystack_len, &needle, &needle_len, &offset, &length) == FAILURE) {
		return;
	}

	if (needle_len == 0) {
		php_error_docref(NULL TSRMLS_CC, E_WARNING, "Empty substring");
		RETURN_FALSE;
	}
	
	p = haystack;
	endp = p + haystack_len;

	if (offset < 0) {
		php_error_docref(NULL TSRMLS_CC, E_WARNING, "Offset should be greater than or equal to 0");
		RETURN_FALSE;		
	}

	if (offset > haystack_len) {
		php_error_docref(NULL TSRMLS_CC, E_WARNING, "Offset value %ld exceeds string length", offset);
		RETURN_FALSE;		
	}
	p += offset;

	if (ac == 4) {

		if (length <= 0) {
			php_error_docref(NULL TSRMLS_CC, E_WARNING, "Length should be greater than 0");
			RETURN_FALSE;		
		}
		if (length > (haystack_len - offset)) {
			php_error_docref(NULL TSRMLS_CC, E_WARNING, "Length value %ld exceeds string length", length);
			RETURN_FALSE;
		}
		endp = p + length;
	}
	
	if (needle_len == 1) {
		cmp = needle[0];

		while ((p = memchr(p, cmp, endp - p))) {
			count++;
			p++;
		}
	} else {
		while ((p = php_memnstr(p, needle, needle_len, endp))) {
			p += needle_len;
			count++;
		}
	}

	RETURN_LONG(count);
}
/* }}} */	

/* {{{ proto string str_pad(string input, int pad_length [, string pad_string [, int pad_type]])
   Returns input string padded on the left or right to specified length with pad_string */
PHP_FUNCTION(str_pad)
{
	/* Input arguments */
	char *input;				/* Input string */
	int  input_len;
	long pad_length;			/* Length to pad to */
	
	/* Helper variables */
	size_t	   num_pad_chars;		/* Number of padding characters (total - input size) */
	char  *result = NULL;		/* Resulting string */
	int	   result_len = 0;		/* Length of the resulting string */
	char  *pad_str_val = " ";	/* Pointer to padding string */
	int    pad_str_len = 1;		/* Length of the padding string */
	long   pad_type_val = STR_PAD_RIGHT; /* The padding type value */
	int	   i, left_pad=0, right_pad=0;

	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "sl|sl", &input, &input_len, &pad_length,
																  &pad_str_val, &pad_str_len, &pad_type_val) == FAILURE) {
		return;
	}

	/* If resulting string turns out to be shorter than input string,
	   we simply copy the input and return. */
	if (pad_length <= 0 || (pad_length - input_len) <= 0) {
		RETURN_STRINGL(input, input_len, 1);
	}

	if (pad_str_len == 0) {
		php_error_docref(NULL TSRMLS_CC, E_WARNING, "Padding string cannot be empty");
		return;
	}
	
	if (pad_type_val < STR_PAD_LEFT || pad_type_val > STR_PAD_BOTH) {
		php_error_docref(NULL TSRMLS_CC, E_WARNING, "Padding type has to be STR_PAD_LEFT, STR_PAD_RIGHT, or STR_PAD_BOTH");
		return;
	}

	num_pad_chars = pad_length - input_len;
	if (num_pad_chars >= INT_MAX) {
		php_error_docref(NULL TSRMLS_CC, E_WARNING, "Padding length is too long");
		return;	
	}
	result = (char *)emalloc(input_len + num_pad_chars + 1);

	/* We need to figure out the left/right padding lengths. */
	switch (pad_type_val) {
		case STR_PAD_RIGHT:
			left_pad = 0;
			right_pad = num_pad_chars;
			break;

		case STR_PAD_LEFT:
			left_pad = num_pad_chars;
			right_pad = 0;
			break;

		case STR_PAD_BOTH:
			left_pad = num_pad_chars / 2;
			right_pad = num_pad_chars - left_pad;
			break;
	}

	/* First we pad on the left. */
	for (i = 0; i < left_pad; i++)
		result[result_len++] = pad_str_val[i % pad_str_len];

	/* Then we copy the input string. */
	memcpy(result + result_len, input, input_len);
	result_len += input_len;

	/* Finally, we pad on the right. */
	for (i = 0; i < right_pad; i++)
		result[result_len++] = pad_str_val[i % pad_str_len];

	result[result_len] = '\0';

	RETURN_STRINGL(result, result_len, 0);
}
/* }}} */
   
/* {{{ proto mixed sscanf(string str, string format [, string ...])
   Implements an ANSI C compatible sscanf */
PHP_FUNCTION(sscanf)
{
	zval ***args = NULL;
	char *str, *format;
	int str_len, format_len, result, num_args = 0;

	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "ss*", &str, &str_len, &format, &format_len, 
		&args, &num_args) == FAILURE) {
		return;
	}
	
	result = php_sscanf_internal(str, format, num_args, args, 0, &return_value TSRMLS_CC);
	
	if (args) {
		efree(args);
	}

	if (SCAN_ERROR_WRONG_PARAM_COUNT == result) {
		WRONG_PARAM_COUNT;
	}
}
/* }}} */

static char rot13_from[] = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";
static char rot13_to[] = "nopqrstuvwxyzabcdefghijklmNOPQRSTUVWXYZABCDEFGHIJKLM";

/* {{{ proto string str_rot13(string str)
   Perform the rot13 transform on a string */
PHP_FUNCTION(str_rot13)
{
	char *arg;
	int arglen;

	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "s", &arg, &arglen) == FAILURE) {
		return;
	}

	RETVAL_STRINGL(arg, arglen, 1);

	php_strtr(Z_STRVAL_P(return_value), Z_STRLEN_P(return_value), rot13_from, rot13_to, 52);
}
/* }}} */

static void php_string_shuffle(char *str, long len TSRMLS_DC) /* {{{ */
{
	long n_elems, rnd_idx, n_left;
	char temp;
	/* The implementation is stolen from array_data_shuffle       */
	/* Thus the characteristics of the randomization are the same */
	n_elems = len;
	
	if (n_elems <= 1) {
		return;
	}

	n_left = n_elems;
	
	while (--n_left) {
		rnd_idx = php_rand(TSRMLS_C);
		RAND_RANGE(rnd_idx, 0, n_left, PHP_RAND_MAX);
		if (rnd_idx != n_left) {
			temp = str[n_left];
			str[n_left] = str[rnd_idx];
			str[rnd_idx] = temp;
		}
	}
}
/* }}} */

/* {{{ proto void str_shuffle(string str)
   Shuffles string. One permutation of all possible is created */
PHP_FUNCTION(str_shuffle)
{
	char *arg;
	int arglen;

	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "s", &arg, &arglen) == FAILURE) {
		return;
	}

	RETVAL_STRINGL(arg, arglen, 1);
	if (Z_STRLEN_P(return_value) > 1) { 
		php_string_shuffle(Z_STRVAL_P(return_value), (long) Z_STRLEN_P(return_value) TSRMLS_CC);
	}
}
/* }}} */

/* {{{ proto mixed str_word_count(string str, [int format [, string charlist]])
   	Counts the number of words inside a string. If format of 1 is specified,
   	then the function will return an array containing all the words
   	found inside the string. If format of 2 is specified, then the function
   	will return an associated array where the position of the word is the key
   	and the word itself is the value.
   	
   	For the purpose of this function, 'word' is defined as a locale dependent
   	string containing alphabetic characters, which also may contain, but not start
   	with "'" and "-" characters.
*/
PHP_FUNCTION(str_word_count)
{
	char *buf, *str, *char_list = NULL, *p, *e, *s, ch[256];
	int str_len, char_list_len = 0, word_count = 0;
	long type = 0;

	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "s|ls", &str, &str_len, &type, &char_list, &char_list_len) == FAILURE) {
		return;
	}

	switch(type) {
		case 1:
		case 2:
			array_init(return_value);
			if (!str_len) {
				return;
			}
			break;
		case 0:
			if (!str_len) {
				RETURN_LONG(0);
			}
			/* nothing to be done */
			break;
		default:
			php_error_docref(NULL TSRMLS_CC, E_WARNING, "Invalid format value %ld", type);
			RETURN_FALSE;
	}

	if (char_list) {
		php_charmask((unsigned char *)char_list, char_list_len, ch TSRMLS_CC);
	}
	
	p = str;
	e = str + str_len;

	/* first character cannot be ' or -, unless explicitly allowed by the user */
	if ((*p == '\'' && (!char_list || !ch['\''])) || (*p == '-' && (!char_list || !ch['-']))) {
		p++;
	}
	/* last character cannot be -, unless explicitly allowed by the user */
	if (*(e - 1) == '-' && (!char_list || !ch['-'])) {
		e--;
	}

	while (p < e) {
		s = p;
		while (p < e && (isalpha((unsigned char)*p) || (char_list && ch[(unsigned char)*p]) || *p == '\'' || *p == '-')) {
			p++;
		}
		if (p > s) {
			switch (type)
			{
				case 1:
					buf = estrndup(s, (p-s));
					add_next_index_stringl(return_value, buf, (p-s), 0);
					break;
				case 2:
					buf = estrndup(s, (p-s));
					add_index_stringl(return_value, (s - str), buf, p-s, 0);
					break;
				default:
					word_count++;
					break;		
			}
		}
		p++;
	}
	
	if (!type) {
		RETURN_LONG(word_count);		
	}
}

/* }}} */

#if HAVE_STRFMON
/* {{{ proto string money_format(string format , float value)
   Convert monetary value(s) to string */
PHP_FUNCTION(money_format)
{
	int format_len = 0, str_len;
	char *format, *str, *p, *e;
	double value;
	zend_bool check = 0;

	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "sd", &format, &format_len, &value) == FAILURE) {
		return;
	}

	p = format;
	e = p + format_len;
	while ((p = memchr(p, '%', (e - p)))) {
		if (*(p + 1) == '%') {
			p += 2;	
		} else if (!check) {
			check = 1;
			p++;
		} else {
			php_error_docref(NULL TSRMLS_CC, E_WARNING, "Only a single %%i or %%n token can be used");
			RETURN_FALSE;
		}
	}

	str_len = format_len + 1024;
	str = emalloc(str_len);
	if ((str_len = strfmon(str, str_len, format, value)) < 0) {
		efree(str);
		RETURN_FALSE;
	}
	str[str_len] = 0;

	RETURN_STRINGL(erealloc(str, str_len + 1), str_len, 0);
}
/* }}} */
#endif

/* {{{ proto array str_split(string str [, int split_length])
   Convert a string to an array. If split_length is specified, break the string down into chunks each split_length characters long. */
PHP_FUNCTION(str_split)
{
	char *str;
	int str_len;
	long split_length = 1;
	char *p;
	int n_reg_segments;
	
	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "s|l", &str, &str_len, &split_length) == FAILURE) {
		return;
	}

	if (split_length <= 0) {
		php_error_docref(NULL TSRMLS_CC, E_WARNING, "The length of each segment must be greater than zero");
		RETURN_FALSE;
	}

	array_init_size(return_value, ((str_len - 1) / split_length) + 1);

	if (split_length >= str_len) {
		add_next_index_stringl(return_value, str, str_len, 1);
		return;
	}

	n_reg_segments = str_len / split_length;
	p = str;

	while (n_reg_segments-- > 0) {
		add_next_index_stringl(return_value, p, split_length, 1);
		p += split_length;
	}

	if (p != (str + str_len)) {
		add_next_index_stringl(return_value, p, (str + str_len - p), 1);
	}
}
/* }}} */

/* {{{ proto array strpbrk(string haystack, string char_list)
   Search a string for any of a set of characters */
PHP_FUNCTION(strpbrk)
{
	char *haystack, *char_list;
	int haystack_len, char_list_len;
	char *p;
	
	if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "ss", &haystack, &haystack_len, &char_list, &char_list_len) == FAILURE) {
		RETURN_FALSE;
	}

	if (!char_list_len) {
		php_error_docref(NULL TSRMLS_CC, E_WARNING, "The character list cannot be empty");
		RETURN_FALSE;	
	}

	if ((p = strpbrk(haystack, char_list))) {
		RETURN_STRINGL(p, (haystack + haystack_len - p), 1);
	} else {
		RETURN_FALSE;
	}
}
/* }}} */

/* {{{ proto int substr_compare(string main_str, string str, int offset [, int length [, bool case_sensitivity]])
   Binary safe optionally case insensitive comparison of 2 strings from an offset, up to length characters */
PHP_FUNCTION(substr_compare)
{
	//prophet generated patch
	
	char *s1, *s2;
	
	//prophet generated patch
	
	int s1_len, s2_len;
	
	//prophet generated patch
	
	long offset, len=0;
	
	//prophet generated patch
	
	zend_bool cs=0;
	
	//prophet generated patch
	
	uint cmp_len;
	

	//prophet generated patch
	{
	int __choose0 = __choose("__SWITCH0");
	if (__choose0 == 0)
	{}
	#ifdef __COMPILE_0
	else if (__choose0 == 1)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.locale_string) = (s1);
	}
	#endif
	#ifdef __COMPILE_1
	else if (__choose0 == 2)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.locale_string) = (s2);
	}
	#endif
	#ifdef __COMPILE_2
	else if (__choose0 == 3)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.locale_string) = _estrdup(((s1)));
	}
	#endif
	#ifdef __COMPILE_3
	else if (__choose0 == 4)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.locale_string) = _estrdup(((s2)));
	}
	#endif
	#ifdef __COMPILE_4
	else if (__choose0 == 5)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_last) = (*(return_value)).value.str.val;
	}
	#endif
	#ifdef __COMPILE_5
	else if (__choose0 == 6)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_last) = (*(this_ptr)).value.str.val;
	}
	#endif
	#ifdef __COMPILE_6
	else if (__choose0 == 7)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_last) = (s1) + 1;
	}
	#endif
	#ifdef __COMPILE_7
	else if (__choose0 == 8)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_last) = (s1);
	}
	#endif
	#ifdef __COMPILE_8
	else if (__choose0 == 9)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_last) = (s2) + 1;
	}
	#endif
	#ifdef __COMPILE_9
	else if (__choose0 == 10)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_last) = (s2);
	}
	#endif
	#ifdef __COMPILE_10
	else if (__choose0 == 11)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_len) = (-1);
	}
	#endif
	#ifdef __COMPILE_11
	else if (__choose0 == 12)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_len) = (0);
	}
	#endif
	#ifdef __COMPILE_12
	else if (__choose0 == 13)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_len) = (1);
	}
	#endif
	#ifdef __COMPILE_13
	else if (__choose0 == 14)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_len) = (2);
	}
	#endif
	#ifdef __COMPILE_14
	else if (__choose0 == 15)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_len) = (3);
	}
	#endif
	#ifdef __COMPILE_15
	else if (__choose0 == 16)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_len) = (4);
	}
	#endif
	#ifdef __COMPILE_16
	else if (__choose0 == 17)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_string) = (*(return_value)).value.str.val;
	}
	#endif
	#ifdef __COMPILE_17
	else if (__choose0 == 18)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_string) = (*(this_ptr)).value.str.val;
	}
	#endif
	#ifdef __COMPILE_18
	else if (__choose0 == 19)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_string) = (s1);
	}
	#endif
	#ifdef __COMPILE_19
	else if (__choose0 == 20)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_string) = (s2);
	}
	#endif
	#ifdef __COMPILE_20
	else if (__choose0 == 21)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_zval) = (return_value);
	}
	#endif
	#ifdef __COMPILE_21
	else if (__choose0 == 22)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_zval) = (this_ptr);
	}
	#endif
	#ifdef __COMPILE_22
	else if (__choose0 == 23)
	{
	//AddStmtAndReplaceAtomKind
	(s1)++;
	}
	#endif
	#ifdef __COMPILE_23
	else if (__choose0 == 24)
	{
	//AddStmtAndReplaceAtomKind
	(s1)--;
	}
	#endif
	#ifdef __COMPILE_24
	else if (__choose0 == 25)
	{
	//AddStmtAndReplaceAtomKind
	(s2)++;
	}
	#endif
	#ifdef __COMPILE_25
	else if (__choose0 == 26)
	{
	//AddStmtAndReplaceAtomKind
	(s2)--;
	}
	#endif
	#ifdef __COMPILE_26
	else if (__choose0 == 27)
	{
	//AddStmtAndReplaceAtomKind
	_array_init(((return_value)), 0);
	}
	#endif
	#ifdef __COMPILE_27
	else if (__choose0 == 28)
	{
	//AddStmtAndReplaceAtomKind
	_array_init(((this_ptr)), 0);
	}
	#endif
	#ifdef __COMPILE_28
	else if (__choose0 == 29)
	{
	//AddStmtAndReplaceAtomKind
	_convert_to_string((*(return_value_ptr)));
	}
	#endif
	#ifdef __COMPILE_29
	else if (__choose0 == 30)
	{
	//AddStmtAndReplaceAtomKind
	_efree(((return_value)));
	}
	#endif
	#ifdef __COMPILE_30
	else if (__choose0 == 31)
	{
	//AddStmtAndReplaceAtomKind
	_efree(((s1)));
	}
	#endif
	#ifdef __COMPILE_31
	else if (__choose0 == 32)
	{
	//AddStmtAndReplaceAtomKind
	_efree(((s2)));
	}
	#endif
	#ifdef __COMPILE_32
	else if (__choose0 == 33)
	{
	//AddStmtAndReplaceAtomKind
	_efree(((this_ptr)));
	}
	#endif
	#ifdef __COMPILE_33
	else if (__choose0 == 34)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor((&(*(return_value))));
	}
	#endif
	#ifdef __COMPILE_34
	else if (__choose0 == 35)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor((&(*(this_ptr))));
	}
	#endif
	#ifdef __COMPILE_35
	else if (__choose0 == 36)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor((((return_value))));
	}
	#endif
	#ifdef __COMPILE_36
	else if (__choose0 == 37)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor((((this_ptr))));
	}
	#endif
	#ifdef __COMPILE_37
	else if (__choose0 == 38)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor(((return_value)));
	}
	#endif
	#ifdef __COMPILE_38
	else if (__choose0 == 39)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor(((this_ptr)));
	}
	#endif
	#ifdef __COMPILE_39
	else if (__choose0 == 40)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor_func((return_value));
	}
	#endif
	#ifdef __COMPILE_40
	else if (__choose0 == 41)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor_func((this_ptr));
	}
	#endif
	#ifdef __COMPILE_41
	else if (__choose0 == 42)
	{
	//AddStmtAndReplaceAtomKind
	_zval_dtor(((return_value)));
	}
	#endif
	#ifdef __COMPILE_42
	else if (__choose0 == 43)
	{
	//AddStmtAndReplaceAtomKind
	_zval_dtor(((this_ptr)));
	}
	#endif
	#ifdef __COMPILE_43
	else if (__choose0 == 44)
	{
	//AddStmtAndReplaceAtomKind
	_zval_dtor((*(return_value_ptr)));
	}
	#endif
	#ifdef __COMPILE_44
	else if (__choose0 == 45)
	{
	//AddStmtAndReplaceAtomKind
	_zval_dtor_func((return_value));
	}
	#endif
	#ifdef __COMPILE_45
	else if (__choose0 == 46)
	{
	//AddStmtAndReplaceAtomKind
	_zval_dtor_func((this_ptr));
	}
	#endif
	#ifdef __COMPILE_46
	else if (__choose0 == 47)
	{
	//AddStmtAndReplaceAtomKind
	_zval_ptr_dtor((&(return_value)));
	}
	#endif
	#ifdef __COMPILE_47
	else if (__choose0 == 48)
	{
	//AddStmtAndReplaceAtomKind
	_zval_ptr_dtor((&(this_ptr)));
	}
	#endif
	#ifdef __COMPILE_48
	else if (__choose0 == 49)
	{
	//AddStmtAndReplaceAtomKind
	_zval_ptr_dtor((&*(return_value_ptr)));
	}
	#endif
	#ifdef __COMPILE_49
	else if (__choose0 == 50)
	{
	//AddStmtAndReplaceAtomKind
	add_next_index_stringl((return_value), "", sizeof ("") - 1, 1);
	}
	#endif
	#ifdef __COMPILE_50
	else if (__choose0 == 51)
	{
	//AddStmtAndReplaceAtomKind
	add_next_index_stringl((this_ptr), "", sizeof ("") - 1, 1);
	}
	#endif
	#ifdef __COMPILE_51
	else if (__choose0 == 52)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (-1);
	}
	#endif
	#ifdef __COMPILE_52
	else if (__choose0 == 53)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (0);
	}
	#endif
	#ifdef __COMPILE_53
	else if (__choose0 == 54)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (1);
	}
	#endif
	#ifdef __COMPILE_54
	else if (__choose0 == 55)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (2);
	}
	#endif
	#ifdef __COMPILE_55
	else if (__choose0 == 56)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (3);
	}
	#endif
	#ifdef __COMPILE_56
	else if (__choose0 == 57)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (4);
	}
	#endif
	#ifdef __COMPILE_57
	else if (__choose0 == 58)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (cmp_len);
	}
	#endif
	#ifdef __COMPILE_58
	else if (__choose0 == 59)
	{
	//AddStmtAndReplaceAtomKind
	convert_to_boolean((return_value));
	}
	#endif
	#ifdef __COMPILE_59
	else if (__choose0 == 60)
	{
	//AddStmtAndReplaceAtomKind
	convert_to_boolean((this_ptr));
	}
	#endif
	#ifdef __COMPILE_60
	else if (__choose0 == 61)
	{
	//AddStmtAndReplaceAtomKind
	convert_to_double(*(return_value_ptr));
	}
	#endif
	#ifdef __COMPILE_61
	else if (__choose0 == 62)
	{
	//AddStmtAndReplaceAtomKind
	convert_to_long(*(return_value_ptr));
	}
	#endif
	#ifdef __COMPILE_62
	else if (__choose0 == 63)
	{
	//AddStmtAndReplaceAtomKind
	gc_remove_zval_from_buffer((return_value));
	}
	#endif
	#ifdef __COMPILE_63
	else if (__choose0 == 64)
	{
	//AddStmtAndReplaceAtomKind
	gc_remove_zval_from_buffer((this_ptr));
	}
	#endif
	#ifdef __COMPILE_64
	else if (__choose0 == 65)
	{
	//AddStmtAndReplaceAtomKind
	gc_zval_check_possible_root(((return_value)));
	}
	#endif
	#ifdef __COMPILE_65
	else if (__choose0 == 66)
	{
	//AddStmtAndReplaceAtomKind
	gc_zval_check_possible_root(((this_ptr)));
	}
	#endif
	#ifdef __COMPILE_66
	else if (__choose0 == 67)
	{
	//AddStmtAndReplaceAtomKind
	gc_zval_possible_root((return_value));
	}
	#endif
	#ifdef __COMPILE_67
	else if (__choose0 == 68)
	{
	//AddStmtAndReplaceAtomKind
	gc_zval_possible_root((this_ptr));
	}
	#endif
	#ifdef __COMPILE_68
	else if (__choose0 == 69)
	{
	//AddStmtAndReplaceAtomKind
	i_zval_ptr_dtor((return_value));
	}
	#endif
	#ifdef __COMPILE_69
	else if (__choose0 == 70)
	{
	//AddStmtAndReplaceAtomKind
	i_zval_ptr_dtor((this_ptr));
	}
	#endif
	#ifdef __COMPILE_70
	else if (__choose0 == 71)
	{
	//AddStmtAndReplaceAtomKind
	len = (-1);
	}
	#endif
	#ifdef __COMPILE_71
	else if (__choose0 == 72)
	{
	//AddStmtAndReplaceAtomKind
	len = (0);
	}
	#endif
	#ifdef __COMPILE_72
	else if (__choose0 == 73)
	{
	//AddStmtAndReplaceAtomKind
	len = (1);
	}
	#endif
	#ifdef __COMPILE_73
	else if (__choose0 == 74)
	{
	//AddStmtAndReplaceAtomKind
	len = (2);
	}
	#endif
	#ifdef __COMPILE_74
	else if (__choose0 == 75)
	{
	//AddStmtAndReplaceAtomKind
	len = (3);
	}
	#endif
	#ifdef __COMPILE_75
	else if (__choose0 == 76)
	{
	//AddStmtAndReplaceAtomKind
	len = (4);
	}
	#endif
	#ifdef __COMPILE_76
	else if (__choose0 == 77)
	{
	//AddStmtAndReplaceAtomKind
	len = (len);
	}
	#endif
	#ifdef __COMPILE_77
	else if (__choose0 == 78)
	{
	//AddStmtAndReplaceAtomKind
	len = (offset);
	}
	#endif
	#ifdef __COMPILE_78
	else if (__choose0 == 79)
	{
	//AddStmtAndReplaceAtomKind
	memset((s1), 0, 256);
	}
	#endif
	#ifdef __COMPILE_79
	else if (__choose0 == 80)
	{
	//AddStmtAndReplaceAtomKind
	memset((s2), 0, 256);
	}
	#endif
	#ifdef __COMPILE_80
	else if (__choose0 == 81)
	{
	//AddStmtAndReplaceAtomKind
	offset = (-1);
	}
	#endif
	#ifdef __COMPILE_81
	else if (__choose0 == 82)
	{
	//AddStmtAndReplaceAtomKind
	offset = (0);
	}
	#endif
	#ifdef __COMPILE_82
	else if (__choose0 == 83)
	{
	//AddStmtAndReplaceAtomKind
	offset = (1);
	}
	#endif
	#ifdef __COMPILE_83
	else if (__choose0 == 84)
	{
	//AddStmtAndReplaceAtomKind
	offset = (2);
	}
	#endif
	#ifdef __COMPILE_84
	else if (__choose0 == 85)
	{
	//AddStmtAndReplaceAtomKind
	offset = (3);
	}
	#endif
	#ifdef __COMPILE_85
	else if (__choose0 == 86)
	{
	//AddStmtAndReplaceAtomKind
	offset = (4);
	}
	#endif
	#ifdef __COMPILE_86
	else if (__choose0 == 87)
	{
	//AddStmtAndReplaceAtomKind
	offset = (len);
	}
	#endif
	#ifdef __COMPILE_87
	else if (__choose0 == 88)
	{
	//AddStmtAndReplaceAtomKind
	offset = (offset);
	}
	#endif
	#ifdef __COMPILE_88
	else if (__choose0 == 89)
	{
	//AddStmtAndReplaceAtomKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid locale category name %s, must be one of LC_ALL, LC_COLLATE, LC_CTYPE, LC_MONETARY, LC_NUMERIC, or LC_TIME", (s1));
	}
	#endif
	#ifdef __COMPILE_89
	else if (__choose0 == 90)
	{
	//AddStmtAndReplaceAtomKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid locale category name %s, must be one of LC_ALL, LC_COLLATE, LC_CTYPE, LC_MONETARY, LC_NUMERIC, or LC_TIME", (s2));
	}
	#endif
	#ifdef __COMPILE_90
	else if (__choose0 == 91)
	{
	//AddStmtAndReplaceAtomKind
	php_lcfirst((*(return_value)).value.str.val);
	}
	#endif
	#ifdef __COMPILE_91
	else if (__choose0 == 92)
	{
	//AddStmtAndReplaceAtomKind
	php_lcfirst((*(this_ptr)).value.str.val);
	}
	#endif
	#ifdef __COMPILE_92
	else if (__choose0 == 93)
	{
	//AddStmtAndReplaceAtomKind
	php_ucfirst((*(return_value)).value.str.val);
	}
	#endif
	#ifdef __COMPILE_93
	else if (__choose0 == 94)
	{
	//AddStmtAndReplaceAtomKind
	php_ucfirst((*(this_ptr)).value.str.val);
	}
	#endif
	#ifdef __COMPILE_94
	else if (__choose0 == 95)
	{
	//AddStmtAndReplaceAtomKind
	zend_hash_internal_pointer_reset_ex((*(return_value)).value.ht, ((void *)0));
	}
	#endif
	#ifdef __COMPILE_95
	else if (__choose0 == 96)
	{
	//AddStmtAndReplaceAtomKind
	zend_hash_internal_pointer_reset_ex((*(this_ptr)).value.ht, ((void *)0));
	}
	#endif
	#ifdef __COMPILE_96
	else if (__choose0 == 97)
	{
	//AddStmtAndReplaceAtomKind
	zend_hash_internal_pointer_reset_ex((**(return_value_ptr)).value.ht, ((void *)0));
	}
	#endif
	#ifdef __COMPILE_97
	else if (__choose0 == 98)
	{
	//AddStmtAndReplaceAtomKind
	zend_hash_move_forward_ex((*(return_value)).value.ht, ((void *)0));
	}
	#endif
	#ifdef __COMPILE_98
	else if (__choose0 == 99)
	{
	//AddStmtAndReplaceAtomKind
	zend_hash_move_forward_ex((*(this_ptr)).value.ht, ((void *)0));
	}
	#endif
	#ifdef __COMPILE_99
	else if (__choose0 == 100)
	{
	//AddStmtAndReplaceAtomKind
	zend_hash_move_forward_ex((**(return_value_ptr)).value.ht, ((void *)0));
	}
	#endif
	#ifdef __COMPILE_100
	else if (__choose0 == 101)
	{
	//AddStmtAndReplaceAtomKind
	zval_addref_p(*(return_value_ptr));
	}
	#endif
	#ifdef __COMPILE_101
	else if (__choose0 == 102)
	{
	//AddStmtAndReplaceAtomKind
	zval_delref_p((*(return_value_ptr)));
	}
	#endif
	#ifdef __COMPILE_102
	else if (__choose0 == 103)
	{
	//AddStmtAndReplaceAtomKind
	zval_unset_isref_p((return_value));
	}
	#endif
	#ifdef __COMPILE_103
	else if (__choose0 == 104)
	{
	//AddStmtAndReplaceAtomKind
	zval_unset_isref_p((this_ptr));
	}
	#endif
	#ifdef __COMPILE_104
	else if (__choose0 == 105)
	{
	//AddStmtKind
	(basic_globals.strtok_last) = ((void *)0);
	}
	#endif
	#ifdef __COMPILE_105
	else if (__choose0 == 106)
	{
	//AddStmtKind
	(executor_globals.argument_stack) = zend_vm_stack_new_page(((16 * 1024) - 16));
	}
	#endif
	#ifdef __COMPILE_106
	else if (__choose0 == 107)
	{
	//AddStmtKind
	_efree(((basic_globals.locale_string)));
	}
	#endif
	#ifdef __COMPILE_107
	else if (__choose0 == 108)
	{
	//AddStmtKind
	_zval_ptr_dtor((&(basic_globals.strtok_zval)));
	}
	#endif
	#ifdef __COMPILE_108
	else if (__choose0 == 109)
	{
	//AddStmtKind
	cmp_len = (uint)(len ? len : (((s2_len) > ((s1_len - offset))) ? (s2_len) : ((s1_len - offset))));
	}
	#endif
	#ifdef __COMPILE_109
	else if (__choose0 == 110)
	{
	//AddStmtKind
	exit(1);
	}
	#endif
	#ifdef __COMPILE_110
	else if (__choose0 == 111)
	{
	//AddStmtKind
	len = s1_len - offset;
	}
	#endif
	#ifdef __COMPILE_111
	else if (__choose0 == 112)
	{
	//AddStmtKind
	mblen(((void *)0), 0);
	}
	#endif
	#ifdef __COMPILE_112
	else if (__choose0 == 113)
	{
	//AddStmtKind
	offset = (offset < 0) ? 0 : offset;
	}
	#endif
	#ifdef __COMPILE_113
	else if (__choose0 == 114)
	{
	//AddStmtKind
	offset = s1_len + offset;
	}
	#endif
	#ifdef __COMPILE_114
	else if (__choose0 == 115)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 13L), "Passing locale category name as string is deprecated. Use the LC_* -constants instead");
	}
	#endif
	#ifdef __COMPILE_115
	else if (__choose0 == 116)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "'from' and 'len' should be of same type - numerical or array ");
	}
	#endif
	#ifdef __COMPILE_116
	else if (__choose0 == 117)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "'from' and 'len' should have the same number of elements");
	}
	#endif
	#ifdef __COMPILE_117
	else if (__choose0 == 118)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Argument must be an array");
	}
	#endif
	#ifdef __COMPILE_118
	else if (__choose0 == 119)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Break string cannot be empty");
	}
	#endif
	#ifdef __COMPILE_119
	else if (__choose0 == 120)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Can't force cut when width is zero");
	}
	#endif
	#ifdef __COMPILE_120
	else if (__choose0 == 121)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Chunk length should be greater than zero");
	}
	#endif
	#ifdef __COMPILE_121
	else if (__choose0 == 122)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Empty delimiter");
	}
	#endif
	#ifdef __COMPILE_122
	else if (__choose0 == 123)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Empty substring");
	}
	#endif
	#ifdef __COMPILE_123
	else if (__choose0 == 124)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Functionality of 'from' and 'len' as arrays is not implemented");
	}
	#endif
	#ifdef __COMPILE_124
	else if (__choose0 == 125)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid '..'-range");
	}
	#endif
	#ifdef __COMPILE_125
	else if (__choose0 == 126)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid '..'-range, '..'-range needs to be incrementing");
	}
	#endif
	#ifdef __COMPILE_126
	else if (__choose0 == 127)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid '..'-range, no character to the left of '..'");
	}
	#endif
	#ifdef __COMPILE_127
	else if (__choose0 == 128)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid '..'-range, no character to the right of '..'");
	}
	#endif
	#ifdef __COMPILE_128
	else if (__choose0 == 129)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid arguments passed");
	}
	#endif
	#ifdef __COMPILE_129
	else if (__choose0 == 130)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Length should be greater than 0");
	}
	#endif
	#ifdef __COMPILE_130
	else if (__choose0 == 131)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Offset is greater than the length of haystack string");
	}
	#endif
	#ifdef __COMPILE_131
	else if (__choose0 == 132)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Offset not contained in string");
	}
	#endif
	#ifdef __COMPILE_132
	else if (__choose0 == 133)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Offset should be greater than or equal to 0");
	}
	#endif
	#ifdef __COMPILE_133
	else if (__choose0 == 134)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Only a single %%i or %%n token can be used");
	}
	#endif
	#ifdef __COMPILE_134
	else if (__choose0 == 135)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Padding length is too long");
	}
	#endif
	#ifdef __COMPILE_135
	else if (__choose0 == 136)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Padding string cannot be empty");
	}
	#endif
	#ifdef __COMPILE_136
	else if (__choose0 == 137)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Padding type has to be STR_PAD_LEFT, STR_PAD_RIGHT, or STR_PAD_BOTH");
	}
	#endif
	#ifdef __COMPILE_137
	else if (__choose0 == 138)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Second argument has to be greater than or equal to 0");
	}
	#endif
	#ifdef __COMPILE_138
	else if (__choose0 == 139)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Specified locale name is too long");
	}
	#endif
	#ifdef __COMPILE_139
	else if (__choose0 == 140)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "The character list cannot be empty");
	}
	#endif
	#ifdef __COMPILE_140
	else if (__choose0 == 141)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "The length must be greater than zero");
	}
	#endif
	#ifdef __COMPILE_141
	else if (__choose0 == 142)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "The length of each segment must be greater than zero");
	}
	#endif
	#ifdef __COMPILE_142
	else if (__choose0 == 143)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "The second argument is not an array");
	}
	#endif
	#ifdef __COMPILE_143
	else if (__choose0 == 144)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "The start position cannot exceed initial string length");
	}
	#endif
	#ifdef __COMPILE_144
	else if (__choose0 == 145)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Unknown mode");
	}
	#endif
	#ifdef __COMPILE_145
	else if (__choose0 == 146)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "needle is not a string or an integer");
	}
	#endif
	#ifdef __COMPILE_146
	else if (__choose0 == 147)
	{
	//AddStmtKind
	zend_error((1 << 3L), "A non well formed numeric value encountered");
	}
	#endif
	#ifdef __COMPILE_147
	else if (__choose0 == 148)
	{
	//AddStmtKind
	zend_rebuild_symbol_table();
	}
	#endif
	#ifdef __COMPILE_148
	else if (__choose0 == 149)
	{
	//AddStmtKind
	zend_wrong_param_count();
	}
	#endif
	#ifdef __COMPILE_149
	else if (__choose0 == 150)
	{
	//IfExitKind
	if (__is_neg("0-150", "L5237", 10, &(ht), sizeof (ht), &(s1),
				 sizeof (s1), &(s2), sizeof (s2), &(s1_len), sizeof (s1_len), &(s2_len),
				 sizeof (s2_len), &(offset), sizeof (offset), &(len), sizeof (len), &(cs),
				 sizeof (cs), &(return_value), sizeof (return_value), &(cmp_len), sizeof (cmp_len)))
	    return;
	}
	#endif
	int __choose1 = __choose("__SWITCH1");
	{
	int __temp1=(zend_parse_parameters((ht), "ssl|lb", &s1, &s1_len, &s2, &s2_len, &offset, &len, &cs) == -1) ;
	if (__choose1 == 0)
	{}
	#ifdef __COMPILE_150
	else if (__choose1 == 1)
	{
	__temp1= (__is_neg("1-1", "L5237", 10, &(ht), sizeof (ht), &(s1), sizeof (s1), &(s2), sizeof (s2), &(s1_len), sizeof (s1_len), &(s2_len), sizeof (s2_len), &(offset), sizeof (offset), &(len), sizeof (len), &(cs), sizeof (cs), &(return_value), sizeof (return_value), &(cmp_len), sizeof (cmp_len)));
	}
	#endif
	#ifdef __COMPILE_151
	else if (__choose1 == 2)
	{
	__temp1= ((zend_parse_parameters((ht), "ssl|lb", &s1, &s1_len, &s2, &s2_len, &offset, &len, &cs) == -1) || __is_neg("1-2", "L5237", 10, &(ht), sizeof (ht), &(s1), sizeof (s1), &(s2), sizeof (s2), &(s1_len), sizeof (s1_len), &(s2_len), sizeof (s2_len), &(offset), sizeof (offset), &(len), sizeof (len), &(cs), sizeof (cs), &(return_value), sizeof (return_value), &(cmp_len), sizeof (cmp_len)));
	}
	#endif
	#ifdef __COMPILE_152
	else if (__choose1 == 3)
	{
	__temp1= (dprintf((ht), "ssl|lb", &s1, &s1_len, &s2, &s2_len, &offset, &len, &cs) == -1);
	}
	#endif
	#ifdef __COMPILE_153
	else if (__choose1 == 4)
	{
	__temp1= (zend_get_parameters_ex((ht), "ssl|lb", &s1, &s1_len, &s2, &s2_len, &offset, &len, &cs) == -1);
	}
	#endif
	#ifdef __COMPILE_154
	else if (__choose1 == 5)
	{
	__temp1= ((zend_parse_parameters((ht), "ssl|lb", &s1, &s1_len, &s2, &s2_len, &offset, &len, &cs) == -1) && !__is_neg("1-5", "L5237", 10, &(ht), sizeof (ht), &(s1), sizeof (s1), &(s2), sizeof (s2), &(s1_len), sizeof (s1_len), &(s2_len), sizeof (s2_len), &(offset), sizeof (offset), &(len), sizeof (len), &(cs), sizeof (cs), &(return_value), sizeof (return_value), &(cmp_len), sizeof (cmp_len)));
	}
	#endif
	int __choose2 = __choose("__SWITCH2");
	if (__choose2 == 0)
	{
	if (__temp1) {
			RETURN_FALSE;
		}
	
	}
	#ifdef __COMPILE_155
	else if (__choose2 == 1)
	{
	//GuardKind
	if (!__is_neg("2-1", "L5237", 10, &(ht), sizeof (ht), &(s1), sizeof (s1), &(s2), sizeof (s2), &(s1_len), sizeof (s1_len), &(s2_len), sizeof (s2_len), &(offset), sizeof (offset), &(len), sizeof (len), &(cs), sizeof (cs), &(return_value), sizeof (return_value), &(cmp_len), sizeof (cmp_len)))
	    if (zend_parse_parameters((ht), "ssl|lb", &s1, &s1_len, &s2, &s2_len, &offset, &len, &cs) == -1) {
	        {
	            do {
	                zval *__z = (return_value);
	                (*__z).value.lval = ((0) != 0);
	                (*__z).type = 3;
	            } while (0);
	            return;
	        }
	        ;
	    }
	
	}
	#endif
	#ifdef __COMPILE_156
	else if (__choose2 == 2)
	{
	//SpecialGuardKind
	if (!__is_neg("2-2", "L5237", 10, &(ht), sizeof (ht), &(s1), sizeof (s1), &(s2), sizeof (s2), &(s1_len), sizeof (s1_len), &(s2_len), sizeof (s2_len), &(offset), sizeof (offset), &(len), sizeof (len), &(cs), sizeof (cs), &(return_value), sizeof (return_value), &(cmp_len), sizeof (cmp_len)) && (zend_parse_parameters((ht), "ssl|lb", &s1, &s1_len, &s2, &s2_len, &offset, &len, &cs) == -1)) {
	    {
	        do {
	            zval *__z = (return_value);
	            (*__z).value.lval = ((0) != 0);
	            (*__z).type = 3;
	        } while (0);
	        return;
	    }
	    ;
	}
	
	}
	#endif
	}
	}

	//prophet generated patch
	{
	int __choose3 = __choose("__SWITCH3");
	if (__choose3 == 0)
	{}
	#ifdef __COMPILE_157
	else if (__choose3 == 1)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.locale_string) = (s1);
	}
	#endif
	#ifdef __COMPILE_158
	else if (__choose3 == 2)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.locale_string) = (s2);
	}
	#endif
	#ifdef __COMPILE_159
	else if (__choose3 == 3)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.locale_string) = _estrdup(((s1)));
	}
	#endif
	#ifdef __COMPILE_160
	else if (__choose3 == 4)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.locale_string) = _estrdup(((s2)));
	}
	#endif
	#ifdef __COMPILE_161
	else if (__choose3 == 5)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_last) = (*(return_value)).value.str.val;
	}
	#endif
	#ifdef __COMPILE_162
	else if (__choose3 == 6)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_last) = (*(this_ptr)).value.str.val;
	}
	#endif
	#ifdef __COMPILE_163
	else if (__choose3 == 7)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_last) = (s1) + 1;
	}
	#endif
	#ifdef __COMPILE_164
	else if (__choose3 == 8)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_last) = (s1);
	}
	#endif
	#ifdef __COMPILE_165
	else if (__choose3 == 9)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_last) = (s2) + 1;
	}
	#endif
	#ifdef __COMPILE_166
	else if (__choose3 == 10)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_last) = (s2);
	}
	#endif
	#ifdef __COMPILE_167
	else if (__choose3 == 11)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_len) = (-1);
	}
	#endif
	#ifdef __COMPILE_168
	else if (__choose3 == 12)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_len) = (0);
	}
	#endif
	#ifdef __COMPILE_169
	else if (__choose3 == 13)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_len) = (1);
	}
	#endif
	#ifdef __COMPILE_170
	else if (__choose3 == 14)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_len) = (2);
	}
	#endif
	#ifdef __COMPILE_171
	else if (__choose3 == 15)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_len) = (3);
	}
	#endif
	#ifdef __COMPILE_172
	else if (__choose3 == 16)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_len) = (4);
	}
	#endif
	#ifdef __COMPILE_173
	else if (__choose3 == 17)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_string) = (*(return_value)).value.str.val;
	}
	#endif
	#ifdef __COMPILE_174
	else if (__choose3 == 18)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_string) = (*(this_ptr)).value.str.val;
	}
	#endif
	#ifdef __COMPILE_175
	else if (__choose3 == 19)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_string) = (s1);
	}
	#endif
	#ifdef __COMPILE_176
	else if (__choose3 == 20)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_string) = (s2);
	}
	#endif
	#ifdef __COMPILE_177
	else if (__choose3 == 21)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_zval) = (return_value);
	}
	#endif
	#ifdef __COMPILE_178
	else if (__choose3 == 22)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_zval) = (this_ptr);
	}
	#endif
	#ifdef __COMPILE_179
	else if (__choose3 == 23)
	{
	//AddStmtAndReplaceAtomKind
	(s1)++;
	}
	#endif
	#ifdef __COMPILE_180
	else if (__choose3 == 24)
	{
	//AddStmtAndReplaceAtomKind
	(s1)--;
	}
	#endif
	#ifdef __COMPILE_181
	else if (__choose3 == 25)
	{
	//AddStmtAndReplaceAtomKind
	(s2)++;
	}
	#endif
	#ifdef __COMPILE_182
	else if (__choose3 == 26)
	{
	//AddStmtAndReplaceAtomKind
	(s2)--;
	}
	#endif
	#ifdef __COMPILE_183
	else if (__choose3 == 27)
	{
	//AddStmtAndReplaceAtomKind
	_array_init(((return_value)), 0);
	}
	#endif
	#ifdef __COMPILE_184
	else if (__choose3 == 28)
	{
	//AddStmtAndReplaceAtomKind
	_array_init(((this_ptr)), 0);
	}
	#endif
	#ifdef __COMPILE_185
	else if (__choose3 == 29)
	{
	//AddStmtAndReplaceAtomKind
	_convert_to_string((*(return_value_ptr)));
	}
	#endif
	#ifdef __COMPILE_186
	else if (__choose3 == 30)
	{
	//AddStmtAndReplaceAtomKind
	_efree(((return_value)));
	}
	#endif
	#ifdef __COMPILE_187
	else if (__choose3 == 31)
	{
	//AddStmtAndReplaceAtomKind
	_efree(((s1)));
	}
	#endif
	#ifdef __COMPILE_188
	else if (__choose3 == 32)
	{
	//AddStmtAndReplaceAtomKind
	_efree(((s2)));
	}
	#endif
	#ifdef __COMPILE_189
	else if (__choose3 == 33)
	{
	//AddStmtAndReplaceAtomKind
	_efree(((this_ptr)));
	}
	#endif
	#ifdef __COMPILE_190
	else if (__choose3 == 34)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor((&(*(return_value))));
	}
	#endif
	#ifdef __COMPILE_191
	else if (__choose3 == 35)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor((&(*(this_ptr))));
	}
	#endif
	#ifdef __COMPILE_192
	else if (__choose3 == 36)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor((((return_value))));
	}
	#endif
	#ifdef __COMPILE_193
	else if (__choose3 == 37)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor((((this_ptr))));
	}
	#endif
	#ifdef __COMPILE_194
	else if (__choose3 == 38)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor(((return_value)));
	}
	#endif
	#ifdef __COMPILE_195
	else if (__choose3 == 39)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor(((this_ptr)));
	}
	#endif
	#ifdef __COMPILE_196
	else if (__choose3 == 40)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor_func((return_value));
	}
	#endif
	#ifdef __COMPILE_197
	else if (__choose3 == 41)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor_func((this_ptr));
	}
	#endif
	#ifdef __COMPILE_198
	else if (__choose3 == 42)
	{
	//AddStmtAndReplaceAtomKind
	_zval_dtor(((return_value)));
	}
	#endif
	#ifdef __COMPILE_199
	else if (__choose3 == 43)
	{
	//AddStmtAndReplaceAtomKind
	_zval_dtor(((this_ptr)));
	}
	#endif
	#ifdef __COMPILE_200
	else if (__choose3 == 44)
	{
	//AddStmtAndReplaceAtomKind
	_zval_dtor((*(return_value_ptr)));
	}
	#endif
	#ifdef __COMPILE_201
	else if (__choose3 == 45)
	{
	//AddStmtAndReplaceAtomKind
	_zval_dtor_func((return_value));
	}
	#endif
	#ifdef __COMPILE_202
	else if (__choose3 == 46)
	{
	//AddStmtAndReplaceAtomKind
	_zval_dtor_func((this_ptr));
	}
	#endif
	#ifdef __COMPILE_203
	else if (__choose3 == 47)
	{
	//AddStmtAndReplaceAtomKind
	_zval_ptr_dtor((&(return_value)));
	}
	#endif
	#ifdef __COMPILE_204
	else if (__choose3 == 48)
	{
	//AddStmtAndReplaceAtomKind
	_zval_ptr_dtor((&(this_ptr)));
	}
	#endif
	#ifdef __COMPILE_205
	else if (__choose3 == 49)
	{
	//AddStmtAndReplaceAtomKind
	_zval_ptr_dtor((&*(return_value_ptr)));
	}
	#endif
	#ifdef __COMPILE_206
	else if (__choose3 == 50)
	{
	//AddStmtAndReplaceAtomKind
	add_next_index_stringl((return_value), "", sizeof ("") - 1, 1);
	}
	#endif
	#ifdef __COMPILE_207
	else if (__choose3 == 51)
	{
	//AddStmtAndReplaceAtomKind
	add_next_index_stringl((this_ptr), "", sizeof ("") - 1, 1);
	}
	#endif
	#ifdef __COMPILE_208
	else if (__choose3 == 52)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (-1);
	}
	#endif
	#ifdef __COMPILE_209
	else if (__choose3 == 53)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (0);
	}
	#endif
	#ifdef __COMPILE_210
	else if (__choose3 == 54)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (1);
	}
	#endif
	#ifdef __COMPILE_211
	else if (__choose3 == 55)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (2);
	}
	#endif
	#ifdef __COMPILE_212
	else if (__choose3 == 56)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (3);
	}
	#endif
	#ifdef __COMPILE_213
	else if (__choose3 == 57)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (4);
	}
	#endif
	#ifdef __COMPILE_214
	else if (__choose3 == 58)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (cmp_len);
	}
	#endif
	#ifdef __COMPILE_215
	else if (__choose3 == 59)
	{
	//AddStmtAndReplaceAtomKind
	convert_to_boolean((return_value));
	}
	#endif
	#ifdef __COMPILE_216
	else if (__choose3 == 60)
	{
	//AddStmtAndReplaceAtomKind
	convert_to_boolean((this_ptr));
	}
	#endif
	#ifdef __COMPILE_217
	else if (__choose3 == 61)
	{
	//AddStmtAndReplaceAtomKind
	convert_to_double(*(return_value_ptr));
	}
	#endif
	#ifdef __COMPILE_218
	else if (__choose3 == 62)
	{
	//AddStmtAndReplaceAtomKind
	convert_to_long(*(return_value_ptr));
	}
	#endif
	#ifdef __COMPILE_219
	else if (__choose3 == 63)
	{
	//AddStmtAndReplaceAtomKind
	gc_remove_zval_from_buffer((return_value));
	}
	#endif
	#ifdef __COMPILE_220
	else if (__choose3 == 64)
	{
	//AddStmtAndReplaceAtomKind
	gc_remove_zval_from_buffer((this_ptr));
	}
	#endif
	#ifdef __COMPILE_221
	else if (__choose3 == 65)
	{
	//AddStmtAndReplaceAtomKind
	gc_zval_check_possible_root(((return_value)));
	}
	#endif
	#ifdef __COMPILE_222
	else if (__choose3 == 66)
	{
	//AddStmtAndReplaceAtomKind
	gc_zval_check_possible_root(((this_ptr)));
	}
	#endif
	#ifdef __COMPILE_223
	else if (__choose3 == 67)
	{
	//AddStmtAndReplaceAtomKind
	gc_zval_possible_root((return_value));
	}
	#endif
	#ifdef __COMPILE_224
	else if (__choose3 == 68)
	{
	//AddStmtAndReplaceAtomKind
	gc_zval_possible_root((this_ptr));
	}
	#endif
	#ifdef __COMPILE_225
	else if (__choose3 == 69)
	{
	//AddStmtAndReplaceAtomKind
	i_zval_ptr_dtor((return_value));
	}
	#endif
	#ifdef __COMPILE_226
	else if (__choose3 == 70)
	{
	//AddStmtAndReplaceAtomKind
	i_zval_ptr_dtor((this_ptr));
	}
	#endif
	#ifdef __COMPILE_227
	else if (__choose3 == 71)
	{
	//AddStmtAndReplaceAtomKind
	len = (-1);
	}
	#endif
	#ifdef __COMPILE_228
	else if (__choose3 == 72)
	{
	//AddStmtAndReplaceAtomKind
	len = (0);
	}
	#endif
	#ifdef __COMPILE_229
	else if (__choose3 == 73)
	{
	//AddStmtAndReplaceAtomKind
	len = (1);
	}
	#endif
	#ifdef __COMPILE_230
	else if (__choose3 == 74)
	{
	//AddStmtAndReplaceAtomKind
	len = (2);
	}
	#endif
	#ifdef __COMPILE_231
	else if (__choose3 == 75)
	{
	//AddStmtAndReplaceAtomKind
	len = (3);
	}
	#endif
	#ifdef __COMPILE_232
	else if (__choose3 == 76)
	{
	//AddStmtAndReplaceAtomKind
	len = (4);
	}
	#endif
	#ifdef __COMPILE_233
	else if (__choose3 == 77)
	{
	//AddStmtAndReplaceAtomKind
	len = (len);
	}
	#endif
	#ifdef __COMPILE_234
	else if (__choose3 == 78)
	{
	//AddStmtAndReplaceAtomKind
	len = (offset);
	}
	#endif
	#ifdef __COMPILE_235
	else if (__choose3 == 79)
	{
	//AddStmtAndReplaceAtomKind
	memset((s1), 0, 256);
	}
	#endif
	#ifdef __COMPILE_236
	else if (__choose3 == 80)
	{
	//AddStmtAndReplaceAtomKind
	memset((s2), 0, 256);
	}
	#endif
	#ifdef __COMPILE_237
	else if (__choose3 == 81)
	{
	//AddStmtAndReplaceAtomKind
	offset = (-1);
	}
	#endif
	#ifdef __COMPILE_238
	else if (__choose3 == 82)
	{
	//AddStmtAndReplaceAtomKind
	offset = (0);
	}
	#endif
	#ifdef __COMPILE_239
	else if (__choose3 == 83)
	{
	//AddStmtAndReplaceAtomKind
	offset = (1);
	}
	#endif
	#ifdef __COMPILE_240
	else if (__choose3 == 84)
	{
	//AddStmtAndReplaceAtomKind
	offset = (2);
	}
	#endif
	#ifdef __COMPILE_241
	else if (__choose3 == 85)
	{
	//AddStmtAndReplaceAtomKind
	offset = (3);
	}
	#endif
	#ifdef __COMPILE_242
	else if (__choose3 == 86)
	{
	//AddStmtAndReplaceAtomKind
	offset = (4);
	}
	#endif
	#ifdef __COMPILE_243
	else if (__choose3 == 87)
	{
	//AddStmtAndReplaceAtomKind
	offset = (len);
	}
	#endif
	#ifdef __COMPILE_244
	else if (__choose3 == 88)
	{
	//AddStmtAndReplaceAtomKind
	offset = (offset);
	}
	#endif
	#ifdef __COMPILE_245
	else if (__choose3 == 89)
	{
	//AddStmtAndReplaceAtomKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid locale category name %s, must be one of LC_ALL, LC_COLLATE, LC_CTYPE, LC_MONETARY, LC_NUMERIC, or LC_TIME", (s1));
	}
	#endif
	#ifdef __COMPILE_246
	else if (__choose3 == 90)
	{
	//AddStmtAndReplaceAtomKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid locale category name %s, must be one of LC_ALL, LC_COLLATE, LC_CTYPE, LC_MONETARY, LC_NUMERIC, or LC_TIME", (s2));
	}
	#endif
	#ifdef __COMPILE_247
	else if (__choose3 == 91)
	{
	//AddStmtAndReplaceAtomKind
	php_lcfirst((*(return_value)).value.str.val);
	}
	#endif
	#ifdef __COMPILE_248
	else if (__choose3 == 92)
	{
	//AddStmtAndReplaceAtomKind
	php_lcfirst((*(this_ptr)).value.str.val);
	}
	#endif
	#ifdef __COMPILE_249
	else if (__choose3 == 93)
	{
	//AddStmtAndReplaceAtomKind
	php_ucfirst((*(return_value)).value.str.val);
	}
	#endif
	#ifdef __COMPILE_250
	else if (__choose3 == 94)
	{
	//AddStmtAndReplaceAtomKind
	php_ucfirst((*(this_ptr)).value.str.val);
	}
	#endif
	#ifdef __COMPILE_251
	else if (__choose3 == 95)
	{
	//AddStmtAndReplaceAtomKind
	zend_hash_internal_pointer_reset_ex((*(return_value)).value.ht, ((void *)0));
	}
	#endif
	#ifdef __COMPILE_252
	else if (__choose3 == 96)
	{
	//AddStmtAndReplaceAtomKind
	zend_hash_internal_pointer_reset_ex((*(this_ptr)).value.ht, ((void *)0));
	}
	#endif
	#ifdef __COMPILE_253
	else if (__choose3 == 97)
	{
	//AddStmtAndReplaceAtomKind
	zend_hash_internal_pointer_reset_ex((**(return_value_ptr)).value.ht, ((void *)0));
	}
	#endif
	#ifdef __COMPILE_254
	else if (__choose3 == 98)
	{
	//AddStmtAndReplaceAtomKind
	zend_hash_move_forward_ex((*(return_value)).value.ht, ((void *)0));
	}
	#endif
	#ifdef __COMPILE_255
	else if (__choose3 == 99)
	{
	//AddStmtAndReplaceAtomKind
	zend_hash_move_forward_ex((*(this_ptr)).value.ht, ((void *)0));
	}
	#endif
	#ifdef __COMPILE_256
	else if (__choose3 == 100)
	{
	//AddStmtAndReplaceAtomKind
	zend_hash_move_forward_ex((**(return_value_ptr)).value.ht, ((void *)0));
	}
	#endif
	#ifdef __COMPILE_257
	else if (__choose3 == 101)
	{
	//AddStmtAndReplaceAtomKind
	zval_addref_p(*(return_value_ptr));
	}
	#endif
	#ifdef __COMPILE_258
	else if (__choose3 == 102)
	{
	//AddStmtAndReplaceAtomKind
	zval_delref_p((*(return_value_ptr)));
	}
	#endif
	#ifdef __COMPILE_259
	else if (__choose3 == 103)
	{
	//AddStmtAndReplaceAtomKind
	zval_unset_isref_p((return_value));
	}
	#endif
	#ifdef __COMPILE_260
	else if (__choose3 == 104)
	{
	//AddStmtAndReplaceAtomKind
	zval_unset_isref_p((this_ptr));
	}
	#endif
	#ifdef __COMPILE_261
	else if (__choose3 == 105)
	{
	//AddStmtKind
	(basic_globals.strtok_last) = ((void *)0);
	}
	#endif
	#ifdef __COMPILE_262
	else if (__choose3 == 106)
	{
	//AddStmtKind
	(executor_globals.argument_stack) = zend_vm_stack_new_page(((16 * 1024) - 16));
	}
	#endif
	#ifdef __COMPILE_263
	else if (__choose3 == 107)
	{
	//AddStmtKind
	_efree(((basic_globals.locale_string)));
	}
	#endif
	#ifdef __COMPILE_264
	else if (__choose3 == 108)
	{
	//AddStmtKind
	_zval_ptr_dtor((&(basic_globals.strtok_zval)));
	}
	#endif
	#ifdef __COMPILE_265
	else if (__choose3 == 109)
	{
	//AddStmtKind
	cmp_len = (uint)(len ? len : (((s2_len) > ((s1_len - offset))) ? (s2_len) : ((s1_len - offset))));
	}
	#endif
	#ifdef __COMPILE_266
	else if (__choose3 == 110)
	{
	//AddStmtKind
	exit(1);
	}
	#endif
	#ifdef __COMPILE_267
	else if (__choose3 == 111)
	{
	//AddStmtKind
	len = s1_len - offset;
	}
	#endif
	#ifdef __COMPILE_268
	else if (__choose3 == 112)
	{
	//AddStmtKind
	mblen(((void *)0), 0);
	}
	#endif
	#ifdef __COMPILE_269
	else if (__choose3 == 113)
	{
	//AddStmtKind
	offset = (offset < 0) ? 0 : offset;
	}
	#endif
	#ifdef __COMPILE_270
	else if (__choose3 == 114)
	{
	//AddStmtKind
	offset = s1_len + offset;
	}
	#endif
	#ifdef __COMPILE_271
	else if (__choose3 == 115)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 13L), "Passing locale category name as string is deprecated. Use the LC_* -constants instead");
	}
	#endif
	#ifdef __COMPILE_272
	else if (__choose3 == 116)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "'from' and 'len' should be of same type - numerical or array ");
	}
	#endif
	#ifdef __COMPILE_273
	else if (__choose3 == 117)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "'from' and 'len' should have the same number of elements");
	}
	#endif
	#ifdef __COMPILE_274
	else if (__choose3 == 118)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Argument must be an array");
	}
	#endif
	#ifdef __COMPILE_275
	else if (__choose3 == 119)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Break string cannot be empty");
	}
	#endif
	#ifdef __COMPILE_276
	else if (__choose3 == 120)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Can't force cut when width is zero");
	}
	#endif
	#ifdef __COMPILE_277
	else if (__choose3 == 121)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Chunk length should be greater than zero");
	}
	#endif
	#ifdef __COMPILE_278
	else if (__choose3 == 122)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Empty delimiter");
	}
	#endif
	#ifdef __COMPILE_279
	else if (__choose3 == 123)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Empty substring");
	}
	#endif
	#ifdef __COMPILE_280
	else if (__choose3 == 124)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Functionality of 'from' and 'len' as arrays is not implemented");
	}
	#endif
	#ifdef __COMPILE_281
	else if (__choose3 == 125)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid '..'-range");
	}
	#endif
	#ifdef __COMPILE_282
	else if (__choose3 == 126)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid '..'-range, '..'-range needs to be incrementing");
	}
	#endif
	#ifdef __COMPILE_283
	else if (__choose3 == 127)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid '..'-range, no character to the left of '..'");
	}
	#endif
	#ifdef __COMPILE_284
	else if (__choose3 == 128)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid '..'-range, no character to the right of '..'");
	}
	#endif
	#ifdef __COMPILE_285
	else if (__choose3 == 129)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid arguments passed");
	}
	#endif
	#ifdef __COMPILE_286
	else if (__choose3 == 130)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Length should be greater than 0");
	}
	#endif
	#ifdef __COMPILE_287
	else if (__choose3 == 131)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Offset is greater than the length of haystack string");
	}
	#endif
	#ifdef __COMPILE_288
	else if (__choose3 == 132)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Offset not contained in string");
	}
	#endif
	#ifdef __COMPILE_289
	else if (__choose3 == 133)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Offset should be greater than or equal to 0");
	}
	#endif
	#ifdef __COMPILE_290
	else if (__choose3 == 134)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Only a single %%i or %%n token can be used");
	}
	#endif
	#ifdef __COMPILE_291
	else if (__choose3 == 135)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Padding length is too long");
	}
	#endif
	#ifdef __COMPILE_292
	else if (__choose3 == 136)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Padding string cannot be empty");
	}
	#endif
	#ifdef __COMPILE_293
	else if (__choose3 == 137)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Padding type has to be STR_PAD_LEFT, STR_PAD_RIGHT, or STR_PAD_BOTH");
	}
	#endif
	#ifdef __COMPILE_294
	else if (__choose3 == 138)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Second argument has to be greater than or equal to 0");
	}
	#endif
	#ifdef __COMPILE_295
	else if (__choose3 == 139)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Specified locale name is too long");
	}
	#endif
	#ifdef __COMPILE_296
	else if (__choose3 == 140)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "The character list cannot be empty");
	}
	#endif
	#ifdef __COMPILE_297
	else if (__choose3 == 141)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "The length must be greater than zero");
	}
	#endif
	#ifdef __COMPILE_298
	else if (__choose3 == 142)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "The length of each segment must be greater than zero");
	}
	#endif
	#ifdef __COMPILE_299
	else if (__choose3 == 143)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "The second argument is not an array");
	}
	#endif
	#ifdef __COMPILE_300
	else if (__choose3 == 144)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "The start position cannot exceed initial string length");
	}
	#endif
	#ifdef __COMPILE_301
	else if (__choose3 == 145)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Unknown mode");
	}
	#endif
	#ifdef __COMPILE_302
	else if (__choose3 == 146)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "needle is not a string or an integer");
	}
	#endif
	#ifdef __COMPILE_303
	else if (__choose3 == 147)
	{
	//AddStmtKind
	zend_error((1 << 3L), "A non well formed numeric value encountered");
	}
	#endif
	#ifdef __COMPILE_304
	else if (__choose3 == 148)
	{
	//AddStmtKind
	zend_rebuild_symbol_table();
	}
	#endif
	#ifdef __COMPILE_305
	else if (__choose3 == 149)
	{
	//AddStmtKind
	zend_wrong_param_count();
	}
	#endif
	#ifdef __COMPILE_306
	else if (__choose3 == 150)
	{
	//IfExitKind
	if (__is_neg("3-150", "L5241", 10, &(ht), sizeof (ht), &(len),
				 sizeof (len), &(return_value), sizeof (return_value), &(s1), sizeof (s1), &(s2),
				 sizeof (s2), &(s1_len), sizeof (s1_len), &(s2_len), sizeof (s2_len), &(offset),
				 sizeof (offset), &(cs), sizeof (cs), &(cmp_len), sizeof (cmp_len)))
	    return;
	}
	#endif
	int __choose4 = __choose("__SWITCH4");
	{
	int __temp4=((ht) >= 4 && len <= 0) ;
	if (__choose4 == 0)
	{}
	#ifdef __COMPILE_307
	else if (__choose4 == 1)
	{
	__temp4= (__is_neg("4-1", "L5241", 10, &(ht), sizeof (ht), &(len), sizeof (len), &(return_value), sizeof (return_value), &(s1), sizeof (s1), &(s2), sizeof (s2), &(s1_len), sizeof (s1_len), &(s2_len), sizeof (s2_len), &(offset), sizeof (offset), &(cs), sizeof (cs), &(cmp_len), sizeof (cmp_len)));
	}
	#endif
	#ifdef __COMPILE_308
	else if (__choose4 == 2)
	{
	__temp4= ((((ht) >= 4) || __is_neg("4-2", "L5241", 10, &(ht), sizeof (ht), &(len), sizeof (len), &(return_value), sizeof (return_value), &(s1), sizeof (s1), &(s2), sizeof (s2), &(s1_len), sizeof (s1_len), &(s2_len), sizeof (s2_len), &(offset), sizeof (offset), &(cs), sizeof (cs), &(cmp_len), sizeof (cmp_len))) && len <= 0);
	}
	#endif
	#ifdef __COMPILE_309
	else if (__choose4 == 3)
	{
	__temp4= (((ht) >= 4 && len <= 0) || __is_neg("4-3", "L5241", 10, &(ht), sizeof (ht), &(len), sizeof (len), &(return_value), sizeof (return_value), &(s1), sizeof (s1), &(s2), sizeof (s2), &(s1_len), sizeof (s1_len), &(s2_len), sizeof (s2_len), &(offset), sizeof (offset), &(cs), sizeof (cs), &(cmp_len), sizeof (cmp_len)));
	}
	#endif
	#ifdef __COMPILE_310
	else if (__choose4 == 4)
	{
	__temp4= ((ht) >= 4);
	}
	#endif
	#ifdef __COMPILE_311
	else if (__choose4 == 5)
	{
	__temp4= (((ht) >= 4 && len <= 0) && !__is_neg("4-5", "L5241", 10, &(ht), sizeof (ht), &(len), sizeof (len), &(return_value), sizeof (return_value), &(s1), sizeof (s1), &(s2), sizeof (s2), &(s1_len), sizeof (s1_len), &(s2_len), sizeof (s2_len), &(offset), sizeof (offset), &(cs), sizeof (cs), &(cmp_len), sizeof (cmp_len)));
	}
	#endif
	int __choose5 = __choose("__SWITCH5");
	if (__choose5 == 0)
	{
	if (__temp4) {
			php_error_docref(NULL TSRMLS_CC, E_WARNING, "The length must be greater than zero");
			RETURN_FALSE;
		}
	
	}
	#ifdef __COMPILE_312
	else if (__choose5 == 1)
	{
	//GuardKind
	if (!__is_neg("5-1", "L5241", 10, &(ht), sizeof (ht), &(len), sizeof (len), &(return_value), sizeof (return_value), &(s1), sizeof (s1), &(s2), sizeof (s2), &(s1_len), sizeof (s1_len), &(s2_len), sizeof (s2_len), &(offset), sizeof (offset), &(cs), sizeof (cs), &(cmp_len), sizeof (cmp_len)))
	    if ((ht) >= 4 && len <= 0) {
	        php_error_docref0(((void *)0), (1 << 1L), "The length must be greater than zero");
	        {
	            do {
	                zval *__z = (return_value);
	                (*__z).value.lval = ((0) != 0);
	                (*__z).type = 3;
	            } while (0);
	            return;
	        }
	        ;
	    }
	
	}
	#endif
	#ifdef __COMPILE_313
	else if (__choose5 == 2)
	{
	//SpecialGuardKind
	if (!__is_neg("5-2", "L5241", 10, &(ht), sizeof (ht), &(len), sizeof (len), &(return_value), sizeof (return_value), &(s1), sizeof (s1), &(s2), sizeof (s2), &(s1_len), sizeof (s1_len), &(s2_len), sizeof (s2_len), &(offset), sizeof (offset), &(cs), sizeof (cs), &(cmp_len), sizeof (cmp_len)) && ((ht) >= 4 && len <= 0)) {
	    php_error_docref0(((void *)0), (1 << 1L), "The length must be greater than zero");
	    {
	        do {
	            zval *__z = (return_value);
	            (*__z).value.lval = ((0) != 0);
	            (*__z).type = 3;
	        } while (0);
	        return;
	    }
	    ;
	}
	
	}
	#endif
	}
	}

	//prophet generated patch
	{
	int __choose6 = __choose("__SWITCH6");
	if (__choose6 == 0)
	{}
	#ifdef __COMPILE_314
	else if (__choose6 == 1)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.locale_string) = (s1);
	}
	#endif
	#ifdef __COMPILE_315
	else if (__choose6 == 2)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.locale_string) = (s2);
	}
	#endif
	#ifdef __COMPILE_316
	else if (__choose6 == 3)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.locale_string) = _estrdup(((s1)));
	}
	#endif
	#ifdef __COMPILE_317
	else if (__choose6 == 4)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.locale_string) = _estrdup(((s2)));
	}
	#endif
	#ifdef __COMPILE_318
	else if (__choose6 == 5)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_last) = (*(return_value)).value.str.val;
	}
	#endif
	#ifdef __COMPILE_319
	else if (__choose6 == 6)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_last) = (*(this_ptr)).value.str.val;
	}
	#endif
	#ifdef __COMPILE_320
	else if (__choose6 == 7)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_last) = (s1) + 1;
	}
	#endif
	#ifdef __COMPILE_321
	else if (__choose6 == 8)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_last) = (s1);
	}
	#endif
	#ifdef __COMPILE_322
	else if (__choose6 == 9)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_last) = (s2) + 1;
	}
	#endif
	#ifdef __COMPILE_323
	else if (__choose6 == 10)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_last) = (s2);
	}
	#endif
	#ifdef __COMPILE_324
	else if (__choose6 == 11)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_len) = (-1);
	}
	#endif
	#ifdef __COMPILE_325
	else if (__choose6 == 12)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_len) = (0);
	}
	#endif
	#ifdef __COMPILE_326
	else if (__choose6 == 13)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_len) = (1);
	}
	#endif
	#ifdef __COMPILE_327
	else if (__choose6 == 14)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_len) = (2);
	}
	#endif
	#ifdef __COMPILE_328
	else if (__choose6 == 15)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_len) = (3);
	}
	#endif
	#ifdef __COMPILE_329
	else if (__choose6 == 16)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_len) = (4);
	}
	#endif
	#ifdef __COMPILE_330
	else if (__choose6 == 17)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_string) = (*(return_value)).value.str.val;
	}
	#endif
	#ifdef __COMPILE_331
	else if (__choose6 == 18)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_string) = (*(this_ptr)).value.str.val;
	}
	#endif
	#ifdef __COMPILE_332
	else if (__choose6 == 19)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_string) = (s1);
	}
	#endif
	#ifdef __COMPILE_333
	else if (__choose6 == 20)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_string) = (s2);
	}
	#endif
	#ifdef __COMPILE_334
	else if (__choose6 == 21)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_zval) = (return_value);
	}
	#endif
	#ifdef __COMPILE_335
	else if (__choose6 == 22)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_zval) = (this_ptr);
	}
	#endif
	#ifdef __COMPILE_336
	else if (__choose6 == 23)
	{
	//AddStmtAndReplaceAtomKind
	(s1)++;
	}
	#endif
	#ifdef __COMPILE_337
	else if (__choose6 == 24)
	{
	//AddStmtAndReplaceAtomKind
	(s1)--;
	}
	#endif
	#ifdef __COMPILE_338
	else if (__choose6 == 25)
	{
	//AddStmtAndReplaceAtomKind
	(s2)++;
	}
	#endif
	#ifdef __COMPILE_339
	else if (__choose6 == 26)
	{
	//AddStmtAndReplaceAtomKind
	(s2)--;
	}
	#endif
	#ifdef __COMPILE_340
	else if (__choose6 == 27)
	{
	//AddStmtAndReplaceAtomKind
	_array_init(((return_value)), 0);
	}
	#endif
	#ifdef __COMPILE_341
	else if (__choose6 == 28)
	{
	//AddStmtAndReplaceAtomKind
	_array_init(((this_ptr)), 0);
	}
	#endif
	#ifdef __COMPILE_342
	else if (__choose6 == 29)
	{
	//AddStmtAndReplaceAtomKind
	_convert_to_string((*(return_value_ptr)));
	}
	#endif
	#ifdef __COMPILE_343
	else if (__choose6 == 30)
	{
	//AddStmtAndReplaceAtomKind
	_efree(((return_value)));
	}
	#endif
	#ifdef __COMPILE_344
	else if (__choose6 == 31)
	{
	//AddStmtAndReplaceAtomKind
	_efree(((s1)));
	}
	#endif
	#ifdef __COMPILE_345
	else if (__choose6 == 32)
	{
	//AddStmtAndReplaceAtomKind
	_efree(((s2)));
	}
	#endif
	#ifdef __COMPILE_346
	else if (__choose6 == 33)
	{
	//AddStmtAndReplaceAtomKind
	_efree(((this_ptr)));
	}
	#endif
	#ifdef __COMPILE_347
	else if (__choose6 == 34)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor((&(*(return_value))));
	}
	#endif
	#ifdef __COMPILE_348
	else if (__choose6 == 35)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor((&(*(this_ptr))));
	}
	#endif
	#ifdef __COMPILE_349
	else if (__choose6 == 36)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor((((return_value))));
	}
	#endif
	#ifdef __COMPILE_350
	else if (__choose6 == 37)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor((((this_ptr))));
	}
	#endif
	#ifdef __COMPILE_351
	else if (__choose6 == 38)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor(((return_value)));
	}
	#endif
	#ifdef __COMPILE_352
	else if (__choose6 == 39)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor(((this_ptr)));
	}
	#endif
	#ifdef __COMPILE_353
	else if (__choose6 == 40)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor_func((return_value));
	}
	#endif
	#ifdef __COMPILE_354
	else if (__choose6 == 41)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor_func((this_ptr));
	}
	#endif
	#ifdef __COMPILE_355
	else if (__choose6 == 42)
	{
	//AddStmtAndReplaceAtomKind
	_zval_dtor(((return_value)));
	}
	#endif
	#ifdef __COMPILE_356
	else if (__choose6 == 43)
	{
	//AddStmtAndReplaceAtomKind
	_zval_dtor(((this_ptr)));
	}
	#endif
	#ifdef __COMPILE_357
	else if (__choose6 == 44)
	{
	//AddStmtAndReplaceAtomKind
	_zval_dtor((*(return_value_ptr)));
	}
	#endif
	#ifdef __COMPILE_358
	else if (__choose6 == 45)
	{
	//AddStmtAndReplaceAtomKind
	_zval_dtor_func((return_value));
	}
	#endif
	#ifdef __COMPILE_359
	else if (__choose6 == 46)
	{
	//AddStmtAndReplaceAtomKind
	_zval_dtor_func((this_ptr));
	}
	#endif
	#ifdef __COMPILE_360
	else if (__choose6 == 47)
	{
	//AddStmtAndReplaceAtomKind
	_zval_ptr_dtor((&(return_value)));
	}
	#endif
	#ifdef __COMPILE_361
	else if (__choose6 == 48)
	{
	//AddStmtAndReplaceAtomKind
	_zval_ptr_dtor((&(this_ptr)));
	}
	#endif
	#ifdef __COMPILE_362
	else if (__choose6 == 49)
	{
	//AddStmtAndReplaceAtomKind
	_zval_ptr_dtor((&*(return_value_ptr)));
	}
	#endif
	#ifdef __COMPILE_363
	else if (__choose6 == 50)
	{
	//AddStmtAndReplaceAtomKind
	add_next_index_stringl((return_value), "", sizeof ("") - 1, 1);
	}
	#endif
	#ifdef __COMPILE_364
	else if (__choose6 == 51)
	{
	//AddStmtAndReplaceAtomKind
	add_next_index_stringl((this_ptr), "", sizeof ("") - 1, 1);
	}
	#endif
	#ifdef __COMPILE_365
	else if (__choose6 == 52)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (-1);
	}
	#endif
	#ifdef __COMPILE_366
	else if (__choose6 == 53)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (0);
	}
	#endif
	#ifdef __COMPILE_367
	else if (__choose6 == 54)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (1);
	}
	#endif
	#ifdef __COMPILE_368
	else if (__choose6 == 55)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (2);
	}
	#endif
	#ifdef __COMPILE_369
	else if (__choose6 == 56)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (3);
	}
	#endif
	#ifdef __COMPILE_370
	else if (__choose6 == 57)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (4);
	}
	#endif
	#ifdef __COMPILE_371
	else if (__choose6 == 58)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (cmp_len);
	}
	#endif
	#ifdef __COMPILE_372
	else if (__choose6 == 59)
	{
	//AddStmtAndReplaceAtomKind
	convert_to_boolean((return_value));
	}
	#endif
	#ifdef __COMPILE_373
	else if (__choose6 == 60)
	{
	//AddStmtAndReplaceAtomKind
	convert_to_boolean((this_ptr));
	}
	#endif
	#ifdef __COMPILE_374
	else if (__choose6 == 61)
	{
	//AddStmtAndReplaceAtomKind
	convert_to_double(*(return_value_ptr));
	}
	#endif
	#ifdef __COMPILE_375
	else if (__choose6 == 62)
	{
	//AddStmtAndReplaceAtomKind
	convert_to_long(*(return_value_ptr));
	}
	#endif
	#ifdef __COMPILE_376
	else if (__choose6 == 63)
	{
	//AddStmtAndReplaceAtomKind
	gc_remove_zval_from_buffer((return_value));
	}
	#endif
	#ifdef __COMPILE_377
	else if (__choose6 == 64)
	{
	//AddStmtAndReplaceAtomKind
	gc_remove_zval_from_buffer((this_ptr));
	}
	#endif
	#ifdef __COMPILE_378
	else if (__choose6 == 65)
	{
	//AddStmtAndReplaceAtomKind
	gc_zval_check_possible_root(((return_value)));
	}
	#endif
	#ifdef __COMPILE_379
	else if (__choose6 == 66)
	{
	//AddStmtAndReplaceAtomKind
	gc_zval_check_possible_root(((this_ptr)));
	}
	#endif
	#ifdef __COMPILE_380
	else if (__choose6 == 67)
	{
	//AddStmtAndReplaceAtomKind
	gc_zval_possible_root((return_value));
	}
	#endif
	#ifdef __COMPILE_381
	else if (__choose6 == 68)
	{
	//AddStmtAndReplaceAtomKind
	gc_zval_possible_root((this_ptr));
	}
	#endif
	#ifdef __COMPILE_382
	else if (__choose6 == 69)
	{
	//AddStmtAndReplaceAtomKind
	i_zval_ptr_dtor((return_value));
	}
	#endif
	#ifdef __COMPILE_383
	else if (__choose6 == 70)
	{
	//AddStmtAndReplaceAtomKind
	i_zval_ptr_dtor((this_ptr));
	}
	#endif
	#ifdef __COMPILE_384
	else if (__choose6 == 71)
	{
	//AddStmtAndReplaceAtomKind
	len = (-1);
	}
	#endif
	#ifdef __COMPILE_385
	else if (__choose6 == 72)
	{
	//AddStmtAndReplaceAtomKind
	len = (0);
	}
	#endif
	#ifdef __COMPILE_386
	else if (__choose6 == 73)
	{
	//AddStmtAndReplaceAtomKind
	len = (1);
	}
	#endif
	#ifdef __COMPILE_387
	else if (__choose6 == 74)
	{
	//AddStmtAndReplaceAtomKind
	len = (2);
	}
	#endif
	#ifdef __COMPILE_388
	else if (__choose6 == 75)
	{
	//AddStmtAndReplaceAtomKind
	len = (3);
	}
	#endif
	#ifdef __COMPILE_389
	else if (__choose6 == 76)
	{
	//AddStmtAndReplaceAtomKind
	len = (4);
	}
	#endif
	#ifdef __COMPILE_390
	else if (__choose6 == 77)
	{
	//AddStmtAndReplaceAtomKind
	len = (len);
	}
	#endif
	#ifdef __COMPILE_391
	else if (__choose6 == 78)
	{
	//AddStmtAndReplaceAtomKind
	len = (offset);
	}
	#endif
	#ifdef __COMPILE_392
	else if (__choose6 == 79)
	{
	//AddStmtAndReplaceAtomKind
	memset((s1), 0, 256);
	}
	#endif
	#ifdef __COMPILE_393
	else if (__choose6 == 80)
	{
	//AddStmtAndReplaceAtomKind
	memset((s2), 0, 256);
	}
	#endif
	#ifdef __COMPILE_394
	else if (__choose6 == 81)
	{
	//AddStmtAndReplaceAtomKind
	offset = (-1);
	}
	#endif
	#ifdef __COMPILE_395
	else if (__choose6 == 82)
	{
	//AddStmtAndReplaceAtomKind
	offset = (0);
	}
	#endif
	#ifdef __COMPILE_396
	else if (__choose6 == 83)
	{
	//AddStmtAndReplaceAtomKind
	offset = (1);
	}
	#endif
	#ifdef __COMPILE_397
	else if (__choose6 == 84)
	{
	//AddStmtAndReplaceAtomKind
	offset = (2);
	}
	#endif
	#ifdef __COMPILE_398
	else if (__choose6 == 85)
	{
	//AddStmtAndReplaceAtomKind
	offset = (3);
	}
	#endif
	#ifdef __COMPILE_399
	else if (__choose6 == 86)
	{
	//AddStmtAndReplaceAtomKind
	offset = (4);
	}
	#endif
	#ifdef __COMPILE_400
	else if (__choose6 == 87)
	{
	//AddStmtAndReplaceAtomKind
	offset = (len);
	}
	#endif
	#ifdef __COMPILE_401
	else if (__choose6 == 88)
	{
	//AddStmtAndReplaceAtomKind
	offset = (offset);
	}
	#endif
	#ifdef __COMPILE_402
	else if (__choose6 == 89)
	{
	//AddStmtAndReplaceAtomKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid locale category name %s, must be one of LC_ALL, LC_COLLATE, LC_CTYPE, LC_MONETARY, LC_NUMERIC, or LC_TIME", (s1));
	}
	#endif
	#ifdef __COMPILE_403
	else if (__choose6 == 90)
	{
	//AddStmtAndReplaceAtomKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid locale category name %s, must be one of LC_ALL, LC_COLLATE, LC_CTYPE, LC_MONETARY, LC_NUMERIC, or LC_TIME", (s2));
	}
	#endif
	#ifdef __COMPILE_404
	else if (__choose6 == 91)
	{
	//AddStmtAndReplaceAtomKind
	php_lcfirst((*(return_value)).value.str.val);
	}
	#endif
	#ifdef __COMPILE_405
	else if (__choose6 == 92)
	{
	//AddStmtAndReplaceAtomKind
	php_lcfirst((*(this_ptr)).value.str.val);
	}
	#endif
	#ifdef __COMPILE_406
	else if (__choose6 == 93)
	{
	//AddStmtAndReplaceAtomKind
	php_ucfirst((*(return_value)).value.str.val);
	}
	#endif
	#ifdef __COMPILE_407
	else if (__choose6 == 94)
	{
	//AddStmtAndReplaceAtomKind
	php_ucfirst((*(this_ptr)).value.str.val);
	}
	#endif
	#ifdef __COMPILE_408
	else if (__choose6 == 95)
	{
	//AddStmtAndReplaceAtomKind
	zend_hash_internal_pointer_reset_ex((*(return_value)).value.ht, ((void *)0));
	}
	#endif
	#ifdef __COMPILE_409
	else if (__choose6 == 96)
	{
	//AddStmtAndReplaceAtomKind
	zend_hash_internal_pointer_reset_ex((*(this_ptr)).value.ht, ((void *)0));
	}
	#endif
	#ifdef __COMPILE_410
	else if (__choose6 == 97)
	{
	//AddStmtAndReplaceAtomKind
	zend_hash_internal_pointer_reset_ex((**(return_value_ptr)).value.ht, ((void *)0));
	}
	#endif
	#ifdef __COMPILE_411
	else if (__choose6 == 98)
	{
	//AddStmtAndReplaceAtomKind
	zend_hash_move_forward_ex((*(return_value)).value.ht, ((void *)0));
	}
	#endif
	#ifdef __COMPILE_412
	else if (__choose6 == 99)
	{
	//AddStmtAndReplaceAtomKind
	zend_hash_move_forward_ex((*(this_ptr)).value.ht, ((void *)0));
	}
	#endif
	#ifdef __COMPILE_413
	else if (__choose6 == 100)
	{
	//AddStmtAndReplaceAtomKind
	zend_hash_move_forward_ex((**(return_value_ptr)).value.ht, ((void *)0));
	}
	#endif
	#ifdef __COMPILE_414
	else if (__choose6 == 101)
	{
	//AddStmtAndReplaceAtomKind
	zval_addref_p(*(return_value_ptr));
	}
	#endif
	#ifdef __COMPILE_415
	else if (__choose6 == 102)
	{
	//AddStmtAndReplaceAtomKind
	zval_delref_p((*(return_value_ptr)));
	}
	#endif
	#ifdef __COMPILE_416
	else if (__choose6 == 103)
	{
	//AddStmtAndReplaceAtomKind
	zval_unset_isref_p((return_value));
	}
	#endif
	#ifdef __COMPILE_417
	else if (__choose6 == 104)
	{
	//AddStmtAndReplaceAtomKind
	zval_unset_isref_p((this_ptr));
	}
	#endif
	#ifdef __COMPILE_418
	else if (__choose6 == 105)
	{
	//AddStmtKind
	(basic_globals.strtok_last) = ((void *)0);
	}
	#endif
	#ifdef __COMPILE_419
	else if (__choose6 == 106)
	{
	//AddStmtKind
	(executor_globals.argument_stack) = zend_vm_stack_new_page(((16 * 1024) - 16));
	}
	#endif
	#ifdef __COMPILE_420
	else if (__choose6 == 107)
	{
	//AddStmtKind
	_efree(((basic_globals.locale_string)));
	}
	#endif
	#ifdef __COMPILE_421
	else if (__choose6 == 108)
	{
	//AddStmtKind
	_zval_ptr_dtor((&(basic_globals.strtok_zval)));
	}
	#endif
	#ifdef __COMPILE_422
	else if (__choose6 == 109)
	{
	//AddStmtKind
	cmp_len = (uint)(len ? len : (((s2_len) > ((s1_len - offset))) ? (s2_len) : ((s1_len - offset))));
	}
	#endif
	#ifdef __COMPILE_423
	else if (__choose6 == 110)
	{
	//AddStmtKind
	exit(1);
	}
	#endif
	#ifdef __COMPILE_424
	else if (__choose6 == 111)
	{
	//AddStmtKind
	len = s1_len - offset;
	}
	#endif
	#ifdef __COMPILE_425
	else if (__choose6 == 112)
	{
	//AddStmtKind
	mblen(((void *)0), 0);
	}
	#endif
	#ifdef __COMPILE_426
	else if (__choose6 == 113)
	{
	//AddStmtKind
	offset = (offset < 0) ? 0 : offset;
	}
	#endif
	#ifdef __COMPILE_427
	else if (__choose6 == 114)
	{
	//AddStmtKind
	offset = s1_len + offset;
	}
	#endif
	#ifdef __COMPILE_428
	else if (__choose6 == 115)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 13L), "Passing locale category name as string is deprecated. Use the LC_* -constants instead");
	}
	#endif
	#ifdef __COMPILE_429
	else if (__choose6 == 116)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "'from' and 'len' should be of same type - numerical or array ");
	}
	#endif
	#ifdef __COMPILE_430
	else if (__choose6 == 117)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "'from' and 'len' should have the same number of elements");
	}
	#endif
	#ifdef __COMPILE_431
	else if (__choose6 == 118)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Argument must be an array");
	}
	#endif
	#ifdef __COMPILE_432
	else if (__choose6 == 119)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Break string cannot be empty");
	}
	#endif
	#ifdef __COMPILE_433
	else if (__choose6 == 120)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Can't force cut when width is zero");
	}
	#endif
	#ifdef __COMPILE_434
	else if (__choose6 == 121)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Chunk length should be greater than zero");
	}
	#endif
	#ifdef __COMPILE_435
	else if (__choose6 == 122)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Empty delimiter");
	}
	#endif
	#ifdef __COMPILE_436
	else if (__choose6 == 123)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Empty substring");
	}
	#endif
	#ifdef __COMPILE_437
	else if (__choose6 == 124)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Functionality of 'from' and 'len' as arrays is not implemented");
	}
	#endif
	#ifdef __COMPILE_438
	else if (__choose6 == 125)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid '..'-range");
	}
	#endif
	#ifdef __COMPILE_439
	else if (__choose6 == 126)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid '..'-range, '..'-range needs to be incrementing");
	}
	#endif
	#ifdef __COMPILE_440
	else if (__choose6 == 127)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid '..'-range, no character to the left of '..'");
	}
	#endif
	#ifdef __COMPILE_441
	else if (__choose6 == 128)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid '..'-range, no character to the right of '..'");
	}
	#endif
	#ifdef __COMPILE_442
	else if (__choose6 == 129)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid arguments passed");
	}
	#endif
	#ifdef __COMPILE_443
	else if (__choose6 == 130)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Length should be greater than 0");
	}
	#endif
	#ifdef __COMPILE_444
	else if (__choose6 == 131)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Offset is greater than the length of haystack string");
	}
	#endif
	#ifdef __COMPILE_445
	else if (__choose6 == 132)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Offset not contained in string");
	}
	#endif
	#ifdef __COMPILE_446
	else if (__choose6 == 133)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Offset should be greater than or equal to 0");
	}
	#endif
	#ifdef __COMPILE_447
	else if (__choose6 == 134)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Only a single %%i or %%n token can be used");
	}
	#endif
	#ifdef __COMPILE_448
	else if (__choose6 == 135)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Padding length is too long");
	}
	#endif
	#ifdef __COMPILE_449
	else if (__choose6 == 136)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Padding string cannot be empty");
	}
	#endif
	#ifdef __COMPILE_450
	else if (__choose6 == 137)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Padding type has to be STR_PAD_LEFT, STR_PAD_RIGHT, or STR_PAD_BOTH");
	}
	#endif
	#ifdef __COMPILE_451
	else if (__choose6 == 138)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Second argument has to be greater than or equal to 0");
	}
	#endif
	#ifdef __COMPILE_452
	else if (__choose6 == 139)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Specified locale name is too long");
	}
	#endif
	#ifdef __COMPILE_453
	else if (__choose6 == 140)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "The character list cannot be empty");
	}
	#endif
	#ifdef __COMPILE_454
	else if (__choose6 == 141)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "The length must be greater than zero");
	}
	#endif
	#ifdef __COMPILE_455
	else if (__choose6 == 142)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "The length of each segment must be greater than zero");
	}
	#endif
	#ifdef __COMPILE_456
	else if (__choose6 == 143)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "The second argument is not an array");
	}
	#endif
	#ifdef __COMPILE_457
	else if (__choose6 == 144)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "The start position cannot exceed initial string length");
	}
	#endif
	#ifdef __COMPILE_458
	else if (__choose6 == 145)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Unknown mode");
	}
	#endif
	#ifdef __COMPILE_459
	else if (__choose6 == 146)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "needle is not a string or an integer");
	}
	#endif
	#ifdef __COMPILE_460
	else if (__choose6 == 147)
	{
	//AddStmtKind
	zend_error((1 << 3L), "A non well formed numeric value encountered");
	}
	#endif
	#ifdef __COMPILE_461
	else if (__choose6 == 148)
	{
	//AddStmtKind
	zend_rebuild_symbol_table();
	}
	#endif
	#ifdef __COMPILE_462
	else if (__choose6 == 149)
	{
	//AddStmtKind
	zend_wrong_param_count();
	}
	#endif
	#ifdef __COMPILE_463
	else if (__choose6 == 150)
	{
	//IfExitKind
	if (__is_neg("6-150", "L5246", 10, &(offset), sizeof (offset), &(s1_len),
				 sizeof (s1_len), &(return_value), sizeof (return_value), &(ht), sizeof (ht), &(len),
				 sizeof (len), &(s1), sizeof (s1), &(s2), sizeof (s2), &(s2_len),
				 sizeof (s2_len), &(cs), sizeof (cs), &(cmp_len), sizeof (cmp_len)))
	    return;
	}
	#endif
	int __choose7 = __choose("__SWITCH7");
	{
	int __temp7=(offset < 0) ;
	if (__choose7 == 0)
	{}
	#ifdef __COMPILE_464
	else if (__choose7 == 1)
	{
	__temp7= (__is_neg("7-1", "L5246", 10, &(offset), sizeof (offset), &(s1_len), sizeof (s1_len), &(return_value), sizeof (return_value), &(ht), sizeof (ht), &(len), sizeof (len), &(s1), sizeof (s1), &(s2), sizeof (s2), &(s2_len), sizeof (s2_len), &(cs), sizeof (cs), &(cmp_len), sizeof (cmp_len)));
	}
	#endif
	#ifdef __COMPILE_465
	else if (__choose7 == 2)
	{
	__temp7= ((offset < 0) || __is_neg("7-2", "L5246", 10, &(offset), sizeof (offset), &(s1_len), sizeof (s1_len), &(return_value), sizeof (return_value), &(ht), sizeof (ht), &(len), sizeof (len), &(s1), sizeof (s1), &(s2), sizeof (s2), &(s2_len), sizeof (s2_len), &(cs), sizeof (cs), &(cmp_len), sizeof (cmp_len)));
	}
	#endif
	#ifdef __COMPILE_466
	else if (__choose7 == 3)
	{
	__temp7= ((offset < 0) && !__is_neg("7-3", "L5246", 10, &(offset), sizeof (offset), &(s1_len), sizeof (s1_len), &(return_value), sizeof (return_value), &(ht), sizeof (ht), &(len), sizeof (len), &(s1), sizeof (s1), &(s2), sizeof (s2), &(s2_len), sizeof (s2_len), &(cs), sizeof (cs), &(cmp_len), sizeof (cmp_len)));
	}
	#endif
	int __choose8 = __choose("__SWITCH8");
	if (__choose8 == 0)
	{
	if (__temp7) {
			offset = s1_len + offset;
			offset = (offset < 0) ? 0 : offset;
		}
	
	}
	#ifdef __COMPILE_467
	else if (__choose8 == 1)
	{
	//GuardKind
	if (!__is_neg("8-1", "L5246", 10, &(offset), sizeof (offset), &(s1_len), sizeof (s1_len), &(return_value), sizeof (return_value), &(ht), sizeof (ht), &(len), sizeof (len), &(s1), sizeof (s1), &(s2), sizeof (s2), &(s2_len), sizeof (s2_len), &(cs), sizeof (cs), &(cmp_len), sizeof (cmp_len)))
	    if (offset < 0) {
	        offset = s1_len + offset;
	        offset = (offset < 0) ? 0 : offset;
	    }
	
	}
	#endif
	}
	}

	//prophet generated patch
	{
	int __choose9 = __choose("__SWITCH9");
	if (__choose9 == 0)
	{}
	#ifdef __COMPILE_468
	else if (__choose9 == 1)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.locale_string) = (s1);
	}
	#endif
	#ifdef __COMPILE_469
	else if (__choose9 == 2)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.locale_string) = (s2);
	}
	#endif
	#ifdef __COMPILE_470
	else if (__choose9 == 3)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.locale_string) = _estrdup(((s1)));
	}
	#endif
	#ifdef __COMPILE_471
	else if (__choose9 == 4)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.locale_string) = _estrdup(((s2)));
	}
	#endif
	#ifdef __COMPILE_472
	else if (__choose9 == 5)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_last) = (*(return_value)).value.str.val;
	}
	#endif
	#ifdef __COMPILE_473
	else if (__choose9 == 6)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_last) = (*(this_ptr)).value.str.val;
	}
	#endif
	#ifdef __COMPILE_474
	else if (__choose9 == 7)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_last) = (s1) + 1;
	}
	#endif
	#ifdef __COMPILE_475
	else if (__choose9 == 8)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_last) = (s1);
	}
	#endif
	#ifdef __COMPILE_476
	else if (__choose9 == 9)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_last) = (s2) + 1;
	}
	#endif
	#ifdef __COMPILE_477
	else if (__choose9 == 10)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_last) = (s2);
	}
	#endif
	#ifdef __COMPILE_478
	else if (__choose9 == 11)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_len) = (-1);
	}
	#endif
	#ifdef __COMPILE_479
	else if (__choose9 == 12)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_len) = (0);
	}
	#endif
	#ifdef __COMPILE_480
	else if (__choose9 == 13)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_len) = (1);
	}
	#endif
	#ifdef __COMPILE_481
	else if (__choose9 == 14)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_len) = (2);
	}
	#endif
	#ifdef __COMPILE_482
	else if (__choose9 == 15)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_len) = (3);
	}
	#endif
	#ifdef __COMPILE_483
	else if (__choose9 == 16)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_len) = (4);
	}
	#endif
	#ifdef __COMPILE_484
	else if (__choose9 == 17)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_string) = (*(return_value)).value.str.val;
	}
	#endif
	#ifdef __COMPILE_485
	else if (__choose9 == 18)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_string) = (*(this_ptr)).value.str.val;
	}
	#endif
	#ifdef __COMPILE_486
	else if (__choose9 == 19)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_string) = (s1);
	}
	#endif
	#ifdef __COMPILE_487
	else if (__choose9 == 20)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_string) = (s2);
	}
	#endif
	#ifdef __COMPILE_488
	else if (__choose9 == 21)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_zval) = (return_value);
	}
	#endif
	#ifdef __COMPILE_489
	else if (__choose9 == 22)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_zval) = (this_ptr);
	}
	#endif
	#ifdef __COMPILE_490
	else if (__choose9 == 23)
	{
	//AddStmtAndReplaceAtomKind
	(s1)++;
	}
	#endif
	#ifdef __COMPILE_491
	else if (__choose9 == 24)
	{
	//AddStmtAndReplaceAtomKind
	(s1)--;
	}
	#endif
	#ifdef __COMPILE_492
	else if (__choose9 == 25)
	{
	//AddStmtAndReplaceAtomKind
	(s2)++;
	}
	#endif
	#ifdef __COMPILE_493
	else if (__choose9 == 26)
	{
	//AddStmtAndReplaceAtomKind
	(s2)--;
	}
	#endif
	#ifdef __COMPILE_494
	else if (__choose9 == 27)
	{
	//AddStmtAndReplaceAtomKind
	_array_init(((return_value)), 0);
	}
	#endif
	#ifdef __COMPILE_495
	else if (__choose9 == 28)
	{
	//AddStmtAndReplaceAtomKind
	_array_init(((this_ptr)), 0);
	}
	#endif
	#ifdef __COMPILE_496
	else if (__choose9 == 29)
	{
	//AddStmtAndReplaceAtomKind
	_convert_to_string((*(return_value_ptr)));
	}
	#endif
	#ifdef __COMPILE_497
	else if (__choose9 == 30)
	{
	//AddStmtAndReplaceAtomKind
	_efree(((return_value)));
	}
	#endif
	#ifdef __COMPILE_498
	else if (__choose9 == 31)
	{
	//AddStmtAndReplaceAtomKind
	_efree(((s1)));
	}
	#endif
	#ifdef __COMPILE_499
	else if (__choose9 == 32)
	{
	//AddStmtAndReplaceAtomKind
	_efree(((s2)));
	}
	#endif
	#ifdef __COMPILE_500
	else if (__choose9 == 33)
	{
	//AddStmtAndReplaceAtomKind
	_efree(((this_ptr)));
	}
	#endif
	#ifdef __COMPILE_501
	else if (__choose9 == 34)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor((&(*(return_value))));
	}
	#endif
	#ifdef __COMPILE_502
	else if (__choose9 == 35)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor((&(*(this_ptr))));
	}
	#endif
	#ifdef __COMPILE_503
	else if (__choose9 == 36)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor((((return_value))));
	}
	#endif
	#ifdef __COMPILE_504
	else if (__choose9 == 37)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor((((this_ptr))));
	}
	#endif
	#ifdef __COMPILE_505
	else if (__choose9 == 38)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor(((return_value)));
	}
	#endif
	#ifdef __COMPILE_506
	else if (__choose9 == 39)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor(((this_ptr)));
	}
	#endif
	#ifdef __COMPILE_507
	else if (__choose9 == 40)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor_func((return_value));
	}
	#endif
	#ifdef __COMPILE_508
	else if (__choose9 == 41)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor_func((this_ptr));
	}
	#endif
	#ifdef __COMPILE_509
	else if (__choose9 == 42)
	{
	//AddStmtAndReplaceAtomKind
	_zval_dtor(((return_value)));
	}
	#endif
	#ifdef __COMPILE_510
	else if (__choose9 == 43)
	{
	//AddStmtAndReplaceAtomKind
	_zval_dtor(((this_ptr)));
	}
	#endif
	#ifdef __COMPILE_511
	else if (__choose9 == 44)
	{
	//AddStmtAndReplaceAtomKind
	_zval_dtor((*(return_value_ptr)));
	}
	#endif
	#ifdef __COMPILE_512
	else if (__choose9 == 45)
	{
	//AddStmtAndReplaceAtomKind
	_zval_dtor_func((return_value));
	}
	#endif
	#ifdef __COMPILE_513
	else if (__choose9 == 46)
	{
	//AddStmtAndReplaceAtomKind
	_zval_dtor_func((this_ptr));
	}
	#endif
	#ifdef __COMPILE_514
	else if (__choose9 == 47)
	{
	//AddStmtAndReplaceAtomKind
	_zval_ptr_dtor((&(return_value)));
	}
	#endif
	#ifdef __COMPILE_515
	else if (__choose9 == 48)
	{
	//AddStmtAndReplaceAtomKind
	_zval_ptr_dtor((&(this_ptr)));
	}
	#endif
	#ifdef __COMPILE_516
	else if (__choose9 == 49)
	{
	//AddStmtAndReplaceAtomKind
	_zval_ptr_dtor((&*(return_value_ptr)));
	}
	#endif
	#ifdef __COMPILE_517
	else if (__choose9 == 50)
	{
	//AddStmtAndReplaceAtomKind
	add_next_index_stringl((return_value), "", sizeof ("") - 1, 1);
	}
	#endif
	#ifdef __COMPILE_518
	else if (__choose9 == 51)
	{
	//AddStmtAndReplaceAtomKind
	add_next_index_stringl((this_ptr), "", sizeof ("") - 1, 1);
	}
	#endif
	#ifdef __COMPILE_519
	else if (__choose9 == 52)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (-1);
	}
	#endif
	#ifdef __COMPILE_520
	else if (__choose9 == 53)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (0);
	}
	#endif
	#ifdef __COMPILE_521
	else if (__choose9 == 54)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (1);
	}
	#endif
	#ifdef __COMPILE_522
	else if (__choose9 == 55)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (2);
	}
	#endif
	#ifdef __COMPILE_523
	else if (__choose9 == 56)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (3);
	}
	#endif
	#ifdef __COMPILE_524
	else if (__choose9 == 57)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (4);
	}
	#endif
	#ifdef __COMPILE_525
	else if (__choose9 == 58)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (cmp_len);
	}
	#endif
	#ifdef __COMPILE_526
	else if (__choose9 == 59)
	{
	//AddStmtAndReplaceAtomKind
	convert_to_boolean((return_value));
	}
	#endif
	#ifdef __COMPILE_527
	else if (__choose9 == 60)
	{
	//AddStmtAndReplaceAtomKind
	convert_to_boolean((this_ptr));
	}
	#endif
	#ifdef __COMPILE_528
	else if (__choose9 == 61)
	{
	//AddStmtAndReplaceAtomKind
	convert_to_double(*(return_value_ptr));
	}
	#endif
	#ifdef __COMPILE_529
	else if (__choose9 == 62)
	{
	//AddStmtAndReplaceAtomKind
	convert_to_long(*(return_value_ptr));
	}
	#endif
	#ifdef __COMPILE_530
	else if (__choose9 == 63)
	{
	//AddStmtAndReplaceAtomKind
	gc_remove_zval_from_buffer((return_value));
	}
	#endif
	#ifdef __COMPILE_531
	else if (__choose9 == 64)
	{
	//AddStmtAndReplaceAtomKind
	gc_remove_zval_from_buffer((this_ptr));
	}
	#endif
	#ifdef __COMPILE_532
	else if (__choose9 == 65)
	{
	//AddStmtAndReplaceAtomKind
	gc_zval_check_possible_root(((return_value)));
	}
	#endif
	#ifdef __COMPILE_533
	else if (__choose9 == 66)
	{
	//AddStmtAndReplaceAtomKind
	gc_zval_check_possible_root(((this_ptr)));
	}
	#endif
	#ifdef __COMPILE_534
	else if (__choose9 == 67)
	{
	//AddStmtAndReplaceAtomKind
	gc_zval_possible_root((return_value));
	}
	#endif
	#ifdef __COMPILE_535
	else if (__choose9 == 68)
	{
	//AddStmtAndReplaceAtomKind
	gc_zval_possible_root((this_ptr));
	}
	#endif
	#ifdef __COMPILE_536
	else if (__choose9 == 69)
	{
	//AddStmtAndReplaceAtomKind
	i_zval_ptr_dtor((return_value));
	}
	#endif
	#ifdef __COMPILE_537
	else if (__choose9 == 70)
	{
	//AddStmtAndReplaceAtomKind
	i_zval_ptr_dtor((this_ptr));
	}
	#endif
	#ifdef __COMPILE_538
	else if (__choose9 == 71)
	{
	//AddStmtAndReplaceAtomKind
	len = (-1);
	}
	#endif
	#ifdef __COMPILE_539
	else if (__choose9 == 72)
	{
	//AddStmtAndReplaceAtomKind
	len = (0);
	}
	#endif
	#ifdef __COMPILE_540
	else if (__choose9 == 73)
	{
	//AddStmtAndReplaceAtomKind
	len = (1);
	}
	#endif
	#ifdef __COMPILE_541
	else if (__choose9 == 74)
	{
	//AddStmtAndReplaceAtomKind
	len = (2);
	}
	#endif
	#ifdef __COMPILE_542
	else if (__choose9 == 75)
	{
	//AddStmtAndReplaceAtomKind
	len = (3);
	}
	#endif
	#ifdef __COMPILE_543
	else if (__choose9 == 76)
	{
	//AddStmtAndReplaceAtomKind
	len = (4);
	}
	#endif
	#ifdef __COMPILE_544
	else if (__choose9 == 77)
	{
	//AddStmtAndReplaceAtomKind
	len = (len);
	}
	#endif
	#ifdef __COMPILE_545
	else if (__choose9 == 78)
	{
	//AddStmtAndReplaceAtomKind
	len = (offset);
	}
	#endif
	#ifdef __COMPILE_546
	else if (__choose9 == 79)
	{
	//AddStmtAndReplaceAtomKind
	memset((s1), 0, 256);
	}
	#endif
	#ifdef __COMPILE_547
	else if (__choose9 == 80)
	{
	//AddStmtAndReplaceAtomKind
	memset((s2), 0, 256);
	}
	#endif
	#ifdef __COMPILE_548
	else if (__choose9 == 81)
	{
	//AddStmtAndReplaceAtomKind
	offset = (-1);
	}
	#endif
	#ifdef __COMPILE_549
	else if (__choose9 == 82)
	{
	//AddStmtAndReplaceAtomKind
	offset = (0);
	}
	#endif
	#ifdef __COMPILE_550
	else if (__choose9 == 83)
	{
	//AddStmtAndReplaceAtomKind
	offset = (1);
	}
	#endif
	#ifdef __COMPILE_551
	else if (__choose9 == 84)
	{
	//AddStmtAndReplaceAtomKind
	offset = (2);
	}
	#endif
	#ifdef __COMPILE_552
	else if (__choose9 == 85)
	{
	//AddStmtAndReplaceAtomKind
	offset = (3);
	}
	#endif
	#ifdef __COMPILE_553
	else if (__choose9 == 86)
	{
	//AddStmtAndReplaceAtomKind
	offset = (4);
	}
	#endif
	#ifdef __COMPILE_554
	else if (__choose9 == 87)
	{
	//AddStmtAndReplaceAtomKind
	offset = (len);
	}
	#endif
	#ifdef __COMPILE_555
	else if (__choose9 == 88)
	{
	//AddStmtAndReplaceAtomKind
	offset = (offset);
	}
	#endif
	#ifdef __COMPILE_556
	else if (__choose9 == 89)
	{
	//AddStmtAndReplaceAtomKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid locale category name %s, must be one of LC_ALL, LC_COLLATE, LC_CTYPE, LC_MONETARY, LC_NUMERIC, or LC_TIME", (s1));
	}
	#endif
	#ifdef __COMPILE_557
	else if (__choose9 == 90)
	{
	//AddStmtAndReplaceAtomKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid locale category name %s, must be one of LC_ALL, LC_COLLATE, LC_CTYPE, LC_MONETARY, LC_NUMERIC, or LC_TIME", (s2));
	}
	#endif
	#ifdef __COMPILE_558
	else if (__choose9 == 91)
	{
	//AddStmtAndReplaceAtomKind
	php_lcfirst((*(return_value)).value.str.val);
	}
	#endif
	#ifdef __COMPILE_559
	else if (__choose9 == 92)
	{
	//AddStmtAndReplaceAtomKind
	php_lcfirst((*(this_ptr)).value.str.val);
	}
	#endif
	#ifdef __COMPILE_560
	else if (__choose9 == 93)
	{
	//AddStmtAndReplaceAtomKind
	php_ucfirst((*(return_value)).value.str.val);
	}
	#endif
	#ifdef __COMPILE_561
	else if (__choose9 == 94)
	{
	//AddStmtAndReplaceAtomKind
	php_ucfirst((*(this_ptr)).value.str.val);
	}
	#endif
	#ifdef __COMPILE_562
	else if (__choose9 == 95)
	{
	//AddStmtAndReplaceAtomKind
	zend_hash_internal_pointer_reset_ex((*(return_value)).value.ht, ((void *)0));
	}
	#endif
	#ifdef __COMPILE_563
	else if (__choose9 == 96)
	{
	//AddStmtAndReplaceAtomKind
	zend_hash_internal_pointer_reset_ex((*(this_ptr)).value.ht, ((void *)0));
	}
	#endif
	#ifdef __COMPILE_564
	else if (__choose9 == 97)
	{
	//AddStmtAndReplaceAtomKind
	zend_hash_internal_pointer_reset_ex((**(return_value_ptr)).value.ht, ((void *)0));
	}
	#endif
	#ifdef __COMPILE_565
	else if (__choose9 == 98)
	{
	//AddStmtAndReplaceAtomKind
	zend_hash_move_forward_ex((*(return_value)).value.ht, ((void *)0));
	}
	#endif
	#ifdef __COMPILE_566
	else if (__choose9 == 99)
	{
	//AddStmtAndReplaceAtomKind
	zend_hash_move_forward_ex((*(this_ptr)).value.ht, ((void *)0));
	}
	#endif
	#ifdef __COMPILE_567
	else if (__choose9 == 100)
	{
	//AddStmtAndReplaceAtomKind
	zend_hash_move_forward_ex((**(return_value_ptr)).value.ht, ((void *)0));
	}
	#endif
	#ifdef __COMPILE_568
	else if (__choose9 == 101)
	{
	//AddStmtAndReplaceAtomKind
	zval_addref_p(*(return_value_ptr));
	}
	#endif
	#ifdef __COMPILE_569
	else if (__choose9 == 102)
	{
	//AddStmtAndReplaceAtomKind
	zval_delref_p((*(return_value_ptr)));
	}
	#endif
	#ifdef __COMPILE_570
	else if (__choose9 == 103)
	{
	//AddStmtAndReplaceAtomKind
	zval_unset_isref_p((return_value));
	}
	#endif
	#ifdef __COMPILE_571
	else if (__choose9 == 104)
	{
	//AddStmtAndReplaceAtomKind
	zval_unset_isref_p((this_ptr));
	}
	#endif
	#ifdef __COMPILE_572
	else if (__choose9 == 105)
	{
	//AddStmtKind
	(basic_globals.strtok_last) = ((void *)0);
	}
	#endif
	#ifdef __COMPILE_573
	else if (__choose9 == 106)
	{
	//AddStmtKind
	(executor_globals.argument_stack) = zend_vm_stack_new_page(((16 * 1024) - 16));
	}
	#endif
	#ifdef __COMPILE_574
	else if (__choose9 == 107)
	{
	//AddStmtKind
	_efree(((basic_globals.locale_string)));
	}
	#endif
	#ifdef __COMPILE_575
	else if (__choose9 == 108)
	{
	//AddStmtKind
	_zval_ptr_dtor((&(basic_globals.strtok_zval)));
	}
	#endif
	#ifdef __COMPILE_576
	else if (__choose9 == 109)
	{
	//AddStmtKind
	cmp_len = (uint)(len ? len : (((s2_len) > ((s1_len - offset))) ? (s2_len) : ((s1_len - offset))));
	}
	#endif
	#ifdef __COMPILE_577
	else if (__choose9 == 110)
	{
	//AddStmtKind
	exit(1);
	}
	#endif
	#ifdef __COMPILE_578
	else if (__choose9 == 111)
	{
	//AddStmtKind
	len = s1_len - offset;
	}
	#endif
	#ifdef __COMPILE_579
	else if (__choose9 == 112)
	{
	//AddStmtKind
	mblen(((void *)0), 0);
	}
	#endif
	#ifdef __COMPILE_580
	else if (__choose9 == 113)
	{
	//AddStmtKind
	offset = (offset < 0) ? 0 : offset;
	}
	#endif
	#ifdef __COMPILE_581
	else if (__choose9 == 114)
	{
	//AddStmtKind
	offset = s1_len + offset;
	}
	#endif
	#ifdef __COMPILE_582
	else if (__choose9 == 115)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 13L), "Passing locale category name as string is deprecated. Use the LC_* -constants instead");
	}
	#endif
	#ifdef __COMPILE_583
	else if (__choose9 == 116)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "'from' and 'len' should be of same type - numerical or array ");
	}
	#endif
	#ifdef __COMPILE_584
	else if (__choose9 == 117)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "'from' and 'len' should have the same number of elements");
	}
	#endif
	#ifdef __COMPILE_585
	else if (__choose9 == 118)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Argument must be an array");
	}
	#endif
	#ifdef __COMPILE_586
	else if (__choose9 == 119)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Break string cannot be empty");
	}
	#endif
	#ifdef __COMPILE_587
	else if (__choose9 == 120)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Can't force cut when width is zero");
	}
	#endif
	#ifdef __COMPILE_588
	else if (__choose9 == 121)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Chunk length should be greater than zero");
	}
	#endif
	#ifdef __COMPILE_589
	else if (__choose9 == 122)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Empty delimiter");
	}
	#endif
	#ifdef __COMPILE_590
	else if (__choose9 == 123)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Empty substring");
	}
	#endif
	#ifdef __COMPILE_591
	else if (__choose9 == 124)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Functionality of 'from' and 'len' as arrays is not implemented");
	}
	#endif
	#ifdef __COMPILE_592
	else if (__choose9 == 125)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid '..'-range");
	}
	#endif
	#ifdef __COMPILE_593
	else if (__choose9 == 126)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid '..'-range, '..'-range needs to be incrementing");
	}
	#endif
	#ifdef __COMPILE_594
	else if (__choose9 == 127)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid '..'-range, no character to the left of '..'");
	}
	#endif
	#ifdef __COMPILE_595
	else if (__choose9 == 128)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid '..'-range, no character to the right of '..'");
	}
	#endif
	#ifdef __COMPILE_596
	else if (__choose9 == 129)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid arguments passed");
	}
	#endif
	#ifdef __COMPILE_597
	else if (__choose9 == 130)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Length should be greater than 0");
	}
	#endif
	#ifdef __COMPILE_598
	else if (__choose9 == 131)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Offset is greater than the length of haystack string");
	}
	#endif
	#ifdef __COMPILE_599
	else if (__choose9 == 132)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Offset not contained in string");
	}
	#endif
	#ifdef __COMPILE_600
	else if (__choose9 == 133)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Offset should be greater than or equal to 0");
	}
	#endif
	#ifdef __COMPILE_601
	else if (__choose9 == 134)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Only a single %%i or %%n token can be used");
	}
	#endif
	#ifdef __COMPILE_602
	else if (__choose9 == 135)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Padding length is too long");
	}
	#endif
	#ifdef __COMPILE_603
	else if (__choose9 == 136)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Padding string cannot be empty");
	}
	#endif
	#ifdef __COMPILE_604
	else if (__choose9 == 137)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Padding type has to be STR_PAD_LEFT, STR_PAD_RIGHT, or STR_PAD_BOTH");
	}
	#endif
	#ifdef __COMPILE_605
	else if (__choose9 == 138)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Second argument has to be greater than or equal to 0");
	}
	#endif
	#ifdef __COMPILE_606
	else if (__choose9 == 139)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Specified locale name is too long");
	}
	#endif
	#ifdef __COMPILE_607
	else if (__choose9 == 140)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "The character list cannot be empty");
	}
	#endif
	#ifdef __COMPILE_608
	else if (__choose9 == 141)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "The length must be greater than zero");
	}
	#endif
	#ifdef __COMPILE_609
	else if (__choose9 == 142)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "The length of each segment must be greater than zero");
	}
	#endif
	#ifdef __COMPILE_610
	else if (__choose9 == 143)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "The second argument is not an array");
	}
	#endif
	#ifdef __COMPILE_611
	else if (__choose9 == 144)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "The start position cannot exceed initial string length");
	}
	#endif
	#ifdef __COMPILE_612
	else if (__choose9 == 145)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Unknown mode");
	}
	#endif
	#ifdef __COMPILE_613
	else if (__choose9 == 146)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "needle is not a string or an integer");
	}
	#endif
	#ifdef __COMPILE_614
	else if (__choose9 == 147)
	{
	//AddStmtKind
	zend_error((1 << 3L), "A non well formed numeric value encountered");
	}
	#endif
	#ifdef __COMPILE_615
	else if (__choose9 == 148)
	{
	//AddStmtKind
	zend_rebuild_symbol_table();
	}
	#endif
	#ifdef __COMPILE_616
	else if (__choose9 == 149)
	{
	//AddStmtKind
	zend_wrong_param_count();
	}
	#endif
	#ifdef __COMPILE_617
	else if (__choose9 == 150)
	{
	//IfExitKind
	if (__is_neg("9-150", "L5251", 10, &(s1_len), sizeof (s1_len), &(offset),
				 sizeof (offset), &(return_value), sizeof (return_value), &(len), sizeof (len), &(s2_len),
				 sizeof (s2_len), &(cmp_len), sizeof (cmp_len), &(ht), sizeof (ht), &(cs),
				 sizeof (cs), &(s1), sizeof (s1), &(s2), sizeof (s2)))
	    return;
	}
	#endif
	int __choose10 = __choose("__SWITCH10");
	{
	int __temp10=(offset >= s1_len) ;
	if (__choose10 == 0)
	{}
	#ifdef __COMPILE_618
	else if (__choose10 == 1)
	{
	__temp10= (__is_neg("10-1", "L5251", 10, &(s1_len), sizeof (s1_len), &(offset), sizeof (offset), &(return_value), sizeof (return_value), &(len), sizeof (len), &(s2_len), sizeof (s2_len), &(cmp_len), sizeof (cmp_len), &(ht), sizeof (ht), &(cs), sizeof (cs), &(s1), sizeof (s1), &(s2), sizeof (s2)));
	}
	#endif
	#ifdef __COMPILE_619
	else if (__choose10 == 2)
	{
	__temp10= ((offset >= s1_len) || __is_neg("10-2", "L5251", 10, &(s1_len), sizeof (s1_len), &(offset), sizeof (offset), &(return_value), sizeof (return_value), &(len), sizeof (len), &(s2_len), sizeof (s2_len), &(cmp_len), sizeof (cmp_len), &(ht), sizeof (ht), &(cs), sizeof (cs), &(s1), sizeof (s1), &(s2), sizeof (s2)));
	}
	#endif
	#ifdef __COMPILE_620
	else if (__choose10 == 3)
	{
	__temp10= ((offset >= s1_len) && !__is_neg("10-3", "L5251", 10, &(s1_len), sizeof (s1_len), &(offset), sizeof (offset), &(return_value), sizeof (return_value), &(len), sizeof (len), &(s2_len), sizeof (s2_len), &(cmp_len), sizeof (cmp_len), &(ht), sizeof (ht), &(cs), sizeof (cs), &(s1), sizeof (s1), &(s2), sizeof (s2)));
	}
	#endif
	int __choose11 = __choose("__SWITCH11");
	if (__choose11 == 0)
	{
	if (__temp10) {
			php_error_docref(NULL TSRMLS_CC, E_WARNING, "The start position cannot exceed initial string length");
			RETURN_FALSE;
		}
	
	}
	#ifdef __COMPILE_621
	else if (__choose11 == 1)
	{
	//GuardKind
	if (!__is_neg("11-1", "L5251", 10, &(s1_len), sizeof (s1_len), &(offset), sizeof (offset), &(return_value), sizeof (return_value), &(len), sizeof (len), &(s2_len), sizeof (s2_len), &(cmp_len), sizeof (cmp_len), &(ht), sizeof (ht), &(cs), sizeof (cs), &(s1), sizeof (s1), &(s2), sizeof (s2)))
	    if (offset >= s1_len) {
	        php_error_docref0(((void *)0), (1 << 1L), "The start position cannot exceed initial string length");
	        {
	            do {
	                zval *__z = (return_value);
	                (*__z).value.lval = ((0) != 0);
	                (*__z).type = 3;
	            } while (0);
	            return;
	        }
	        ;
	    }
	
	}
	#endif
	#ifdef __COMPILE_622
	else if (__choose11 == 2)
	{
	//SpecialGuardKind
	if (!__is_neg("11-2", "L5251", 10, &(s1_len), sizeof (s1_len), &(offset), sizeof (offset), &(return_value), sizeof (return_value), &(len), sizeof (len), &(s2_len), sizeof (s2_len), &(cmp_len), sizeof (cmp_len), &(ht), sizeof (ht), &(cs), sizeof (cs), &(s1), sizeof (s1), &(s2), sizeof (s2)) && (offset >= s1_len)) {
	    php_error_docref0(((void *)0), (1 << 1L), "The start position cannot exceed initial string length");
	    {
	        do {
	            zval *__z = (return_value);
	            (*__z).value.lval = ((0) != 0);
	            (*__z).type = 3;
	        } while (0);
	        return;
	    }
	    ;
	}
	
	}
	#endif
	}
	}

	//prophet generated patch
	{
	int __choose12 = __choose("__SWITCH12");
	if (__choose12 == 0)
	{}
	#ifdef __COMPILE_623
	else if (__choose12 == 1)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.locale_string) = (s1);
	}
	#endif
	#ifdef __COMPILE_624
	else if (__choose12 == 2)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.locale_string) = (s2);
	}
	#endif
	#ifdef __COMPILE_625
	else if (__choose12 == 3)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.locale_string) = _estrdup(((s1)));
	}
	#endif
	#ifdef __COMPILE_626
	else if (__choose12 == 4)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.locale_string) = _estrdup(((s2)));
	}
	#endif
	#ifdef __COMPILE_627
	else if (__choose12 == 5)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_last) = (*(return_value)).value.str.val;
	}
	#endif
	#ifdef __COMPILE_628
	else if (__choose12 == 6)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_last) = (*(this_ptr)).value.str.val;
	}
	#endif
	#ifdef __COMPILE_629
	else if (__choose12 == 7)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_last) = (s1) + 1;
	}
	#endif
	#ifdef __COMPILE_630
	else if (__choose12 == 8)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_last) = (s1);
	}
	#endif
	#ifdef __COMPILE_631
	else if (__choose12 == 9)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_last) = (s2) + 1;
	}
	#endif
	#ifdef __COMPILE_632
	else if (__choose12 == 10)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_last) = (s2);
	}
	#endif
	#ifdef __COMPILE_633
	else if (__choose12 == 11)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_len) = (-1);
	}
	#endif
	#ifdef __COMPILE_634
	else if (__choose12 == 12)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_len) = (0);
	}
	#endif
	#ifdef __COMPILE_635
	else if (__choose12 == 13)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_len) = (1);
	}
	#endif
	#ifdef __COMPILE_636
	else if (__choose12 == 14)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_len) = (2);
	}
	#endif
	#ifdef __COMPILE_637
	else if (__choose12 == 15)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_len) = (3);
	}
	#endif
	#ifdef __COMPILE_638
	else if (__choose12 == 16)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_len) = (4);
	}
	#endif
	#ifdef __COMPILE_639
	else if (__choose12 == 17)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_string) = (*(return_value)).value.str.val;
	}
	#endif
	#ifdef __COMPILE_640
	else if (__choose12 == 18)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_string) = (*(this_ptr)).value.str.val;
	}
	#endif
	#ifdef __COMPILE_641
	else if (__choose12 == 19)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_string) = (s1);
	}
	#endif
	#ifdef __COMPILE_642
	else if (__choose12 == 20)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_string) = (s2);
	}
	#endif
	#ifdef __COMPILE_643
	else if (__choose12 == 21)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_zval) = (return_value);
	}
	#endif
	#ifdef __COMPILE_644
	else if (__choose12 == 22)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_zval) = (this_ptr);
	}
	#endif
	#ifdef __COMPILE_645
	else if (__choose12 == 23)
	{
	//AddStmtAndReplaceAtomKind
	(s1)++;
	}
	#endif
	#ifdef __COMPILE_646
	else if (__choose12 == 24)
	{
	//AddStmtAndReplaceAtomKind
	(s1)--;
	}
	#endif
	#ifdef __COMPILE_647
	else if (__choose12 == 25)
	{
	//AddStmtAndReplaceAtomKind
	(s2)++;
	}
	#endif
	#ifdef __COMPILE_648
	else if (__choose12 == 26)
	{
	//AddStmtAndReplaceAtomKind
	(s2)--;
	}
	#endif
	#ifdef __COMPILE_649
	else if (__choose12 == 27)
	{
	//AddStmtAndReplaceAtomKind
	_array_init(((return_value)), 0);
	}
	#endif
	#ifdef __COMPILE_650
	else if (__choose12 == 28)
	{
	//AddStmtAndReplaceAtomKind
	_array_init(((this_ptr)), 0);
	}
	#endif
	#ifdef __COMPILE_651
	else if (__choose12 == 29)
	{
	//AddStmtAndReplaceAtomKind
	_convert_to_string((*(return_value_ptr)));
	}
	#endif
	#ifdef __COMPILE_652
	else if (__choose12 == 30)
	{
	//AddStmtAndReplaceAtomKind
	_efree(((return_value)));
	}
	#endif
	#ifdef __COMPILE_653
	else if (__choose12 == 31)
	{
	//AddStmtAndReplaceAtomKind
	_efree(((s1)));
	}
	#endif
	#ifdef __COMPILE_654
	else if (__choose12 == 32)
	{
	//AddStmtAndReplaceAtomKind
	_efree(((s2)));
	}
	#endif
	#ifdef __COMPILE_655
	else if (__choose12 == 33)
	{
	//AddStmtAndReplaceAtomKind
	_efree(((this_ptr)));
	}
	#endif
	#ifdef __COMPILE_656
	else if (__choose12 == 34)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor((&(*(return_value))));
	}
	#endif
	#ifdef __COMPILE_657
	else if (__choose12 == 35)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor((&(*(this_ptr))));
	}
	#endif
	#ifdef __COMPILE_658
	else if (__choose12 == 36)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor((((return_value))));
	}
	#endif
	#ifdef __COMPILE_659
	else if (__choose12 == 37)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor((((this_ptr))));
	}
	#endif
	#ifdef __COMPILE_660
	else if (__choose12 == 38)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor(((return_value)));
	}
	#endif
	#ifdef __COMPILE_661
	else if (__choose12 == 39)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor(((this_ptr)));
	}
	#endif
	#ifdef __COMPILE_662
	else if (__choose12 == 40)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor_func((return_value));
	}
	#endif
	#ifdef __COMPILE_663
	else if (__choose12 == 41)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor_func((this_ptr));
	}
	#endif
	#ifdef __COMPILE_664
	else if (__choose12 == 42)
	{
	//AddStmtAndReplaceAtomKind
	_zval_dtor(((return_value)));
	}
	#endif
	#ifdef __COMPILE_665
	else if (__choose12 == 43)
	{
	//AddStmtAndReplaceAtomKind
	_zval_dtor(((this_ptr)));
	}
	#endif
	#ifdef __COMPILE_666
	else if (__choose12 == 44)
	{
	//AddStmtAndReplaceAtomKind
	_zval_dtor((*(return_value_ptr)));
	}
	#endif
	#ifdef __COMPILE_667
	else if (__choose12 == 45)
	{
	//AddStmtAndReplaceAtomKind
	_zval_dtor_func((return_value));
	}
	#endif
	#ifdef __COMPILE_668
	else if (__choose12 == 46)
	{
	//AddStmtAndReplaceAtomKind
	_zval_dtor_func((this_ptr));
	}
	#endif
	#ifdef __COMPILE_669
	else if (__choose12 == 47)
	{
	//AddStmtAndReplaceAtomKind
	_zval_ptr_dtor((&(return_value)));
	}
	#endif
	#ifdef __COMPILE_670
	else if (__choose12 == 48)
	{
	//AddStmtAndReplaceAtomKind
	_zval_ptr_dtor((&(this_ptr)));
	}
	#endif
	#ifdef __COMPILE_671
	else if (__choose12 == 49)
	{
	//AddStmtAndReplaceAtomKind
	_zval_ptr_dtor((&*(return_value_ptr)));
	}
	#endif
	#ifdef __COMPILE_672
	else if (__choose12 == 50)
	{
	//AddStmtAndReplaceAtomKind
	add_next_index_stringl((return_value), "", sizeof ("") - 1, 1);
	}
	#endif
	#ifdef __COMPILE_673
	else if (__choose12 == 51)
	{
	//AddStmtAndReplaceAtomKind
	add_next_index_stringl((this_ptr), "", sizeof ("") - 1, 1);
	}
	#endif
	#ifdef __COMPILE_674
	else if (__choose12 == 52)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (-1);
	}
	#endif
	#ifdef __COMPILE_675
	else if (__choose12 == 53)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (0);
	}
	#endif
	#ifdef __COMPILE_676
	else if (__choose12 == 54)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (1);
	}
	#endif
	#ifdef __COMPILE_677
	else if (__choose12 == 55)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (2);
	}
	#endif
	#ifdef __COMPILE_678
	else if (__choose12 == 56)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (3);
	}
	#endif
	#ifdef __COMPILE_679
	else if (__choose12 == 57)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (4);
	}
	#endif
	#ifdef __COMPILE_680
	else if (__choose12 == 58)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (cmp_len);
	}
	#endif
	#ifdef __COMPILE_681
	else if (__choose12 == 59)
	{
	//AddStmtAndReplaceAtomKind
	convert_to_boolean((return_value));
	}
	#endif
	#ifdef __COMPILE_682
	else if (__choose12 == 60)
	{
	//AddStmtAndReplaceAtomKind
	convert_to_boolean((this_ptr));
	}
	#endif
	#ifdef __COMPILE_683
	else if (__choose12 == 61)
	{
	//AddStmtAndReplaceAtomKind
	convert_to_double(*(return_value_ptr));
	}
	#endif
	#ifdef __COMPILE_684
	else if (__choose12 == 62)
	{
	//AddStmtAndReplaceAtomKind
	convert_to_long(*(return_value_ptr));
	}
	#endif
	#ifdef __COMPILE_685
	else if (__choose12 == 63)
	{
	//AddStmtAndReplaceAtomKind
	gc_remove_zval_from_buffer((return_value));
	}
	#endif
	#ifdef __COMPILE_686
	else if (__choose12 == 64)
	{
	//AddStmtAndReplaceAtomKind
	gc_remove_zval_from_buffer((this_ptr));
	}
	#endif
	#ifdef __COMPILE_687
	else if (__choose12 == 65)
	{
	//AddStmtAndReplaceAtomKind
	gc_zval_check_possible_root(((return_value)));
	}
	#endif
	#ifdef __COMPILE_688
	else if (__choose12 == 66)
	{
	//AddStmtAndReplaceAtomKind
	gc_zval_check_possible_root(((this_ptr)));
	}
	#endif
	#ifdef __COMPILE_689
	else if (__choose12 == 67)
	{
	//AddStmtAndReplaceAtomKind
	gc_zval_possible_root((return_value));
	}
	#endif
	#ifdef __COMPILE_690
	else if (__choose12 == 68)
	{
	//AddStmtAndReplaceAtomKind
	gc_zval_possible_root((this_ptr));
	}
	#endif
	#ifdef __COMPILE_691
	else if (__choose12 == 69)
	{
	//AddStmtAndReplaceAtomKind
	i_zval_ptr_dtor((return_value));
	}
	#endif
	#ifdef __COMPILE_692
	else if (__choose12 == 70)
	{
	//AddStmtAndReplaceAtomKind
	i_zval_ptr_dtor((this_ptr));
	}
	#endif
	#ifdef __COMPILE_693
	else if (__choose12 == 71)
	{
	//AddStmtAndReplaceAtomKind
	len = (-1);
	}
	#endif
	#ifdef __COMPILE_694
	else if (__choose12 == 72)
	{
	//AddStmtAndReplaceAtomKind
	len = (0);
	}
	#endif
	#ifdef __COMPILE_695
	else if (__choose12 == 73)
	{
	//AddStmtAndReplaceAtomKind
	len = (1);
	}
	#endif
	#ifdef __COMPILE_696
	else if (__choose12 == 74)
	{
	//AddStmtAndReplaceAtomKind
	len = (2);
	}
	#endif
	#ifdef __COMPILE_697
	else if (__choose12 == 75)
	{
	//AddStmtAndReplaceAtomKind
	len = (3);
	}
	#endif
	#ifdef __COMPILE_698
	else if (__choose12 == 76)
	{
	//AddStmtAndReplaceAtomKind
	len = (4);
	}
	#endif
	#ifdef __COMPILE_699
	else if (__choose12 == 77)
	{
	//AddStmtAndReplaceAtomKind
	len = (len);
	}
	#endif
	#ifdef __COMPILE_700
	else if (__choose12 == 78)
	{
	//AddStmtAndReplaceAtomKind
	len = (offset);
	}
	#endif
	#ifdef __COMPILE_701
	else if (__choose12 == 79)
	{
	//AddStmtAndReplaceAtomKind
	memset((s1), 0, 256);
	}
	#endif
	#ifdef __COMPILE_702
	else if (__choose12 == 80)
	{
	//AddStmtAndReplaceAtomKind
	memset((s2), 0, 256);
	}
	#endif
	#ifdef __COMPILE_703
	else if (__choose12 == 81)
	{
	//AddStmtAndReplaceAtomKind
	offset = (-1);
	}
	#endif
	#ifdef __COMPILE_704
	else if (__choose12 == 82)
	{
	//AddStmtAndReplaceAtomKind
	offset = (0);
	}
	#endif
	#ifdef __COMPILE_705
	else if (__choose12 == 83)
	{
	//AddStmtAndReplaceAtomKind
	offset = (1);
	}
	#endif
	#ifdef __COMPILE_706
	else if (__choose12 == 84)
	{
	//AddStmtAndReplaceAtomKind
	offset = (2);
	}
	#endif
	#ifdef __COMPILE_707
	else if (__choose12 == 85)
	{
	//AddStmtAndReplaceAtomKind
	offset = (3);
	}
	#endif
	#ifdef __COMPILE_708
	else if (__choose12 == 86)
	{
	//AddStmtAndReplaceAtomKind
	offset = (4);
	}
	#endif
	#ifdef __COMPILE_709
	else if (__choose12 == 87)
	{
	//AddStmtAndReplaceAtomKind
	offset = (len);
	}
	#endif
	#ifdef __COMPILE_710
	else if (__choose12 == 88)
	{
	//AddStmtAndReplaceAtomKind
	offset = (offset);
	}
	#endif
	#ifdef __COMPILE_711
	else if (__choose12 == 89)
	{
	//AddStmtAndReplaceAtomKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid locale category name %s, must be one of LC_ALL, LC_COLLATE, LC_CTYPE, LC_MONETARY, LC_NUMERIC, or LC_TIME", (s1));
	}
	#endif
	#ifdef __COMPILE_712
	else if (__choose12 == 90)
	{
	//AddStmtAndReplaceAtomKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid locale category name %s, must be one of LC_ALL, LC_COLLATE, LC_CTYPE, LC_MONETARY, LC_NUMERIC, or LC_TIME", (s2));
	}
	#endif
	#ifdef __COMPILE_713
	else if (__choose12 == 91)
	{
	//AddStmtAndReplaceAtomKind
	php_lcfirst((*(return_value)).value.str.val);
	}
	#endif
	#ifdef __COMPILE_714
	else if (__choose12 == 92)
	{
	//AddStmtAndReplaceAtomKind
	php_lcfirst((*(this_ptr)).value.str.val);
	}
	#endif
	#ifdef __COMPILE_715
	else if (__choose12 == 93)
	{
	//AddStmtAndReplaceAtomKind
	php_ucfirst((*(return_value)).value.str.val);
	}
	#endif
	#ifdef __COMPILE_716
	else if (__choose12 == 94)
	{
	//AddStmtAndReplaceAtomKind
	php_ucfirst((*(this_ptr)).value.str.val);
	}
	#endif
	#ifdef __COMPILE_717
	else if (__choose12 == 95)
	{
	//AddStmtAndReplaceAtomKind
	zend_hash_internal_pointer_reset_ex((*(return_value)).value.ht, ((void *)0));
	}
	#endif
	#ifdef __COMPILE_718
	else if (__choose12 == 96)
	{
	//AddStmtAndReplaceAtomKind
	zend_hash_internal_pointer_reset_ex((*(this_ptr)).value.ht, ((void *)0));
	}
	#endif
	#ifdef __COMPILE_719
	else if (__choose12 == 97)
	{
	//AddStmtAndReplaceAtomKind
	zend_hash_internal_pointer_reset_ex((**(return_value_ptr)).value.ht, ((void *)0));
	}
	#endif
	#ifdef __COMPILE_720
	else if (__choose12 == 98)
	{
	//AddStmtAndReplaceAtomKind
	zend_hash_move_forward_ex((*(return_value)).value.ht, ((void *)0));
	}
	#endif
	#ifdef __COMPILE_721
	else if (__choose12 == 99)
	{
	//AddStmtAndReplaceAtomKind
	zend_hash_move_forward_ex((*(this_ptr)).value.ht, ((void *)0));
	}
	#endif
	#ifdef __COMPILE_722
	else if (__choose12 == 100)
	{
	//AddStmtAndReplaceAtomKind
	zend_hash_move_forward_ex((**(return_value_ptr)).value.ht, ((void *)0));
	}
	#endif
	#ifdef __COMPILE_723
	else if (__choose12 == 101)
	{
	//AddStmtAndReplaceAtomKind
	zval_addref_p(*(return_value_ptr));
	}
	#endif
	#ifdef __COMPILE_724
	else if (__choose12 == 102)
	{
	//AddStmtAndReplaceAtomKind
	zval_delref_p((*(return_value_ptr)));
	}
	#endif
	#ifdef __COMPILE_725
	else if (__choose12 == 103)
	{
	//AddStmtAndReplaceAtomKind
	zval_unset_isref_p((return_value));
	}
	#endif
	#ifdef __COMPILE_726
	else if (__choose12 == 104)
	{
	//AddStmtAndReplaceAtomKind
	zval_unset_isref_p((this_ptr));
	}
	#endif
	#ifdef __COMPILE_727
	else if (__choose12 == 105)
	{
	//AddStmtKind
	(basic_globals.strtok_last) = ((void *)0);
	}
	#endif
	#ifdef __COMPILE_728
	else if (__choose12 == 106)
	{
	//AddStmtKind
	(executor_globals.argument_stack) = zend_vm_stack_new_page(((16 * 1024) - 16));
	}
	#endif
	#ifdef __COMPILE_729
	else if (__choose12 == 107)
	{
	//AddStmtKind
	_efree(((basic_globals.locale_string)));
	}
	#endif
	#ifdef __COMPILE_730
	else if (__choose12 == 108)
	{
	//AddStmtKind
	_zval_ptr_dtor((&(basic_globals.strtok_zval)));
	}
	#endif
	#ifdef __COMPILE_731
	else if (__choose12 == 109)
	{
	//AddStmtKind
	cmp_len = (uint)(len ? len : (((s2_len) > ((s1_len - offset))) ? (s2_len) : ((s1_len - offset))));
	}
	#endif
	#ifdef __COMPILE_732
	else if (__choose12 == 110)
	{
	//AddStmtKind
	exit(1);
	}
	#endif
	#ifdef __COMPILE_733
	else if (__choose12 == 111)
	{
	//AddStmtKind
	len = s1_len - offset;
	}
	#endif
	#ifdef __COMPILE_734
	else if (__choose12 == 112)
	{
	//AddStmtKind
	mblen(((void *)0), 0);
	}
	#endif
	#ifdef __COMPILE_735
	else if (__choose12 == 113)
	{
	//AddStmtKind
	offset = (offset < 0) ? 0 : offset;
	}
	#endif
	#ifdef __COMPILE_736
	else if (__choose12 == 114)
	{
	//AddStmtKind
	offset = s1_len + offset;
	}
	#endif
	#ifdef __COMPILE_737
	else if (__choose12 == 115)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 13L), "Passing locale category name as string is deprecated. Use the LC_* -constants instead");
	}
	#endif
	#ifdef __COMPILE_738
	else if (__choose12 == 116)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "'from' and 'len' should be of same type - numerical or array ");
	}
	#endif
	#ifdef __COMPILE_739
	else if (__choose12 == 117)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "'from' and 'len' should have the same number of elements");
	}
	#endif
	#ifdef __COMPILE_740
	else if (__choose12 == 118)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Argument must be an array");
	}
	#endif
	#ifdef __COMPILE_741
	else if (__choose12 == 119)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Break string cannot be empty");
	}
	#endif
	#ifdef __COMPILE_742
	else if (__choose12 == 120)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Can't force cut when width is zero");
	}
	#endif
	#ifdef __COMPILE_743
	else if (__choose12 == 121)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Chunk length should be greater than zero");
	}
	#endif
	#ifdef __COMPILE_744
	else if (__choose12 == 122)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Empty delimiter");
	}
	#endif
	#ifdef __COMPILE_745
	else if (__choose12 == 123)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Empty substring");
	}
	#endif
	#ifdef __COMPILE_746
	else if (__choose12 == 124)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Functionality of 'from' and 'len' as arrays is not implemented");
	}
	#endif
	#ifdef __COMPILE_747
	else if (__choose12 == 125)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid '..'-range");
	}
	#endif
	#ifdef __COMPILE_748
	else if (__choose12 == 126)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid '..'-range, '..'-range needs to be incrementing");
	}
	#endif
	#ifdef __COMPILE_749
	else if (__choose12 == 127)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid '..'-range, no character to the left of '..'");
	}
	#endif
	#ifdef __COMPILE_750
	else if (__choose12 == 128)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid '..'-range, no character to the right of '..'");
	}
	#endif
	#ifdef __COMPILE_751
	else if (__choose12 == 129)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid arguments passed");
	}
	#endif
	#ifdef __COMPILE_752
	else if (__choose12 == 130)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Length should be greater than 0");
	}
	#endif
	#ifdef __COMPILE_753
	else if (__choose12 == 131)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Offset is greater than the length of haystack string");
	}
	#endif
	#ifdef __COMPILE_754
	else if (__choose12 == 132)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Offset not contained in string");
	}
	#endif
	#ifdef __COMPILE_755
	else if (__choose12 == 133)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Offset should be greater than or equal to 0");
	}
	#endif
	#ifdef __COMPILE_756
	else if (__choose12 == 134)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Only a single %%i or %%n token can be used");
	}
	#endif
	#ifdef __COMPILE_757
	else if (__choose12 == 135)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Padding length is too long");
	}
	#endif
	#ifdef __COMPILE_758
	else if (__choose12 == 136)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Padding string cannot be empty");
	}
	#endif
	#ifdef __COMPILE_759
	else if (__choose12 == 137)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Padding type has to be STR_PAD_LEFT, STR_PAD_RIGHT, or STR_PAD_BOTH");
	}
	#endif
	#ifdef __COMPILE_760
	else if (__choose12 == 138)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Second argument has to be greater than or equal to 0");
	}
	#endif
	#ifdef __COMPILE_761
	else if (__choose12 == 139)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Specified locale name is too long");
	}
	#endif
	#ifdef __COMPILE_762
	else if (__choose12 == 140)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "The character list cannot be empty");
	}
	#endif
	#ifdef __COMPILE_763
	else if (__choose12 == 141)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "The length must be greater than zero");
	}
	#endif
	#ifdef __COMPILE_764
	else if (__choose12 == 142)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "The length of each segment must be greater than zero");
	}
	#endif
	#ifdef __COMPILE_765
	else if (__choose12 == 143)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "The second argument is not an array");
	}
	#endif
	#ifdef __COMPILE_766
	else if (__choose12 == 144)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "The start position cannot exceed initial string length");
	}
	#endif
	#ifdef __COMPILE_767
	else if (__choose12 == 145)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Unknown mode");
	}
	#endif
	#ifdef __COMPILE_768
	else if (__choose12 == 146)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "needle is not a string or an integer");
	}
	#endif
	#ifdef __COMPILE_769
	else if (__choose12 == 147)
	{
	//AddStmtKind
	zend_error((1 << 3L), "A non well formed numeric value encountered");
	}
	#endif
	#ifdef __COMPILE_770
	else if (__choose12 == 148)
	{
	//AddStmtKind
	zend_rebuild_symbol_table();
	}
	#endif
	#ifdef __COMPILE_771
	else if (__choose12 == 149)
	{
	//AddStmtKind
	zend_wrong_param_count();
	}
	#endif
	#ifdef __COMPILE_772
	else if (__choose12 == 150)
	{
	//IfExitKind
	if (__is_neg("12-150", "L5256", 10, &(s1_len), sizeof (s1_len), &(offset),
				 sizeof (offset), &(len), sizeof (len), &(return_value), sizeof (return_value), &(s2_len),
				 sizeof (s2_len), &(cmp_len), sizeof (cmp_len), &(cs), sizeof (cs), &(s1),
				 sizeof (s1), &(s2), sizeof (s2), &(ht), sizeof (ht)))
	    return;
	}
	#endif
	int __choose13 = __choose("__SWITCH13");
	{
	int __temp13=(len > s1_len - offset) ;
	if (__choose13 == 0)
	{}
	#ifdef __COMPILE_773
	else if (__choose13 == 1)
	{
	__temp13= (__is_neg("13-1", "L5256", 10, &(s1_len), sizeof (s1_len), &(offset), sizeof (offset), &(len), sizeof (len), &(return_value), sizeof (return_value), &(s2_len), sizeof (s2_len), &(cmp_len), sizeof (cmp_len), &(cs), sizeof (cs), &(s1), sizeof (s1), &(s2), sizeof (s2), &(ht), sizeof (ht)));
	}
	#endif
	#ifdef __COMPILE_774
	else if (__choose13 == 2)
	{
	__temp13= ((len > s1_len - offset) || __is_neg("13-2", "L5256", 10, &(s1_len), sizeof (s1_len), &(offset), sizeof (offset), &(len), sizeof (len), &(return_value), sizeof (return_value), &(s2_len), sizeof (s2_len), &(cmp_len), sizeof (cmp_len), &(cs), sizeof (cs), &(s1), sizeof (s1), &(s2), sizeof (s2), &(ht), sizeof (ht)));
	}
	#endif
	#ifdef __COMPILE_775
	else if (__choose13 == 3)
	{
	__temp13= ((len > s1_len - offset) && !__is_neg("13-3", "L5256", 10, &(s1_len), sizeof (s1_len), &(offset), sizeof (offset), &(len), sizeof (len), &(return_value), sizeof (return_value), &(s2_len), sizeof (s2_len), &(cmp_len), sizeof (cmp_len), &(cs), sizeof (cs), &(s1), sizeof (s1), &(s2), sizeof (s2), &(ht), sizeof (ht)));
	}
	#endif
	int __choose16 = __choose("__SWITCH16");
	if (__choose16 == 0)
	{
	if (__temp13) {
			{
	int __choose14 = __choose("__SWITCH14");
	if (__choose14 == 0)
	{}
	#ifdef __COMPILE_776
	else if (__choose14 == 1)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.locale_string) = (s1);
	}
	#endif
	#ifdef __COMPILE_777
	else if (__choose14 == 2)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.locale_string) = (s2);
	}
	#endif
	#ifdef __COMPILE_778
	else if (__choose14 == 3)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.locale_string) = _estrdup(((s1)));
	}
	#endif
	#ifdef __COMPILE_779
	else if (__choose14 == 4)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.locale_string) = _estrdup(((s2)));
	}
	#endif
	#ifdef __COMPILE_780
	else if (__choose14 == 5)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_last) = (*(return_value)).value.str.val;
	}
	#endif
	#ifdef __COMPILE_781
	else if (__choose14 == 6)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_last) = (*(this_ptr)).value.str.val;
	}
	#endif
	#ifdef __COMPILE_782
	else if (__choose14 == 7)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_last) = (s1) + 1;
	}
	#endif
	#ifdef __COMPILE_783
	else if (__choose14 == 8)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_last) = (s1);
	}
	#endif
	#ifdef __COMPILE_784
	else if (__choose14 == 9)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_last) = (s2) + 1;
	}
	#endif
	#ifdef __COMPILE_785
	else if (__choose14 == 10)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_last) = (s2);
	}
	#endif
	#ifdef __COMPILE_786
	else if (__choose14 == 11)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_len) = (-1);
	}
	#endif
	#ifdef __COMPILE_787
	else if (__choose14 == 12)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_len) = (0);
	}
	#endif
	#ifdef __COMPILE_788
	else if (__choose14 == 13)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_len) = (1);
	}
	#endif
	#ifdef __COMPILE_789
	else if (__choose14 == 14)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_len) = (2);
	}
	#endif
	#ifdef __COMPILE_790
	else if (__choose14 == 15)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_len) = (3);
	}
	#endif
	#ifdef __COMPILE_791
	else if (__choose14 == 16)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_len) = (4);
	}
	#endif
	#ifdef __COMPILE_792
	else if (__choose14 == 17)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_string) = (*(return_value)).value.str.val;
	}
	#endif
	#ifdef __COMPILE_793
	else if (__choose14 == 18)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_string) = (*(this_ptr)).value.str.val;
	}
	#endif
	#ifdef __COMPILE_794
	else if (__choose14 == 19)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_string) = (s1);
	}
	#endif
	#ifdef __COMPILE_795
	else if (__choose14 == 20)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_string) = (s2);
	}
	#endif
	#ifdef __COMPILE_796
	else if (__choose14 == 21)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_zval) = (return_value);
	}
	#endif
	#ifdef __COMPILE_797
	else if (__choose14 == 22)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_zval) = (this_ptr);
	}
	#endif
	#ifdef __COMPILE_798
	else if (__choose14 == 23)
	{
	//AddStmtAndReplaceAtomKind
	(s1)++;
	}
	#endif
	#ifdef __COMPILE_799
	else if (__choose14 == 24)
	{
	//AddStmtAndReplaceAtomKind
	(s1)--;
	}
	#endif
	#ifdef __COMPILE_800
	else if (__choose14 == 25)
	{
	//AddStmtAndReplaceAtomKind
	(s2)++;
	}
	#endif
	#ifdef __COMPILE_801
	else if (__choose14 == 26)
	{
	//AddStmtAndReplaceAtomKind
	(s2)--;
	}
	#endif
	#ifdef __COMPILE_802
	else if (__choose14 == 27)
	{
	//AddStmtAndReplaceAtomKind
	_array_init(((return_value)), 0);
	}
	#endif
	#ifdef __COMPILE_803
	else if (__choose14 == 28)
	{
	//AddStmtAndReplaceAtomKind
	_array_init(((this_ptr)), 0);
	}
	#endif
	#ifdef __COMPILE_804
	else if (__choose14 == 29)
	{
	//AddStmtAndReplaceAtomKind
	_convert_to_string((*(return_value_ptr)));
	}
	#endif
	#ifdef __COMPILE_805
	else if (__choose14 == 30)
	{
	//AddStmtAndReplaceAtomKind
	_efree(((return_value)));
	}
	#endif
	#ifdef __COMPILE_806
	else if (__choose14 == 31)
	{
	//AddStmtAndReplaceAtomKind
	_efree(((s1)));
	}
	#endif
	#ifdef __COMPILE_807
	else if (__choose14 == 32)
	{
	//AddStmtAndReplaceAtomKind
	_efree(((s2)));
	}
	#endif
	#ifdef __COMPILE_808
	else if (__choose14 == 33)
	{
	//AddStmtAndReplaceAtomKind
	_efree(((this_ptr)));
	}
	#endif
	#ifdef __COMPILE_809
	else if (__choose14 == 34)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor((&(*(return_value))));
	}
	#endif
	#ifdef __COMPILE_810
	else if (__choose14 == 35)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor((&(*(this_ptr))));
	}
	#endif
	#ifdef __COMPILE_811
	else if (__choose14 == 36)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor((((return_value))));
	}
	#endif
	#ifdef __COMPILE_812
	else if (__choose14 == 37)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor((((this_ptr))));
	}
	#endif
	#ifdef __COMPILE_813
	else if (__choose14 == 38)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor(((return_value)));
	}
	#endif
	#ifdef __COMPILE_814
	else if (__choose14 == 39)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor(((this_ptr)));
	}
	#endif
	#ifdef __COMPILE_815
	else if (__choose14 == 40)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor_func((return_value));
	}
	#endif
	#ifdef __COMPILE_816
	else if (__choose14 == 41)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor_func((this_ptr));
	}
	#endif
	#ifdef __COMPILE_817
	else if (__choose14 == 42)
	{
	//AddStmtAndReplaceAtomKind
	_zval_dtor(((return_value)));
	}
	#endif
	#ifdef __COMPILE_818
	else if (__choose14 == 43)
	{
	//AddStmtAndReplaceAtomKind
	_zval_dtor(((this_ptr)));
	}
	#endif
	#ifdef __COMPILE_819
	else if (__choose14 == 44)
	{
	//AddStmtAndReplaceAtomKind
	_zval_dtor((*(return_value_ptr)));
	}
	#endif
	#ifdef __COMPILE_820
	else if (__choose14 == 45)
	{
	//AddStmtAndReplaceAtomKind
	_zval_dtor_func((return_value));
	}
	#endif
	#ifdef __COMPILE_821
	else if (__choose14 == 46)
	{
	//AddStmtAndReplaceAtomKind
	_zval_dtor_func((this_ptr));
	}
	#endif
	#ifdef __COMPILE_822
	else if (__choose14 == 47)
	{
	//AddStmtAndReplaceAtomKind
	_zval_ptr_dtor((&(return_value)));
	}
	#endif
	#ifdef __COMPILE_823
	else if (__choose14 == 48)
	{
	//AddStmtAndReplaceAtomKind
	_zval_ptr_dtor((&(this_ptr)));
	}
	#endif
	#ifdef __COMPILE_824
	else if (__choose14 == 49)
	{
	//AddStmtAndReplaceAtomKind
	_zval_ptr_dtor((&*(return_value_ptr)));
	}
	#endif
	#ifdef __COMPILE_825
	else if (__choose14 == 50)
	{
	//AddStmtAndReplaceAtomKind
	add_next_index_stringl((return_value), "", sizeof ("") - 1, 1);
	}
	#endif
	#ifdef __COMPILE_826
	else if (__choose14 == 51)
	{
	//AddStmtAndReplaceAtomKind
	add_next_index_stringl((this_ptr), "", sizeof ("") - 1, 1);
	}
	#endif
	#ifdef __COMPILE_827
	else if (__choose14 == 52)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (-1);
	}
	#endif
	#ifdef __COMPILE_828
	else if (__choose14 == 53)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (0);
	}
	#endif
	#ifdef __COMPILE_829
	else if (__choose14 == 54)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (1);
	}
	#endif
	#ifdef __COMPILE_830
	else if (__choose14 == 55)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (2);
	}
	#endif
	#ifdef __COMPILE_831
	else if (__choose14 == 56)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (3);
	}
	#endif
	#ifdef __COMPILE_832
	else if (__choose14 == 57)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (4);
	}
	#endif
	#ifdef __COMPILE_833
	else if (__choose14 == 58)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (cmp_len);
	}
	#endif
	#ifdef __COMPILE_834
	else if (__choose14 == 59)
	{
	//AddStmtAndReplaceAtomKind
	convert_to_boolean((return_value));
	}
	#endif
	#ifdef __COMPILE_835
	else if (__choose14 == 60)
	{
	//AddStmtAndReplaceAtomKind
	convert_to_boolean((this_ptr));
	}
	#endif
	#ifdef __COMPILE_836
	else if (__choose14 == 61)
	{
	//AddStmtAndReplaceAtomKind
	convert_to_double(*(return_value_ptr));
	}
	#endif
	#ifdef __COMPILE_837
	else if (__choose14 == 62)
	{
	//AddStmtAndReplaceAtomKind
	convert_to_long(*(return_value_ptr));
	}
	#endif
	#ifdef __COMPILE_838
	else if (__choose14 == 63)
	{
	//AddStmtAndReplaceAtomKind
	gc_remove_zval_from_buffer((return_value));
	}
	#endif
	#ifdef __COMPILE_839
	else if (__choose14 == 64)
	{
	//AddStmtAndReplaceAtomKind
	gc_remove_zval_from_buffer((this_ptr));
	}
	#endif
	#ifdef __COMPILE_840
	else if (__choose14 == 65)
	{
	//AddStmtAndReplaceAtomKind
	gc_zval_check_possible_root(((return_value)));
	}
	#endif
	#ifdef __COMPILE_841
	else if (__choose14 == 66)
	{
	//AddStmtAndReplaceAtomKind
	gc_zval_check_possible_root(((this_ptr)));
	}
	#endif
	#ifdef __COMPILE_842
	else if (__choose14 == 67)
	{
	//AddStmtAndReplaceAtomKind
	gc_zval_possible_root((return_value));
	}
	#endif
	#ifdef __COMPILE_843
	else if (__choose14 == 68)
	{
	//AddStmtAndReplaceAtomKind
	gc_zval_possible_root((this_ptr));
	}
	#endif
	#ifdef __COMPILE_844
	else if (__choose14 == 69)
	{
	//AddStmtAndReplaceAtomKind
	i_zval_ptr_dtor((return_value));
	}
	#endif
	#ifdef __COMPILE_845
	else if (__choose14 == 70)
	{
	//AddStmtAndReplaceAtomKind
	i_zval_ptr_dtor((this_ptr));
	}
	#endif
	#ifdef __COMPILE_846
	else if (__choose14 == 71)
	{
	//AddStmtAndReplaceAtomKind
	len = (-1);
	}
	#endif
	#ifdef __COMPILE_847
	else if (__choose14 == 72)
	{
	//AddStmtAndReplaceAtomKind
	len = (0);
	}
	#endif
	#ifdef __COMPILE_848
	else if (__choose14 == 73)
	{
	//AddStmtAndReplaceAtomKind
	len = (1);
	}
	#endif
	#ifdef __COMPILE_849
	else if (__choose14 == 74)
	{
	//AddStmtAndReplaceAtomKind
	len = (2);
	}
	#endif
	#ifdef __COMPILE_850
	else if (__choose14 == 75)
	{
	//AddStmtAndReplaceAtomKind
	len = (3);
	}
	#endif
	#ifdef __COMPILE_851
	else if (__choose14 == 76)
	{
	//AddStmtAndReplaceAtomKind
	len = (4);
	}
	#endif
	#ifdef __COMPILE_852
	else if (__choose14 == 77)
	{
	//AddStmtAndReplaceAtomKind
	len = (len);
	}
	#endif
	#ifdef __COMPILE_853
	else if (__choose14 == 78)
	{
	//AddStmtAndReplaceAtomKind
	len = (offset);
	}
	#endif
	#ifdef __COMPILE_854
	else if (__choose14 == 79)
	{
	//AddStmtAndReplaceAtomKind
	memset((s1), 0, 256);
	}
	#endif
	#ifdef __COMPILE_855
	else if (__choose14 == 80)
	{
	//AddStmtAndReplaceAtomKind
	memset((s2), 0, 256);
	}
	#endif
	#ifdef __COMPILE_856
	else if (__choose14 == 81)
	{
	//AddStmtAndReplaceAtomKind
	offset = (-1);
	}
	#endif
	#ifdef __COMPILE_857
	else if (__choose14 == 82)
	{
	//AddStmtAndReplaceAtomKind
	offset = (0);
	}
	#endif
	#ifdef __COMPILE_858
	else if (__choose14 == 83)
	{
	//AddStmtAndReplaceAtomKind
	offset = (1);
	}
	#endif
	#ifdef __COMPILE_859
	else if (__choose14 == 84)
	{
	//AddStmtAndReplaceAtomKind
	offset = (2);
	}
	#endif
	#ifdef __COMPILE_860
	else if (__choose14 == 85)
	{
	//AddStmtAndReplaceAtomKind
	offset = (3);
	}
	#endif
	#ifdef __COMPILE_861
	else if (__choose14 == 86)
	{
	//AddStmtAndReplaceAtomKind
	offset = (4);
	}
	#endif
	#ifdef __COMPILE_862
	else if (__choose14 == 87)
	{
	//AddStmtAndReplaceAtomKind
	offset = (len);
	}
	#endif
	#ifdef __COMPILE_863
	else if (__choose14 == 88)
	{
	//AddStmtAndReplaceAtomKind
	offset = (offset);
	}
	#endif
	#ifdef __COMPILE_864
	else if (__choose14 == 89)
	{
	//AddStmtAndReplaceAtomKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid locale category name %s, must be one of LC_ALL, LC_COLLATE, LC_CTYPE, LC_MONETARY, LC_NUMERIC, or LC_TIME", (s1));
	}
	#endif
	#ifdef __COMPILE_865
	else if (__choose14 == 90)
	{
	//AddStmtAndReplaceAtomKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid locale category name %s, must be one of LC_ALL, LC_COLLATE, LC_CTYPE, LC_MONETARY, LC_NUMERIC, or LC_TIME", (s2));
	}
	#endif
	#ifdef __COMPILE_866
	else if (__choose14 == 91)
	{
	//AddStmtAndReplaceAtomKind
	php_lcfirst((*(return_value)).value.str.val);
	}
	#endif
	#ifdef __COMPILE_867
	else if (__choose14 == 92)
	{
	//AddStmtAndReplaceAtomKind
	php_lcfirst((*(this_ptr)).value.str.val);
	}
	#endif
	#ifdef __COMPILE_868
	else if (__choose14 == 93)
	{
	//AddStmtAndReplaceAtomKind
	php_ucfirst((*(return_value)).value.str.val);
	}
	#endif
	#ifdef __COMPILE_869
	else if (__choose14 == 94)
	{
	//AddStmtAndReplaceAtomKind
	php_ucfirst((*(this_ptr)).value.str.val);
	}
	#endif
	#ifdef __COMPILE_870
	else if (__choose14 == 95)
	{
	//AddStmtAndReplaceAtomKind
	zend_hash_internal_pointer_reset_ex((*(return_value)).value.ht, ((void *)0));
	}
	#endif
	#ifdef __COMPILE_871
	else if (__choose14 == 96)
	{
	//AddStmtAndReplaceAtomKind
	zend_hash_internal_pointer_reset_ex((*(this_ptr)).value.ht, ((void *)0));
	}
	#endif
	#ifdef __COMPILE_872
	else if (__choose14 == 97)
	{
	//AddStmtAndReplaceAtomKind
	zend_hash_internal_pointer_reset_ex((**(return_value_ptr)).value.ht, ((void *)0));
	}
	#endif
	#ifdef __COMPILE_873
	else if (__choose14 == 98)
	{
	//AddStmtAndReplaceAtomKind
	zend_hash_move_forward_ex((*(return_value)).value.ht, ((void *)0));
	}
	#endif
	#ifdef __COMPILE_874
	else if (__choose14 == 99)
	{
	//AddStmtAndReplaceAtomKind
	zend_hash_move_forward_ex((*(this_ptr)).value.ht, ((void *)0));
	}
	#endif
	#ifdef __COMPILE_875
	else if (__choose14 == 100)
	{
	//AddStmtAndReplaceAtomKind
	zend_hash_move_forward_ex((**(return_value_ptr)).value.ht, ((void *)0));
	}
	#endif
	#ifdef __COMPILE_876
	else if (__choose14 == 101)
	{
	//AddStmtAndReplaceAtomKind
	zval_addref_p(*(return_value_ptr));
	}
	#endif
	#ifdef __COMPILE_877
	else if (__choose14 == 102)
	{
	//AddStmtAndReplaceAtomKind
	zval_delref_p((*(return_value_ptr)));
	}
	#endif
	#ifdef __COMPILE_878
	else if (__choose14 == 103)
	{
	//AddStmtAndReplaceAtomKind
	zval_unset_isref_p((return_value));
	}
	#endif
	#ifdef __COMPILE_879
	else if (__choose14 == 104)
	{
	//AddStmtAndReplaceAtomKind
	zval_unset_isref_p((this_ptr));
	}
	#endif
	#ifdef __COMPILE_880
	else if (__choose14 == 105)
	{
	//AddStmtKind
	(basic_globals.strtok_last) = ((void *)0);
	}
	#endif
	#ifdef __COMPILE_881
	else if (__choose14 == 106)
	{
	//AddStmtKind
	(executor_globals.argument_stack) = zend_vm_stack_new_page(((16 * 1024) - 16));
	}
	#endif
	#ifdef __COMPILE_882
	else if (__choose14 == 107)
	{
	//AddStmtKind
	_efree(((basic_globals.locale_string)));
	}
	#endif
	#ifdef __COMPILE_883
	else if (__choose14 == 108)
	{
	//AddStmtKind
	_zval_ptr_dtor((&(basic_globals.strtok_zval)));
	}
	#endif
	#ifdef __COMPILE_884
	else if (__choose14 == 109)
	{
	//AddStmtKind
	cmp_len = (uint)(len ? len : (((s2_len) > ((s1_len - offset))) ? (s2_len) : ((s1_len - offset))));
	}
	#endif
	#ifdef __COMPILE_885
	else if (__choose14 == 110)
	{
	//AddStmtKind
	exit(1);
	}
	#endif
	#ifdef __COMPILE_886
	else if (__choose14 == 111)
	{
	//AddStmtKind
	len = s1_len - offset;
	}
	#endif
	#ifdef __COMPILE_887
	else if (__choose14 == 112)
	{
	//AddStmtKind
	mblen(((void *)0), 0);
	}
	#endif
	#ifdef __COMPILE_888
	else if (__choose14 == 113)
	{
	//AddStmtKind
	offset = (offset < 0) ? 0 : offset;
	}
	#endif
	#ifdef __COMPILE_889
	else if (__choose14 == 114)
	{
	//AddStmtKind
	offset = s1_len + offset;
	}
	#endif
	#ifdef __COMPILE_890
	else if (__choose14 == 115)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 13L), "Passing locale category name as string is deprecated. Use the LC_* -constants instead");
	}
	#endif
	#ifdef __COMPILE_891
	else if (__choose14 == 116)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "'from' and 'len' should be of same type - numerical or array ");
	}
	#endif
	#ifdef __COMPILE_892
	else if (__choose14 == 117)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "'from' and 'len' should have the same number of elements");
	}
	#endif
	#ifdef __COMPILE_893
	else if (__choose14 == 118)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Argument must be an array");
	}
	#endif
	#ifdef __COMPILE_894
	else if (__choose14 == 119)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Break string cannot be empty");
	}
	#endif
	#ifdef __COMPILE_895
	else if (__choose14 == 120)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Can't force cut when width is zero");
	}
	#endif
	#ifdef __COMPILE_896
	else if (__choose14 == 121)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Chunk length should be greater than zero");
	}
	#endif
	#ifdef __COMPILE_897
	else if (__choose14 == 122)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Empty delimiter");
	}
	#endif
	#ifdef __COMPILE_898
	else if (__choose14 == 123)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Empty substring");
	}
	#endif
	#ifdef __COMPILE_899
	else if (__choose14 == 124)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Functionality of 'from' and 'len' as arrays is not implemented");
	}
	#endif
	#ifdef __COMPILE_900
	else if (__choose14 == 125)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid '..'-range");
	}
	#endif
	#ifdef __COMPILE_901
	else if (__choose14 == 126)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid '..'-range, '..'-range needs to be incrementing");
	}
	#endif
	#ifdef __COMPILE_902
	else if (__choose14 == 127)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid '..'-range, no character to the left of '..'");
	}
	#endif
	#ifdef __COMPILE_903
	else if (__choose14 == 128)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid '..'-range, no character to the right of '..'");
	}
	#endif
	#ifdef __COMPILE_904
	else if (__choose14 == 129)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid arguments passed");
	}
	#endif
	#ifdef __COMPILE_905
	else if (__choose14 == 130)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Length should be greater than 0");
	}
	#endif
	#ifdef __COMPILE_906
	else if (__choose14 == 131)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Offset is greater than the length of haystack string");
	}
	#endif
	#ifdef __COMPILE_907
	else if (__choose14 == 132)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Offset not contained in string");
	}
	#endif
	#ifdef __COMPILE_908
	else if (__choose14 == 133)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Offset should be greater than or equal to 0");
	}
	#endif
	#ifdef __COMPILE_909
	else if (__choose14 == 134)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Only a single %%i or %%n token can be used");
	}
	#endif
	#ifdef __COMPILE_910
	else if (__choose14 == 135)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Padding length is too long");
	}
	#endif
	#ifdef __COMPILE_911
	else if (__choose14 == 136)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Padding string cannot be empty");
	}
	#endif
	#ifdef __COMPILE_912
	else if (__choose14 == 137)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Padding type has to be STR_PAD_LEFT, STR_PAD_RIGHT, or STR_PAD_BOTH");
	}
	#endif
	#ifdef __COMPILE_913
	else if (__choose14 == 138)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Second argument has to be greater than or equal to 0");
	}
	#endif
	#ifdef __COMPILE_914
	else if (__choose14 == 139)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Specified locale name is too long");
	}
	#endif
	#ifdef __COMPILE_915
	else if (__choose14 == 140)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "The character list cannot be empty");
	}
	#endif
	#ifdef __COMPILE_916
	else if (__choose14 == 141)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "The length must be greater than zero");
	}
	#endif
	#ifdef __COMPILE_917
	else if (__choose14 == 142)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "The length of each segment must be greater than zero");
	}
	#endif
	#ifdef __COMPILE_918
	else if (__choose14 == 143)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "The second argument is not an array");
	}
	#endif
	#ifdef __COMPILE_919
	else if (__choose14 == 144)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "The start position cannot exceed initial string length");
	}
	#endif
	#ifdef __COMPILE_920
	else if (__choose14 == 145)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Unknown mode");
	}
	#endif
	#ifdef __COMPILE_921
	else if (__choose14 == 146)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "needle is not a string or an integer");
	}
	#endif
	#ifdef __COMPILE_922
	else if (__choose14 == 147)
	{
	//AddStmtKind
	zend_error((1 << 3L), "A non well formed numeric value encountered");
	}
	#endif
	#ifdef __COMPILE_923
	else if (__choose14 == 148)
	{
	//AddStmtKind
	zend_rebuild_symbol_table();
	}
	#endif
	#ifdef __COMPILE_924
	else if (__choose14 == 149)
	{
	//AddStmtKind
	zend_wrong_param_count();
	}
	#endif
	#ifdef __COMPILE_925
	else if (__choose14 == 150)
	{
	//IfExitKind
	if (__is_neg("14-150", "L5257", 10, &(s1_len), sizeof (s1_len), &(offset),
				 sizeof (offset), &(len), sizeof (len), &(s2_len), sizeof (s2_len), &(cmp_len),
				 sizeof (cmp_len), &(return_value), sizeof (return_value), &(cs), sizeof (cs), &(s1),
				 sizeof (s1), &(s2), sizeof (s2), &(ht), sizeof (ht)))
	    return;
	}
	#endif
	int __choose15 = __choose("__SWITCH15");
	if (__choose15 == 0)
	{
	len = s1_len - offset;
	
	}
	#ifdef __COMPILE_926
	else if (__choose15 == 1)
	{
	//GuardKind
	if (!__is_neg("15-1", "L5257", 10, &(s1_len), sizeof (s1_len), &(offset), sizeof (offset), &(len), sizeof (len), &(s2_len), sizeof (s2_len), &(cmp_len), sizeof (cmp_len), &(return_value), sizeof (return_value), &(cs), sizeof (cs), &(s1), sizeof (s1), &(s2), sizeof (s2), &(ht), sizeof (ht)))
	    len = s1_len - offset;
	
	}
	#endif
	#ifdef __COMPILE_927
	else if (__choose15 == 2)
	{
	//MSVExtRemoveStmtKind
	{
	}
	
	}
	#endif
	#ifdef __COMPILE_928
	else if (__choose15 == 3)
	{
	//ReplaceKind
	len = (-1);
	
	}
	#endif
	#ifdef __COMPILE_929
	else if (__choose15 == 4)
	{
	//ReplaceKind
	len = (0 * cmp_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_930
	else if (__choose15 == 5)
	{
	//ReplaceKind
	len = (0 * cs) - offset;
	
	}
	#endif
	#ifdef __COMPILE_931
	else if (__choose15 == 6)
	{
	//ReplaceKind
	len = (0 * ht) - offset;
	
	}
	#endif
	#ifdef __COMPILE_932
	else if (__choose15 == 7)
	{
	//ReplaceKind
	len = (0 * len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_933
	else if (__choose15 == 8)
	{
	//ReplaceKind
	len = (0 * offset) - offset;
	
	}
	#endif
	#ifdef __COMPILE_934
	else if (__choose15 == 9)
	{
	//ReplaceKind
	len = (0 * return_value_used) - offset;
	
	}
	#endif
	#ifdef __COMPILE_935
	else if (__choose15 == 10)
	{
	//ReplaceKind
	len = (0 * s1_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_936
	else if (__choose15 == 11)
	{
	//ReplaceKind
	len = (0 * s2_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_937
	else if (__choose15 == 12)
	{
	//ReplaceKind
	len = (0);
	
	}
	#endif
	#ifdef __COMPILE_938
	else if (__choose15 == 13)
	{
	//ReplaceKind
	len = (1);
	
	}
	#endif
	#ifdef __COMPILE_939
	else if (__choose15 == 14)
	{
	//ReplaceKind
	len = (2);
	
	}
	#endif
	#ifdef __COMPILE_940
	else if (__choose15 == 15)
	{
	//ReplaceKind
	len = (3);
	
	}
	#endif
	#ifdef __COMPILE_941
	else if (__choose15 == 16)
	{
	//ReplaceKind
	len = (4);
	
	}
	#endif
	#ifdef __COMPILE_942
	else if (__choose15 == 17)
	{
	//ReplaceKind
	len = (cmp_len != 0) - offset;
	
	}
	#endif
	#ifdef __COMPILE_943
	else if (__choose15 == 18)
	{
	//ReplaceKind
	len = (cmp_len * cs) - offset;
	
	}
	#endif
	#ifdef __COMPILE_944
	else if (__choose15 == 19)
	{
	//ReplaceKind
	len = (cmp_len * ht) - offset;
	
	}
	#endif
	#ifdef __COMPILE_945
	else if (__choose15 == 20)
	{
	//ReplaceKind
	len = (cmp_len * len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_946
	else if (__choose15 == 21)
	{
	//ReplaceKind
	len = (cmp_len * offset) - offset;
	
	}
	#endif
	#ifdef __COMPILE_947
	else if (__choose15 == 22)
	{
	//ReplaceKind
	len = (cmp_len * return_value_used) - offset;
	
	}
	#endif
	#ifdef __COMPILE_948
	else if (__choose15 == 23)
	{
	//ReplaceKind
	len = (cmp_len * s1_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_949
	else if (__choose15 == 24)
	{
	//ReplaceKind
	len = (cmp_len * s2_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_950
	else if (__choose15 == 25)
	{
	//ReplaceKind
	len = (cmp_len + 0) - offset;
	
	}
	#endif
	#ifdef __COMPILE_951
	else if (__choose15 == 26)
	{
	//ReplaceKind
	len = (cmp_len - 0) - offset;
	
	}
	#endif
	#ifdef __COMPILE_952
	else if (__choose15 == 27)
	{
	//ReplaceKind
	len = (cmp_len == 0) - offset;
	
	}
	#endif
	#ifdef __COMPILE_953
	else if (__choose15 == 28)
	{
	//ReplaceKind
	len = (cs != 0) - offset;
	
	}
	#endif
	#ifdef __COMPILE_954
	else if (__choose15 == 29)
	{
	//ReplaceKind
	len = (cs != cmp_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_955
	else if (__choose15 == 30)
	{
	//ReplaceKind
	len = (cs * cmp_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_956
	else if (__choose15 == 31)
	{
	//ReplaceKind
	len = (cs * ht) - offset;
	
	}
	#endif
	#ifdef __COMPILE_957
	else if (__choose15 == 32)
	{
	//ReplaceKind
	len = (cs * len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_958
	else if (__choose15 == 33)
	{
	//ReplaceKind
	len = (cs * offset) - offset;
	
	}
	#endif
	#ifdef __COMPILE_959
	else if (__choose15 == 34)
	{
	//ReplaceKind
	len = (cs * return_value_used) - offset;
	
	}
	#endif
	#ifdef __COMPILE_960
	else if (__choose15 == 35)
	{
	//ReplaceKind
	len = (cs * s1_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_961
	else if (__choose15 == 36)
	{
	//ReplaceKind
	len = (cs * s2_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_962
	else if (__choose15 == 37)
	{
	//ReplaceKind
	len = (cs + 0) - offset;
	
	}
	#endif
	#ifdef __COMPILE_963
	else if (__choose15 == 38)
	{
	//ReplaceKind
	len = (cs + cmp_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_964
	else if (__choose15 == 39)
	{
	//ReplaceKind
	len = (cs - 0) - offset;
	
	}
	#endif
	#ifdef __COMPILE_965
	else if (__choose15 == 40)
	{
	//ReplaceKind
	len = (cs - cmp_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_966
	else if (__choose15 == 41)
	{
	//ReplaceKind
	len = (cs == 0) - offset;
	
	}
	#endif
	#ifdef __COMPILE_967
	else if (__choose15 == 42)
	{
	//ReplaceKind
	len = (cs == cmp_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_968
	else if (__choose15 == 43)
	{
	//ReplaceKind
	len = (ht != 0) - offset;
	
	}
	#endif
	#ifdef __COMPILE_969
	else if (__choose15 == 44)
	{
	//ReplaceKind
	len = (ht != cmp_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_970
	else if (__choose15 == 45)
	{
	//ReplaceKind
	len = (ht != cs) - offset;
	
	}
	#endif
	#ifdef __COMPILE_971
	else if (__choose15 == 46)
	{
	//ReplaceKind
	len = (ht != len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_972
	else if (__choose15 == 47)
	{
	//ReplaceKind
	len = (ht != offset) - offset;
	
	}
	#endif
	#ifdef __COMPILE_973
	else if (__choose15 == 48)
	{
	//ReplaceKind
	len = (ht != return_value_used) - offset;
	
	}
	#endif
	#ifdef __COMPILE_974
	else if (__choose15 == 49)
	{
	//ReplaceKind
	len = (ht != s1_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_975
	else if (__choose15 == 50)
	{
	//ReplaceKind
	len = (ht != s2_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_976
	else if (__choose15 == 51)
	{
	//ReplaceKind
	len = (ht * cmp_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_977
	else if (__choose15 == 52)
	{
	//ReplaceKind
	len = (ht * cs) - offset;
	
	}
	#endif
	#ifdef __COMPILE_978
	else if (__choose15 == 53)
	{
	//ReplaceKind
	len = (ht * len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_979
	else if (__choose15 == 54)
	{
	//ReplaceKind
	len = (ht * offset) - offset;
	
	}
	#endif
	#ifdef __COMPILE_980
	else if (__choose15 == 55)
	{
	//ReplaceKind
	len = (ht * return_value_used) - offset;
	
	}
	#endif
	#ifdef __COMPILE_981
	else if (__choose15 == 56)
	{
	//ReplaceKind
	len = (ht * s1_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_982
	else if (__choose15 == 57)
	{
	//ReplaceKind
	len = (ht * s2_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_983
	else if (__choose15 == 58)
	{
	//ReplaceKind
	len = (ht + 0) - offset;
	
	}
	#endif
	#ifdef __COMPILE_984
	else if (__choose15 == 59)
	{
	//ReplaceKind
	len = (ht + cmp_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_985
	else if (__choose15 == 60)
	{
	//ReplaceKind
	len = (ht + cs) - offset;
	
	}
	#endif
	#ifdef __COMPILE_986
	else if (__choose15 == 61)
	{
	//ReplaceKind
	len = (ht + len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_987
	else if (__choose15 == 62)
	{
	//ReplaceKind
	len = (ht + offset) - offset;
	
	}
	#endif
	#ifdef __COMPILE_988
	else if (__choose15 == 63)
	{
	//ReplaceKind
	len = (ht + return_value_used) - offset;
	
	}
	#endif
	#ifdef __COMPILE_989
	else if (__choose15 == 64)
	{
	//ReplaceKind
	len = (ht + s1_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_990
	else if (__choose15 == 65)
	{
	//ReplaceKind
	len = (ht + s2_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_991
	else if (__choose15 == 66)
	{
	//ReplaceKind
	len = (ht - 0) - offset;
	
	}
	#endif
	#ifdef __COMPILE_992
	else if (__choose15 == 67)
	{
	//ReplaceKind
	len = (ht - cmp_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_993
	else if (__choose15 == 68)
	{
	//ReplaceKind
	len = (ht - cs) - offset;
	
	}
	#endif
	#ifdef __COMPILE_994
	else if (__choose15 == 69)
	{
	//ReplaceKind
	len = (ht - len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_995
	else if (__choose15 == 70)
	{
	//ReplaceKind
	len = (ht - offset) - offset;
	
	}
	#endif
	#ifdef __COMPILE_996
	else if (__choose15 == 71)
	{
	//ReplaceKind
	len = (ht - return_value_used) - offset;
	
	}
	#endif
	#ifdef __COMPILE_997
	else if (__choose15 == 72)
	{
	//ReplaceKind
	len = (ht - s1_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_998
	else if (__choose15 == 73)
	{
	//ReplaceKind
	len = (ht - s2_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_999
	else if (__choose15 == 74)
	{
	//ReplaceKind
	len = (ht == 0) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1000
	else if (__choose15 == 75)
	{
	//ReplaceKind
	len = (ht == cmp_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1001
	else if (__choose15 == 76)
	{
	//ReplaceKind
	len = (ht == cs) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1002
	else if (__choose15 == 77)
	{
	//ReplaceKind
	len = (ht == len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1003
	else if (__choose15 == 78)
	{
	//ReplaceKind
	len = (ht == offset) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1004
	else if (__choose15 == 79)
	{
	//ReplaceKind
	len = (ht == return_value_used) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1005
	else if (__choose15 == 80)
	{
	//ReplaceKind
	len = (ht == s1_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1006
	else if (__choose15 == 81)
	{
	//ReplaceKind
	len = (ht == s2_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1007
	else if (__choose15 == 82)
	{
	//ReplaceKind
	len = (ht) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1008
	else if (__choose15 == 83)
	{
	//ReplaceKind
	len = (len != 0) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1009
	else if (__choose15 == 84)
	{
	//ReplaceKind
	len = (len != cmp_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1010
	else if (__choose15 == 85)
	{
	//ReplaceKind
	len = (len != cs) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1011
	else if (__choose15 == 86)
	{
	//ReplaceKind
	len = (len * cmp_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1012
	else if (__choose15 == 87)
	{
	//ReplaceKind
	len = (len * cs) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1013
	else if (__choose15 == 88)
	{
	//ReplaceKind
	len = (len * ht) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1014
	else if (__choose15 == 89)
	{
	//ReplaceKind
	len = (len * offset) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1015
	else if (__choose15 == 90)
	{
	//ReplaceKind
	len = (len * return_value_used) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1016
	else if (__choose15 == 91)
	{
	//ReplaceKind
	len = (len * s1_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1017
	else if (__choose15 == 92)
	{
	//ReplaceKind
	len = (len * s2_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1018
	else if (__choose15 == 93)
	{
	//ReplaceKind
	len = (len + 0) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1019
	else if (__choose15 == 94)
	{
	//ReplaceKind
	len = (len + cmp_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1020
	else if (__choose15 == 95)
	{
	//ReplaceKind
	len = (len + cs) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1021
	else if (__choose15 == 96)
	{
	//ReplaceKind
	len = (len - 0) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1022
	else if (__choose15 == 97)
	{
	//ReplaceKind
	len = (len - cmp_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1023
	else if (__choose15 == 98)
	{
	//ReplaceKind
	len = (len - cs) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1024
	else if (__choose15 == 99)
	{
	//ReplaceKind
	len = (len == 0) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1025
	else if (__choose15 == 100)
	{
	//ReplaceKind
	len = (len == cmp_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1026
	else if (__choose15 == 101)
	{
	//ReplaceKind
	len = (len == cs) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1027
	else if (__choose15 == 102)
	{
	//ReplaceKind
	len = (len);
	
	}
	#endif
	#ifdef __COMPILE_1028
	else if (__choose15 == 103)
	{
	//ReplaceKind
	len = (offset != 0) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1029
	else if (__choose15 == 104)
	{
	//ReplaceKind
	len = (offset != cmp_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1030
	else if (__choose15 == 105)
	{
	//ReplaceKind
	len = (offset != cs) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1031
	else if (__choose15 == 106)
	{
	//ReplaceKind
	len = (offset != len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1032
	else if (__choose15 == 107)
	{
	//ReplaceKind
	len = (offset * cmp_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1033
	else if (__choose15 == 108)
	{
	//ReplaceKind
	len = (offset * cs) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1034
	else if (__choose15 == 109)
	{
	//ReplaceKind
	len = (offset * ht) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1035
	else if (__choose15 == 110)
	{
	//ReplaceKind
	len = (offset * len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1036
	else if (__choose15 == 111)
	{
	//ReplaceKind
	len = (offset * return_value_used) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1037
	else if (__choose15 == 112)
	{
	//ReplaceKind
	len = (offset * s1_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1038
	else if (__choose15 == 113)
	{
	//ReplaceKind
	len = (offset * s2_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1039
	else if (__choose15 == 114)
	{
	//ReplaceKind
	len = (offset + 0) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1040
	else if (__choose15 == 115)
	{
	//ReplaceKind
	len = (offset + cmp_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1041
	else if (__choose15 == 116)
	{
	//ReplaceKind
	len = (offset + cs) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1042
	else if (__choose15 == 117)
	{
	//ReplaceKind
	len = (offset + len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1043
	else if (__choose15 == 118)
	{
	//ReplaceKind
	len = (offset - 0) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1044
	else if (__choose15 == 119)
	{
	//ReplaceKind
	len = (offset - cmp_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1045
	else if (__choose15 == 120)
	{
	//ReplaceKind
	len = (offset - cs) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1046
	else if (__choose15 == 121)
	{
	//ReplaceKind
	len = (offset - len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1047
	else if (__choose15 == 122)
	{
	//ReplaceKind
	len = (offset == 0) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1048
	else if (__choose15 == 123)
	{
	//ReplaceKind
	len = (offset == cmp_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1049
	else if (__choose15 == 124)
	{
	//ReplaceKind
	len = (offset == cs) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1050
	else if (__choose15 == 125)
	{
	//ReplaceKind
	len = (offset == len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1051
	else if (__choose15 == 126)
	{
	//ReplaceKind
	len = (offset);
	
	}
	#endif
	#ifdef __COMPILE_1052
	else if (__choose15 == 127)
	{
	//ReplaceKind
	len = (return_value != 0) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1053
	else if (__choose15 == 128)
	{
	//ReplaceKind
	len = (return_value != this_ptr) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1054
	else if (__choose15 == 129)
	{
	//ReplaceKind
	len = (return_value == 0) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1055
	else if (__choose15 == 130)
	{
	//ReplaceKind
	len = (return_value == this_ptr) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1056
	else if (__choose15 == 131)
	{
	//ReplaceKind
	len = (return_value_ptr != 0) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1057
	else if (__choose15 == 132)
	{
	//ReplaceKind
	len = (return_value_ptr == 0) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1058
	else if (__choose15 == 133)
	{
	//ReplaceKind
	len = (return_value_used != 0) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1059
	else if (__choose15 == 134)
	{
	//ReplaceKind
	len = (return_value_used != cmp_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1060
	else if (__choose15 == 135)
	{
	//ReplaceKind
	len = (return_value_used != cs) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1061
	else if (__choose15 == 136)
	{
	//ReplaceKind
	len = (return_value_used != len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1062
	else if (__choose15 == 137)
	{
	//ReplaceKind
	len = (return_value_used != offset) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1063
	else if (__choose15 == 138)
	{
	//ReplaceKind
	len = (return_value_used != s1_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1064
	else if (__choose15 == 139)
	{
	//ReplaceKind
	len = (return_value_used != s2_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1065
	else if (__choose15 == 140)
	{
	//ReplaceKind
	len = (return_value_used * cmp_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1066
	else if (__choose15 == 141)
	{
	//ReplaceKind
	len = (return_value_used * cs) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1067
	else if (__choose15 == 142)
	{
	//ReplaceKind
	len = (return_value_used * ht) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1068
	else if (__choose15 == 143)
	{
	//ReplaceKind
	len = (return_value_used * len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1069
	else if (__choose15 == 144)
	{
	//ReplaceKind
	len = (return_value_used * offset) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1070
	else if (__choose15 == 145)
	{
	//ReplaceKind
	len = (return_value_used * s1_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1071
	else if (__choose15 == 146)
	{
	//ReplaceKind
	len = (return_value_used * s2_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1072
	else if (__choose15 == 147)
	{
	//ReplaceKind
	len = (return_value_used + 0) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1073
	else if (__choose15 == 148)
	{
	//ReplaceKind
	len = (return_value_used + cmp_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1074
	else if (__choose15 == 149)
	{
	//ReplaceKind
	len = (return_value_used + cs) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1075
	else if (__choose15 == 150)
	{
	//ReplaceKind
	len = (return_value_used + len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1076
	else if (__choose15 == 151)
	{
	//ReplaceKind
	len = (return_value_used + offset) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1077
	else if (__choose15 == 152)
	{
	//ReplaceKind
	len = (return_value_used + s1_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1078
	else if (__choose15 == 153)
	{
	//ReplaceKind
	len = (return_value_used + s2_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1079
	else if (__choose15 == 154)
	{
	//ReplaceKind
	len = (return_value_used - 0) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1080
	else if (__choose15 == 155)
	{
	//ReplaceKind
	len = (return_value_used - cmp_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1081
	else if (__choose15 == 156)
	{
	//ReplaceKind
	len = (return_value_used - cs) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1082
	else if (__choose15 == 157)
	{
	//ReplaceKind
	len = (return_value_used - len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1083
	else if (__choose15 == 158)
	{
	//ReplaceKind
	len = (return_value_used - offset) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1084
	else if (__choose15 == 159)
	{
	//ReplaceKind
	len = (return_value_used - s1_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1085
	else if (__choose15 == 160)
	{
	//ReplaceKind
	len = (return_value_used - s2_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1086
	else if (__choose15 == 161)
	{
	//ReplaceKind
	len = (return_value_used == 0) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1087
	else if (__choose15 == 162)
	{
	//ReplaceKind
	len = (return_value_used == cmp_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1088
	else if (__choose15 == 163)
	{
	//ReplaceKind
	len = (return_value_used == cs) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1089
	else if (__choose15 == 164)
	{
	//ReplaceKind
	len = (return_value_used == len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1090
	else if (__choose15 == 165)
	{
	//ReplaceKind
	len = (return_value_used == offset) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1091
	else if (__choose15 == 166)
	{
	//ReplaceKind
	len = (return_value_used == s1_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1092
	else if (__choose15 == 167)
	{
	//ReplaceKind
	len = (return_value_used == s2_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1093
	else if (__choose15 == 168)
	{
	//ReplaceKind
	len = (return_value_used) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1094
	else if (__choose15 == 169)
	{
	//ReplaceKind
	len = (s1 != 0) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1095
	else if (__choose15 == 170)
	{
	//ReplaceKind
	len = (s1 != s2) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1096
	else if (__choose15 == 171)
	{
	//ReplaceKind
	len = (s1 == 0) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1097
	else if (__choose15 == 172)
	{
	//ReplaceKind
	len = (s1 == s2) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1098
	else if (__choose15 == 173)
	{
	//ReplaceKind
	len = (s1_len != 0) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1099
	else if (__choose15 == 174)
	{
	//ReplaceKind
	len = (s1_len != cmp_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1100
	else if (__choose15 == 175)
	{
	//ReplaceKind
	len = (s1_len != cs) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1101
	else if (__choose15 == 176)
	{
	//ReplaceKind
	len = (s1_len != len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1102
	else if (__choose15 == 177)
	{
	//ReplaceKind
	len = (s1_len != offset) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1103
	else if (__choose15 == 178)
	{
	//ReplaceKind
	len = (s1_len != s2_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1104
	else if (__choose15 == 179)
	{
	//ReplaceKind
	len = (s1_len * cmp_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1105
	else if (__choose15 == 180)
	{
	//ReplaceKind
	len = (s1_len * cs) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1106
	else if (__choose15 == 181)
	{
	//ReplaceKind
	len = (s1_len * ht) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1107
	else if (__choose15 == 182)
	{
	//ReplaceKind
	len = (s1_len * len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1108
	else if (__choose15 == 183)
	{
	//ReplaceKind
	len = (s1_len * offset) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1109
	else if (__choose15 == 184)
	{
	//ReplaceKind
	len = (s1_len * return_value_used) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1110
	else if (__choose15 == 185)
	{
	//ReplaceKind
	len = (s1_len * s2_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1111
	else if (__choose15 == 186)
	{
	//ReplaceKind
	len = (s1_len + 0) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1112
	else if (__choose15 == 187)
	{
	//ReplaceKind
	len = (s1_len + cmp_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1113
	else if (__choose15 == 188)
	{
	//ReplaceKind
	len = (s1_len + cs) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1114
	else if (__choose15 == 189)
	{
	//ReplaceKind
	len = (s1_len + len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1115
	else if (__choose15 == 190)
	{
	//ReplaceKind
	len = (s1_len + offset) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1116
	else if (__choose15 == 191)
	{
	//ReplaceKind
	len = (s1_len + s2_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1117
	else if (__choose15 == 192)
	{
	//ReplaceKind
	len = (s1_len - 0) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1118
	else if (__choose15 == 193)
	{
	//ReplaceKind
	len = (s1_len - cmp_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1119
	else if (__choose15 == 194)
	{
	//ReplaceKind
	len = (s1_len - cs) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1120
	else if (__choose15 == 195)
	{
	//ReplaceKind
	len = (s1_len - len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1121
	else if (__choose15 == 196)
	{
	//ReplaceKind
	len = (s1_len - offset) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1122
	else if (__choose15 == 197)
	{
	//ReplaceKind
	len = (s1_len - s2_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1123
	else if (__choose15 == 198)
	{
	//ReplaceKind
	len = (s1_len == 0) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1124
	else if (__choose15 == 199)
	{
	//ReplaceKind
	len = (s1_len == cmp_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1125
	else if (__choose15 == 200)
	{
	//ReplaceKind
	len = (s1_len == cs) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1126
	else if (__choose15 == 201)
	{
	//ReplaceKind
	len = (s1_len == len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1127
	else if (__choose15 == 202)
	{
	//ReplaceKind
	len = (s1_len == offset) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1128
	else if (__choose15 == 203)
	{
	//ReplaceKind
	len = (s1_len == s2_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1129
	else if (__choose15 == 204)
	{
	//ReplaceKind
	len = (s1_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1130
	else if (__choose15 == 205)
	{
	//ReplaceKind
	len = (s2 != 0) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1131
	else if (__choose15 == 206)
	{
	//ReplaceKind
	len = (s2 == 0) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1132
	else if (__choose15 == 207)
	{
	//ReplaceKind
	len = (s2_len != 0) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1133
	else if (__choose15 == 208)
	{
	//ReplaceKind
	len = (s2_len != cmp_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1134
	else if (__choose15 == 209)
	{
	//ReplaceKind
	len = (s2_len != cs) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1135
	else if (__choose15 == 210)
	{
	//ReplaceKind
	len = (s2_len != len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1136
	else if (__choose15 == 211)
	{
	//ReplaceKind
	len = (s2_len != offset) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1137
	else if (__choose15 == 212)
	{
	//ReplaceKind
	len = (s2_len * cmp_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1138
	else if (__choose15 == 213)
	{
	//ReplaceKind
	len = (s2_len * cs) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1139
	else if (__choose15 == 214)
	{
	//ReplaceKind
	len = (s2_len * ht) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1140
	else if (__choose15 == 215)
	{
	//ReplaceKind
	len = (s2_len * len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1141
	else if (__choose15 == 216)
	{
	//ReplaceKind
	len = (s2_len * offset) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1142
	else if (__choose15 == 217)
	{
	//ReplaceKind
	len = (s2_len * return_value_used) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1143
	else if (__choose15 == 218)
	{
	//ReplaceKind
	len = (s2_len * s1_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1144
	else if (__choose15 == 219)
	{
	//ReplaceKind
	len = (s2_len + 0) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1145
	else if (__choose15 == 220)
	{
	//ReplaceKind
	len = (s2_len + cmp_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1146
	else if (__choose15 == 221)
	{
	//ReplaceKind
	len = (s2_len + cs) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1147
	else if (__choose15 == 222)
	{
	//ReplaceKind
	len = (s2_len + len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1148
	else if (__choose15 == 223)
	{
	//ReplaceKind
	len = (s2_len + offset) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1149
	else if (__choose15 == 224)
	{
	//ReplaceKind
	len = (s2_len - 0) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1150
	else if (__choose15 == 225)
	{
	//ReplaceKind
	len = (s2_len - cmp_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1151
	else if (__choose15 == 226)
	{
	//ReplaceKind
	len = (s2_len - cs) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1152
	else if (__choose15 == 227)
	{
	//ReplaceKind
	len = (s2_len - len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1153
	else if (__choose15 == 228)
	{
	//ReplaceKind
	len = (s2_len - offset) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1154
	else if (__choose15 == 229)
	{
	//ReplaceKind
	len = (s2_len == 0) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1155
	else if (__choose15 == 230)
	{
	//ReplaceKind
	len = (s2_len == cmp_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1156
	else if (__choose15 == 231)
	{
	//ReplaceKind
	len = (s2_len == cs) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1157
	else if (__choose15 == 232)
	{
	//ReplaceKind
	len = (s2_len == len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1158
	else if (__choose15 == 233)
	{
	//ReplaceKind
	len = (s2_len == offset) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1159
	else if (__choose15 == 234)
	{
	//ReplaceKind
	len = (s2_len) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1160
	else if (__choose15 == 235)
	{
	//ReplaceKind
	len = (this_ptr != 0) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1161
	else if (__choose15 == 236)
	{
	//ReplaceKind
	len = (this_ptr == 0) - offset;
	
	}
	#endif
	#ifdef __COMPILE_1162
	else if (__choose15 == 237)
	{
	//ReplaceKind
	len = s1_len - (0 * cmp_len);
	
	}
	#endif
	#ifdef __COMPILE_1163
	else if (__choose15 == 238)
	{
	//ReplaceKind
	len = s1_len - (0 * cs);
	
	}
	#endif
	#ifdef __COMPILE_1164
	else if (__choose15 == 239)
	{
	//ReplaceKind
	len = s1_len - (0 * ht);
	
	}
	#endif
	#ifdef __COMPILE_1165
	else if (__choose15 == 240)
	{
	//ReplaceKind
	len = s1_len - (0 * len);
	
	}
	#endif
	#ifdef __COMPILE_1166
	else if (__choose15 == 241)
	{
	//ReplaceKind
	len = s1_len - (0 * offset);
	
	}
	#endif
	#ifdef __COMPILE_1167
	else if (__choose15 == 242)
	{
	//ReplaceKind
	len = s1_len - (0 * return_value_used);
	
	}
	#endif
	#ifdef __COMPILE_1168
	else if (__choose15 == 243)
	{
	//ReplaceKind
	len = s1_len - (0 * s1_len);
	
	}
	#endif
	#ifdef __COMPILE_1169
	else if (__choose15 == 244)
	{
	//ReplaceKind
	len = s1_len - (0 * s2_len);
	
	}
	#endif
	#ifdef __COMPILE_1170
	else if (__choose15 == 245)
	{
	//ReplaceKind
	len = s1_len - (cmp_len != 0);
	
	}
	#endif
	#ifdef __COMPILE_1171
	else if (__choose15 == 246)
	{
	//ReplaceKind
	len = s1_len - (cmp_len * cs);
	
	}
	#endif
	#ifdef __COMPILE_1172
	else if (__choose15 == 247)
	{
	//ReplaceKind
	len = s1_len - (cmp_len * ht);
	
	}
	#endif
	#ifdef __COMPILE_1173
	else if (__choose15 == 248)
	{
	//ReplaceKind
	len = s1_len - (cmp_len * len);
	
	}
	#endif
	#ifdef __COMPILE_1174
	else if (__choose15 == 249)
	{
	//ReplaceKind
	len = s1_len - (cmp_len * offset);
	
	}
	#endif
	#ifdef __COMPILE_1175
	else if (__choose15 == 250)
	{
	//ReplaceKind
	len = s1_len - (cmp_len * return_value_used);
	
	}
	#endif
	#ifdef __COMPILE_1176
	else if (__choose15 == 251)
	{
	//ReplaceKind
	len = s1_len - (cmp_len * s1_len);
	
	}
	#endif
	#ifdef __COMPILE_1177
	else if (__choose15 == 252)
	{
	//ReplaceKind
	len = s1_len - (cmp_len * s2_len);
	
	}
	#endif
	#ifdef __COMPILE_1178
	else if (__choose15 == 253)
	{
	//ReplaceKind
	len = s1_len - (cmp_len + 0);
	
	}
	#endif
	#ifdef __COMPILE_1179
	else if (__choose15 == 254)
	{
	//ReplaceKind
	len = s1_len - (cmp_len - 0);
	
	}
	#endif
	#ifdef __COMPILE_1180
	else if (__choose15 == 255)
	{
	//ReplaceKind
	len = s1_len - (cmp_len == 0);
	
	}
	#endif
	#ifdef __COMPILE_1181
	else if (__choose15 == 256)
	{
	//ReplaceKind
	len = s1_len - (cs != 0);
	
	}
	#endif
	#ifdef __COMPILE_1182
	else if (__choose15 == 257)
	{
	//ReplaceKind
	len = s1_len - (cs != cmp_len);
	
	}
	#endif
	#ifdef __COMPILE_1183
	else if (__choose15 == 258)
	{
	//ReplaceKind
	len = s1_len - (cs * cmp_len);
	
	}
	#endif
	#ifdef __COMPILE_1184
	else if (__choose15 == 259)
	{
	//ReplaceKind
	len = s1_len - (cs * ht);
	
	}
	#endif
	#ifdef __COMPILE_1185
	else if (__choose15 == 260)
	{
	//ReplaceKind
	len = s1_len - (cs * len);
	
	}
	#endif
	#ifdef __COMPILE_1186
	else if (__choose15 == 261)
	{
	//ReplaceKind
	len = s1_len - (cs * offset);
	
	}
	#endif
	#ifdef __COMPILE_1187
	else if (__choose15 == 262)
	{
	//ReplaceKind
	len = s1_len - (cs * return_value_used);
	
	}
	#endif
	#ifdef __COMPILE_1188
	else if (__choose15 == 263)
	{
	//ReplaceKind
	len = s1_len - (cs * s1_len);
	
	}
	#endif
	#ifdef __COMPILE_1189
	else if (__choose15 == 264)
	{
	//ReplaceKind
	len = s1_len - (cs * s2_len);
	
	}
	#endif
	#ifdef __COMPILE_1190
	else if (__choose15 == 265)
	{
	//ReplaceKind
	len = s1_len - (cs + 0);
	
	}
	#endif
	#ifdef __COMPILE_1191
	else if (__choose15 == 266)
	{
	//ReplaceKind
	len = s1_len - (cs + cmp_len);
	
	}
	#endif
	#ifdef __COMPILE_1192
	else if (__choose15 == 267)
	{
	//ReplaceKind
	len = s1_len - (cs - 0);
	
	}
	#endif
	#ifdef __COMPILE_1193
	else if (__choose15 == 268)
	{
	//ReplaceKind
	len = s1_len - (cs - cmp_len);
	
	}
	#endif
	#ifdef __COMPILE_1194
	else if (__choose15 == 269)
	{
	//ReplaceKind
	len = s1_len - (cs == 0);
	
	}
	#endif
	#ifdef __COMPILE_1195
	else if (__choose15 == 270)
	{
	//ReplaceKind
	len = s1_len - (cs == cmp_len);
	
	}
	#endif
	#ifdef __COMPILE_1196
	else if (__choose15 == 271)
	{
	//ReplaceKind
	len = s1_len - (ht != 0);
	
	}
	#endif
	#ifdef __COMPILE_1197
	else if (__choose15 == 272)
	{
	//ReplaceKind
	len = s1_len - (ht != cmp_len);
	
	}
	#endif
	#ifdef __COMPILE_1198
	else if (__choose15 == 273)
	{
	//ReplaceKind
	len = s1_len - (ht != cs);
	
	}
	#endif
	#ifdef __COMPILE_1199
	else if (__choose15 == 274)
	{
	//ReplaceKind
	len = s1_len - (ht != len);
	
	}
	#endif
	#ifdef __COMPILE_1200
	else if (__choose15 == 275)
	{
	//ReplaceKind
	len = s1_len - (ht != offset);
	
	}
	#endif
	#ifdef __COMPILE_1201
	else if (__choose15 == 276)
	{
	//ReplaceKind
	len = s1_len - (ht != return_value_used);
	
	}
	#endif
	#ifdef __COMPILE_1202
	else if (__choose15 == 277)
	{
	//ReplaceKind
	len = s1_len - (ht != s1_len);
	
	}
	#endif
	#ifdef __COMPILE_1203
	else if (__choose15 == 278)
	{
	//ReplaceKind
	len = s1_len - (ht != s2_len);
	
	}
	#endif
	#ifdef __COMPILE_1204
	else if (__choose15 == 279)
	{
	//ReplaceKind
	len = s1_len - (ht * cmp_len);
	
	}
	#endif
	#ifdef __COMPILE_1205
	else if (__choose15 == 280)
	{
	//ReplaceKind
	len = s1_len - (ht * cs);
	
	}
	#endif
	#ifdef __COMPILE_1206
	else if (__choose15 == 281)
	{
	//ReplaceKind
	len = s1_len - (ht * len);
	
	}
	#endif
	#ifdef __COMPILE_1207
	else if (__choose15 == 282)
	{
	//ReplaceKind
	len = s1_len - (ht * offset);
	
	}
	#endif
	#ifdef __COMPILE_1208
	else if (__choose15 == 283)
	{
	//ReplaceKind
	len = s1_len - (ht * return_value_used);
	
	}
	#endif
	#ifdef __COMPILE_1209
	else if (__choose15 == 284)
	{
	//ReplaceKind
	len = s1_len - (ht * s1_len);
	
	}
	#endif
	#ifdef __COMPILE_1210
	else if (__choose15 == 285)
	{
	//ReplaceKind
	len = s1_len - (ht * s2_len);
	
	}
	#endif
	#ifdef __COMPILE_1211
	else if (__choose15 == 286)
	{
	//ReplaceKind
	len = s1_len - (ht + 0);
	
	}
	#endif
	#ifdef __COMPILE_1212
	else if (__choose15 == 287)
	{
	//ReplaceKind
	len = s1_len - (ht + cmp_len);
	
	}
	#endif
	#ifdef __COMPILE_1213
	else if (__choose15 == 288)
	{
	//ReplaceKind
	len = s1_len - (ht + cs);
	
	}
	#endif
	#ifdef __COMPILE_1214
	else if (__choose15 == 289)
	{
	//ReplaceKind
	len = s1_len - (ht + len);
	
	}
	#endif
	#ifdef __COMPILE_1215
	else if (__choose15 == 290)
	{
	//ReplaceKind
	len = s1_len - (ht + offset);
	
	}
	#endif
	#ifdef __COMPILE_1216
	else if (__choose15 == 291)
	{
	//ReplaceKind
	len = s1_len - (ht + return_value_used);
	
	}
	#endif
	#ifdef __COMPILE_1217
	else if (__choose15 == 292)
	{
	//ReplaceKind
	len = s1_len - (ht + s1_len);
	
	}
	#endif
	#ifdef __COMPILE_1218
	else if (__choose15 == 293)
	{
	//ReplaceKind
	len = s1_len - (ht + s2_len);
	
	}
	#endif
	#ifdef __COMPILE_1219
	else if (__choose15 == 294)
	{
	//ReplaceKind
	len = s1_len - (ht - 0);
	
	}
	#endif
	#ifdef __COMPILE_1220
	else if (__choose15 == 295)
	{
	//ReplaceKind
	len = s1_len - (ht - cmp_len);
	
	}
	#endif
	#ifdef __COMPILE_1221
	else if (__choose15 == 296)
	{
	//ReplaceKind
	len = s1_len - (ht - cs);
	
	}
	#endif
	#ifdef __COMPILE_1222
	else if (__choose15 == 297)
	{
	//ReplaceKind
	len = s1_len - (ht - len);
	
	}
	#endif
	#ifdef __COMPILE_1223
	else if (__choose15 == 298)
	{
	//ReplaceKind
	len = s1_len - (ht - offset);
	
	}
	#endif
	#ifdef __COMPILE_1224
	else if (__choose15 == 299)
	{
	//ReplaceKind
	len = s1_len - (ht - return_value_used);
	
	}
	#endif
	#ifdef __COMPILE_1225
	else if (__choose15 == 300)
	{
	//ReplaceKind
	len = s1_len - (ht - s1_len);
	
	}
	#endif
	#ifdef __COMPILE_1226
	else if (__choose15 == 301)
	{
	//ReplaceKind
	len = s1_len - (ht - s2_len);
	
	}
	#endif
	#ifdef __COMPILE_1227
	else if (__choose15 == 302)
	{
	//ReplaceKind
	len = s1_len - (ht == 0);
	
	}
	#endif
	#ifdef __COMPILE_1228
	else if (__choose15 == 303)
	{
	//ReplaceKind
	len = s1_len - (ht == cmp_len);
	
	}
	#endif
	#ifdef __COMPILE_1229
	else if (__choose15 == 304)
	{
	//ReplaceKind
	len = s1_len - (ht == cs);
	
	}
	#endif
	#ifdef __COMPILE_1230
	else if (__choose15 == 305)
	{
	//ReplaceKind
	len = s1_len - (ht == len);
	
	}
	#endif
	#ifdef __COMPILE_1231
	else if (__choose15 == 306)
	{
	//ReplaceKind
	len = s1_len - (ht == offset);
	
	}
	#endif
	#ifdef __COMPILE_1232
	else if (__choose15 == 307)
	{
	//ReplaceKind
	len = s1_len - (ht == return_value_used);
	
	}
	#endif
	#ifdef __COMPILE_1233
	else if (__choose15 == 308)
	{
	//ReplaceKind
	len = s1_len - (ht == s1_len);
	
	}
	#endif
	#ifdef __COMPILE_1234
	else if (__choose15 == 309)
	{
	//ReplaceKind
	len = s1_len - (ht == s2_len);
	
	}
	#endif
	#ifdef __COMPILE_1235
	else if (__choose15 == 310)
	{
	//ReplaceKind
	len = s1_len - (len != 0);
	
	}
	#endif
	#ifdef __COMPILE_1236
	else if (__choose15 == 311)
	{
	//ReplaceKind
	len = s1_len - (len != cmp_len);
	
	}
	#endif
	#ifdef __COMPILE_1237
	else if (__choose15 == 312)
	{
	//ReplaceKind
	len = s1_len - (len != cs);
	
	}
	#endif
	#ifdef __COMPILE_1238
	else if (__choose15 == 313)
	{
	//ReplaceKind
	len = s1_len - (len * cmp_len);
	
	}
	#endif
	#ifdef __COMPILE_1239
	else if (__choose15 == 314)
	{
	//ReplaceKind
	len = s1_len - (len * cs);
	
	}
	#endif
	#ifdef __COMPILE_1240
	else if (__choose15 == 315)
	{
	//ReplaceKind
	len = s1_len - (len * ht);
	
	}
	#endif
	#ifdef __COMPILE_1241
	else if (__choose15 == 316)
	{
	//ReplaceKind
	len = s1_len - (len * offset);
	
	}
	#endif
	#ifdef __COMPILE_1242
	else if (__choose15 == 317)
	{
	//ReplaceKind
	len = s1_len - (len * return_value_used);
	
	}
	#endif
	#ifdef __COMPILE_1243
	else if (__choose15 == 318)
	{
	//ReplaceKind
	len = s1_len - (len * s1_len);
	
	}
	#endif
	#ifdef __COMPILE_1244
	else if (__choose15 == 319)
	{
	//ReplaceKind
	len = s1_len - (len * s2_len);
	
	}
	#endif
	#ifdef __COMPILE_1245
	else if (__choose15 == 320)
	{
	//ReplaceKind
	len = s1_len - (len + 0);
	
	}
	#endif
	#ifdef __COMPILE_1246
	else if (__choose15 == 321)
	{
	//ReplaceKind
	len = s1_len - (len + cmp_len);
	
	}
	#endif
	#ifdef __COMPILE_1247
	else if (__choose15 == 322)
	{
	//ReplaceKind
	len = s1_len - (len + cs);
	
	}
	#endif
	#ifdef __COMPILE_1248
	else if (__choose15 == 323)
	{
	//ReplaceKind
	len = s1_len - (len - 0);
	
	}
	#endif
	#ifdef __COMPILE_1249
	else if (__choose15 == 324)
	{
	//ReplaceKind
	len = s1_len - (len - cmp_len);
	
	}
	#endif
	#ifdef __COMPILE_1250
	else if (__choose15 == 325)
	{
	//ReplaceKind
	len = s1_len - (len - cs);
	
	}
	#endif
	#ifdef __COMPILE_1251
	else if (__choose15 == 326)
	{
	//ReplaceKind
	len = s1_len - (len == 0);
	
	}
	#endif
	#ifdef __COMPILE_1252
	else if (__choose15 == 327)
	{
	//ReplaceKind
	len = s1_len - (len == cmp_len);
	
	}
	#endif
	#ifdef __COMPILE_1253
	else if (__choose15 == 328)
	{
	//ReplaceKind
	len = s1_len - (len == cs);
	
	}
	#endif
	#ifdef __COMPILE_1254
	else if (__choose15 == 329)
	{
	//ReplaceKind
	len = s1_len - (len);
	
	}
	#endif
	#ifdef __COMPILE_1255
	else if (__choose15 == 330)
	{
	//ReplaceKind
	len = s1_len - (offset != 0);
	
	}
	#endif
	#ifdef __COMPILE_1256
	else if (__choose15 == 331)
	{
	//ReplaceKind
	len = s1_len - (offset != cmp_len);
	
	}
	#endif
	#ifdef __COMPILE_1257
	else if (__choose15 == 332)
	{
	//ReplaceKind
	len = s1_len - (offset != cs);
	
	}
	#endif
	#ifdef __COMPILE_1258
	else if (__choose15 == 333)
	{
	//ReplaceKind
	len = s1_len - (offset != len);
	
	}
	#endif
	#ifdef __COMPILE_1259
	else if (__choose15 == 334)
	{
	//ReplaceKind
	len = s1_len - (offset * cmp_len);
	
	}
	#endif
	#ifdef __COMPILE_1260
	else if (__choose15 == 335)
	{
	//ReplaceKind
	len = s1_len - (offset * cs);
	
	}
	#endif
	#ifdef __COMPILE_1261
	else if (__choose15 == 336)
	{
	//ReplaceKind
	len = s1_len - (offset * ht);
	
	}
	#endif
	#ifdef __COMPILE_1262
	else if (__choose15 == 337)
	{
	//ReplaceKind
	len = s1_len - (offset * len);
	
	}
	#endif
	#ifdef __COMPILE_1263
	else if (__choose15 == 338)
	{
	//ReplaceKind
	len = s1_len - (offset * return_value_used);
	
	}
	#endif
	#ifdef __COMPILE_1264
	else if (__choose15 == 339)
	{
	//ReplaceKind
	len = s1_len - (offset * s1_len);
	
	}
	#endif
	#ifdef __COMPILE_1265
	else if (__choose15 == 340)
	{
	//ReplaceKind
	len = s1_len - (offset * s2_len);
	
	}
	#endif
	#ifdef __COMPILE_1266
	else if (__choose15 == 341)
	{
	//ReplaceKind
	len = s1_len - (offset + 0);
	
	}
	#endif
	#ifdef __COMPILE_1267
	else if (__choose15 == 342)
	{
	//ReplaceKind
	len = s1_len - (offset + cmp_len);
	
	}
	#endif
	#ifdef __COMPILE_1268
	else if (__choose15 == 343)
	{
	//ReplaceKind
	len = s1_len - (offset + cs);
	
	}
	#endif
	#ifdef __COMPILE_1269
	else if (__choose15 == 344)
	{
	//ReplaceKind
	len = s1_len - (offset + len);
	
	}
	#endif
	#ifdef __COMPILE_1270
	else if (__choose15 == 345)
	{
	//ReplaceKind
	len = s1_len - (offset - 0);
	
	}
	#endif
	#ifdef __COMPILE_1271
	else if (__choose15 == 346)
	{
	//ReplaceKind
	len = s1_len - (offset - cmp_len);
	
	}
	#endif
	#ifdef __COMPILE_1272
	else if (__choose15 == 347)
	{
	//ReplaceKind
	len = s1_len - (offset - cs);
	
	}
	#endif
	#ifdef __COMPILE_1273
	else if (__choose15 == 348)
	{
	//ReplaceKind
	len = s1_len - (offset - len);
	
	}
	#endif
	#ifdef __COMPILE_1274
	else if (__choose15 == 349)
	{
	//ReplaceKind
	len = s1_len - (offset == 0);
	
	}
	#endif
	#ifdef __COMPILE_1275
	else if (__choose15 == 350)
	{
	//ReplaceKind
	len = s1_len - (offset == cmp_len);
	
	}
	#endif
	#ifdef __COMPILE_1276
	else if (__choose15 == 351)
	{
	//ReplaceKind
	len = s1_len - (offset == cs);
	
	}
	#endif
	#ifdef __COMPILE_1277
	else if (__choose15 == 352)
	{
	//ReplaceKind
	len = s1_len - (offset == len);
	
	}
	#endif
	#ifdef __COMPILE_1278
	else if (__choose15 == 353)
	{
	//ReplaceKind
	len = s1_len - (offset);
	
	}
	#endif
	#ifdef __COMPILE_1279
	else if (__choose15 == 354)
	{
	//ReplaceKind
	len = s1_len - (return_value != 0);
	
	}
	#endif
	#ifdef __COMPILE_1280
	else if (__choose15 == 355)
	{
	//ReplaceKind
	len = s1_len - (return_value != this_ptr);
	
	}
	#endif
	#ifdef __COMPILE_1281
	else if (__choose15 == 356)
	{
	//ReplaceKind
	len = s1_len - (return_value == 0);
	
	}
	#endif
	#ifdef __COMPILE_1282
	else if (__choose15 == 357)
	{
	//ReplaceKind
	len = s1_len - (return_value == this_ptr);
	
	}
	#endif
	#ifdef __COMPILE_1283
	else if (__choose15 == 358)
	{
	//ReplaceKind
	len = s1_len - (return_value_ptr != 0);
	
	}
	#endif
	#ifdef __COMPILE_1284
	else if (__choose15 == 359)
	{
	//ReplaceKind
	len = s1_len - (return_value_ptr == 0);
	
	}
	#endif
	#ifdef __COMPILE_1285
	else if (__choose15 == 360)
	{
	//ReplaceKind
	len = s1_len - (return_value_used != 0);
	
	}
	#endif
	#ifdef __COMPILE_1286
	else if (__choose15 == 361)
	{
	//ReplaceKind
	len = s1_len - (return_value_used != cmp_len);
	
	}
	#endif
	#ifdef __COMPILE_1287
	else if (__choose15 == 362)
	{
	//ReplaceKind
	len = s1_len - (return_value_used != cs);
	
	}
	#endif
	#ifdef __COMPILE_1288
	else if (__choose15 == 363)
	{
	//ReplaceKind
	len = s1_len - (return_value_used != len);
	
	}
	#endif
	#ifdef __COMPILE_1289
	else if (__choose15 == 364)
	{
	//ReplaceKind
	len = s1_len - (return_value_used != offset);
	
	}
	#endif
	#ifdef __COMPILE_1290
	else if (__choose15 == 365)
	{
	//ReplaceKind
	len = s1_len - (return_value_used != s1_len);
	
	}
	#endif
	#ifdef __COMPILE_1291
	else if (__choose15 == 366)
	{
	//ReplaceKind
	len = s1_len - (return_value_used != s2_len);
	
	}
	#endif
	#ifdef __COMPILE_1292
	else if (__choose15 == 367)
	{
	//ReplaceKind
	len = s1_len - (return_value_used * cmp_len);
	
	}
	#endif
	#ifdef __COMPILE_1293
	else if (__choose15 == 368)
	{
	//ReplaceKind
	len = s1_len - (return_value_used * cs);
	
	}
	#endif
	#ifdef __COMPILE_1294
	else if (__choose15 == 369)
	{
	//ReplaceKind
	len = s1_len - (return_value_used * ht);
	
	}
	#endif
	#ifdef __COMPILE_1295
	else if (__choose15 == 370)
	{
	//ReplaceKind
	len = s1_len - (return_value_used * len);
	
	}
	#endif
	#ifdef __COMPILE_1296
	else if (__choose15 == 371)
	{
	//ReplaceKind
	len = s1_len - (return_value_used * offset);
	
	}
	#endif
	#ifdef __COMPILE_1297
	else if (__choose15 == 372)
	{
	//ReplaceKind
	len = s1_len - (return_value_used * s1_len);
	
	}
	#endif
	#ifdef __COMPILE_1298
	else if (__choose15 == 373)
	{
	//ReplaceKind
	len = s1_len - (return_value_used * s2_len);
	
	}
	#endif
	#ifdef __COMPILE_1299
	else if (__choose15 == 374)
	{
	//ReplaceKind
	len = s1_len - (return_value_used + 0);
	
	}
	#endif
	#ifdef __COMPILE_1300
	else if (__choose15 == 375)
	{
	//ReplaceKind
	len = s1_len - (return_value_used + cmp_len);
	
	}
	#endif
	#ifdef __COMPILE_1301
	else if (__choose15 == 376)
	{
	//ReplaceKind
	len = s1_len - (return_value_used + cs);
	
	}
	#endif
	#ifdef __COMPILE_1302
	else if (__choose15 == 377)
	{
	//ReplaceKind
	len = s1_len - (return_value_used + len);
	
	}
	#endif
	#ifdef __COMPILE_1303
	else if (__choose15 == 378)
	{
	//ReplaceKind
	len = s1_len - (return_value_used + offset);
	
	}
	#endif
	#ifdef __COMPILE_1304
	else if (__choose15 == 379)
	{
	//ReplaceKind
	len = s1_len - (return_value_used + s1_len);
	
	}
	#endif
	#ifdef __COMPILE_1305
	else if (__choose15 == 380)
	{
	//ReplaceKind
	len = s1_len - (return_value_used + s2_len);
	
	}
	#endif
	#ifdef __COMPILE_1306
	else if (__choose15 == 381)
	{
	//ReplaceKind
	len = s1_len - (return_value_used - 0);
	
	}
	#endif
	#ifdef __COMPILE_1307
	else if (__choose15 == 382)
	{
	//ReplaceKind
	len = s1_len - (return_value_used - cmp_len);
	
	}
	#endif
	#ifdef __COMPILE_1308
	else if (__choose15 == 383)
	{
	//ReplaceKind
	len = s1_len - (return_value_used - cs);
	
	}
	#endif
	#ifdef __COMPILE_1309
	else if (__choose15 == 384)
	{
	//ReplaceKind
	len = s1_len - (return_value_used - len);
	
	}
	#endif
	#ifdef __COMPILE_1310
	else if (__choose15 == 385)
	{
	//ReplaceKind
	len = s1_len - (return_value_used - offset);
	
	}
	#endif
	#ifdef __COMPILE_1311
	else if (__choose15 == 386)
	{
	//ReplaceKind
	len = s1_len - (return_value_used - s1_len);
	
	}
	#endif
	#ifdef __COMPILE_1312
	else if (__choose15 == 387)
	{
	//ReplaceKind
	len = s1_len - (return_value_used - s2_len);
	
	}
	#endif
	#ifdef __COMPILE_1313
	else if (__choose15 == 388)
	{
	//ReplaceKind
	len = s1_len - (return_value_used == 0);
	
	}
	#endif
	#ifdef __COMPILE_1314
	else if (__choose15 == 389)
	{
	//ReplaceKind
	len = s1_len - (return_value_used == cmp_len);
	
	}
	#endif
	#ifdef __COMPILE_1315
	else if (__choose15 == 390)
	{
	//ReplaceKind
	len = s1_len - (return_value_used == cs);
	
	}
	#endif
	#ifdef __COMPILE_1316
	else if (__choose15 == 391)
	{
	//ReplaceKind
	len = s1_len - (return_value_used == len);
	
	}
	#endif
	#ifdef __COMPILE_1317
	else if (__choose15 == 392)
	{
	//ReplaceKind
	len = s1_len - (return_value_used == offset);
	
	}
	#endif
	#ifdef __COMPILE_1318
	else if (__choose15 == 393)
	{
	//ReplaceKind
	len = s1_len - (return_value_used == s1_len);
	
	}
	#endif
	#ifdef __COMPILE_1319
	else if (__choose15 == 394)
	{
	//ReplaceKind
	len = s1_len - (return_value_used == s2_len);
	
	}
	#endif
	#ifdef __COMPILE_1320
	else if (__choose15 == 395)
	{
	//ReplaceKind
	len = s1_len - (s1 != 0);
	
	}
	#endif
	#ifdef __COMPILE_1321
	else if (__choose15 == 396)
	{
	//ReplaceKind
	len = s1_len - (s1 != s2);
	
	}
	#endif
	#ifdef __COMPILE_1322
	else if (__choose15 == 397)
	{
	//ReplaceKind
	len = s1_len - (s1 == 0);
	
	}
	#endif
	#ifdef __COMPILE_1323
	else if (__choose15 == 398)
	{
	//ReplaceKind
	len = s1_len - (s1 == s2);
	
	}
	#endif
	#ifdef __COMPILE_1324
	else if (__choose15 == 399)
	{
	//ReplaceKind
	len = s1_len - (s1_len != 0);
	
	}
	#endif
	#ifdef __COMPILE_1325
	else if (__choose15 == 400)
	{
	//ReplaceKind
	len = s1_len - (s1_len != cmp_len);
	
	}
	#endif
	#ifdef __COMPILE_1326
	else if (__choose15 == 401)
	{
	//ReplaceKind
	len = s1_len - (s1_len != cs);
	
	}
	#endif
	#ifdef __COMPILE_1327
	else if (__choose15 == 402)
	{
	//ReplaceKind
	len = s1_len - (s1_len != len);
	
	}
	#endif
	#ifdef __COMPILE_1328
	else if (__choose15 == 403)
	{
	//ReplaceKind
	len = s1_len - (s1_len != offset);
	
	}
	#endif
	#ifdef __COMPILE_1329
	else if (__choose15 == 404)
	{
	//ReplaceKind
	len = s1_len - (s1_len != s2_len);
	
	}
	#endif
	#ifdef __COMPILE_1330
	else if (__choose15 == 405)
	{
	//ReplaceKind
	len = s1_len - (s1_len * cmp_len);
	
	}
	#endif
	#ifdef __COMPILE_1331
	else if (__choose15 == 406)
	{
	//ReplaceKind
	len = s1_len - (s1_len * cs);
	
	}
	#endif
	#ifdef __COMPILE_1332
	else if (__choose15 == 407)
	{
	//ReplaceKind
	len = s1_len - (s1_len * ht);
	
	}
	#endif
	#ifdef __COMPILE_1333
	else if (__choose15 == 408)
	{
	//ReplaceKind
	len = s1_len - (s1_len * len);
	
	}
	#endif
	#ifdef __COMPILE_1334
	else if (__choose15 == 409)
	{
	//ReplaceKind
	len = s1_len - (s1_len * offset);
	
	}
	#endif
	#ifdef __COMPILE_1335
	else if (__choose15 == 410)
	{
	//ReplaceKind
	len = s1_len - (s1_len * return_value_used);
	
	}
	#endif
	#ifdef __COMPILE_1336
	else if (__choose15 == 411)
	{
	//ReplaceKind
	len = s1_len - (s1_len * s2_len);
	
	}
	#endif
	#ifdef __COMPILE_1337
	else if (__choose15 == 412)
	{
	//ReplaceKind
	len = s1_len - (s1_len + 0);
	
	}
	#endif
	#ifdef __COMPILE_1338
	else if (__choose15 == 413)
	{
	//ReplaceKind
	len = s1_len - (s1_len + cmp_len);
	
	}
	#endif
	#ifdef __COMPILE_1339
	else if (__choose15 == 414)
	{
	//ReplaceKind
	len = s1_len - (s1_len + cs);
	
	}
	#endif
	#ifdef __COMPILE_1340
	else if (__choose15 == 415)
	{
	//ReplaceKind
	len = s1_len - (s1_len + len);
	
	}
	#endif
	#ifdef __COMPILE_1341
	else if (__choose15 == 416)
	{
	//ReplaceKind
	len = s1_len - (s1_len + offset);
	
	}
	#endif
	#ifdef __COMPILE_1342
	else if (__choose15 == 417)
	{
	//ReplaceKind
	len = s1_len - (s1_len + s2_len);
	
	}
	#endif
	#ifdef __COMPILE_1343
	else if (__choose15 == 418)
	{
	//ReplaceKind
	len = s1_len - (s1_len - 0);
	
	}
	#endif
	#ifdef __COMPILE_1344
	else if (__choose15 == 419)
	{
	//ReplaceKind
	len = s1_len - (s1_len - cmp_len);
	
	}
	#endif
	#ifdef __COMPILE_1345
	else if (__choose15 == 420)
	{
	//ReplaceKind
	len = s1_len - (s1_len - cs);
	
	}
	#endif
	#ifdef __COMPILE_1346
	else if (__choose15 == 421)
	{
	//ReplaceKind
	len = s1_len - (s1_len - len);
	
	}
	#endif
	#ifdef __COMPILE_1347
	else if (__choose15 == 422)
	{
	//ReplaceKind
	len = s1_len - (s1_len - offset);
	
	}
	#endif
	#ifdef __COMPILE_1348
	else if (__choose15 == 423)
	{
	//ReplaceKind
	len = s1_len - (s1_len - s2_len);
	
	}
	#endif
	#ifdef __COMPILE_1349
	else if (__choose15 == 424)
	{
	//ReplaceKind
	len = s1_len - (s1_len == 0);
	
	}
	#endif
	#ifdef __COMPILE_1350
	else if (__choose15 == 425)
	{
	//ReplaceKind
	len = s1_len - (s1_len == cmp_len);
	
	}
	#endif
	#ifdef __COMPILE_1351
	else if (__choose15 == 426)
	{
	//ReplaceKind
	len = s1_len - (s1_len == cs);
	
	}
	#endif
	#ifdef __COMPILE_1352
	else if (__choose15 == 427)
	{
	//ReplaceKind
	len = s1_len - (s1_len == len);
	
	}
	#endif
	#ifdef __COMPILE_1353
	else if (__choose15 == 428)
	{
	//ReplaceKind
	len = s1_len - (s1_len == offset);
	
	}
	#endif
	#ifdef __COMPILE_1354
	else if (__choose15 == 429)
	{
	//ReplaceKind
	len = s1_len - (s1_len == s2_len);
	
	}
	#endif
	#ifdef __COMPILE_1355
	else if (__choose15 == 430)
	{
	//ReplaceKind
	len = s1_len - (s2 != 0);
	
	}
	#endif
	#ifdef __COMPILE_1356
	else if (__choose15 == 431)
	{
	//ReplaceKind
	len = s1_len - (s2 == 0);
	
	}
	#endif
	#ifdef __COMPILE_1357
	else if (__choose15 == 432)
	{
	//ReplaceKind
	len = s1_len - (s2_len != 0);
	
	}
	#endif
	#ifdef __COMPILE_1358
	else if (__choose15 == 433)
	{
	//ReplaceKind
	len = s1_len - (s2_len != cmp_len);
	
	}
	#endif
	#ifdef __COMPILE_1359
	else if (__choose15 == 434)
	{
	//ReplaceKind
	len = s1_len - (s2_len != cs);
	
	}
	#endif
	#ifdef __COMPILE_1360
	else if (__choose15 == 435)
	{
	//ReplaceKind
	len = s1_len - (s2_len != len);
	
	}
	#endif
	#ifdef __COMPILE_1361
	else if (__choose15 == 436)
	{
	//ReplaceKind
	len = s1_len - (s2_len != offset);
	
	}
	#endif
	#ifdef __COMPILE_1362
	else if (__choose15 == 437)
	{
	//ReplaceKind
	len = s1_len - (s2_len * cmp_len);
	
	}
	#endif
	#ifdef __COMPILE_1363
	else if (__choose15 == 438)
	{
	//ReplaceKind
	len = s1_len - (s2_len * cs);
	
	}
	#endif
	#ifdef __COMPILE_1364
	else if (__choose15 == 439)
	{
	//ReplaceKind
	len = s1_len - (s2_len * ht);
	
	}
	#endif
	#ifdef __COMPILE_1365
	else if (__choose15 == 440)
	{
	//ReplaceKind
	len = s1_len - (s2_len * len);
	
	}
	#endif
	#ifdef __COMPILE_1366
	else if (__choose15 == 441)
	{
	//ReplaceKind
	len = s1_len - (s2_len * offset);
	
	}
	#endif
	#ifdef __COMPILE_1367
	else if (__choose15 == 442)
	{
	//ReplaceKind
	len = s1_len - (s2_len * return_value_used);
	
	}
	#endif
	#ifdef __COMPILE_1368
	else if (__choose15 == 443)
	{
	//ReplaceKind
	len = s1_len - (s2_len * s1_len);
	
	}
	#endif
	#ifdef __COMPILE_1369
	else if (__choose15 == 444)
	{
	//ReplaceKind
	len = s1_len - (s2_len + 0);
	
	}
	#endif
	#ifdef __COMPILE_1370
	else if (__choose15 == 445)
	{
	//ReplaceKind
	len = s1_len - (s2_len + cmp_len);
	
	}
	#endif
	#ifdef __COMPILE_1371
	else if (__choose15 == 446)
	{
	//ReplaceKind
	len = s1_len - (s2_len + cs);
	
	}
	#endif
	#ifdef __COMPILE_1372
	else if (__choose15 == 447)
	{
	//ReplaceKind
	len = s1_len - (s2_len + len);
	
	}
	#endif
	#ifdef __COMPILE_1373
	else if (__choose15 == 448)
	{
	//ReplaceKind
	len = s1_len - (s2_len + offset);
	
	}
	#endif
	#ifdef __COMPILE_1374
	else if (__choose15 == 449)
	{
	//ReplaceKind
	len = s1_len - (s2_len - 0);
	
	}
	#endif
	#ifdef __COMPILE_1375
	else if (__choose15 == 450)
	{
	//ReplaceKind
	len = s1_len - (s2_len - cmp_len);
	
	}
	#endif
	#ifdef __COMPILE_1376
	else if (__choose15 == 451)
	{
	//ReplaceKind
	len = s1_len - (s2_len - cs);
	
	}
	#endif
	#ifdef __COMPILE_1377
	else if (__choose15 == 452)
	{
	//ReplaceKind
	len = s1_len - (s2_len - len);
	
	}
	#endif
	#ifdef __COMPILE_1378
	else if (__choose15 == 453)
	{
	//ReplaceKind
	len = s1_len - (s2_len - offset);
	
	}
	#endif
	#ifdef __COMPILE_1379
	else if (__choose15 == 454)
	{
	//ReplaceKind
	len = s1_len - (s2_len == 0);
	
	}
	#endif
	#ifdef __COMPILE_1380
	else if (__choose15 == 455)
	{
	//ReplaceKind
	len = s1_len - (s2_len == cmp_len);
	
	}
	#endif
	#ifdef __COMPILE_1381
	else if (__choose15 == 456)
	{
	//ReplaceKind
	len = s1_len - (s2_len == cs);
	
	}
	#endif
	#ifdef __COMPILE_1382
	else if (__choose15 == 457)
	{
	//ReplaceKind
	len = s1_len - (s2_len == len);
	
	}
	#endif
	#ifdef __COMPILE_1383
	else if (__choose15 == 458)
	{
	//ReplaceKind
	len = s1_len - (s2_len == offset);
	
	}
	#endif
	#ifdef __COMPILE_1384
	else if (__choose15 == 459)
	{
	//ReplaceKind
	len = s1_len - (this_ptr != 0);
	
	}
	#endif
	#ifdef __COMPILE_1385
	else if (__choose15 == 460)
	{
	//ReplaceKind
	len = s1_len - (this_ptr == 0);
	
	}
	#endif
	}
		}
	
	}
	#ifdef __COMPILE_1386
	else if (__choose16 == 1)
	{
	//GuardKind
	if (!__is_neg("16-1", "L5256", 10, &(s1_len), sizeof (s1_len), &(offset), sizeof (offset), &(len), sizeof (len), &(return_value), sizeof (return_value), &(s2_len), sizeof (s2_len), &(cmp_len), sizeof (cmp_len), &(cs), sizeof (cs), &(s1), sizeof (s1), &(s2), sizeof (s2), &(ht), sizeof (ht)))
	    if (len > s1_len - offset) {
	        len = s1_len - offset;
	    }
	
	}
	#endif
	}
	}

	//prophet generated patch
	{
	int __choose17 = __choose("__SWITCH17");
	if (__choose17 == 0)
	{}
	#ifdef __COMPILE_1387
	else if (__choose17 == 1)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.locale_string) = (s1);
	}
	#endif
	#ifdef __COMPILE_1388
	else if (__choose17 == 2)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.locale_string) = (s2);
	}
	#endif
	#ifdef __COMPILE_1389
	else if (__choose17 == 3)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.locale_string) = _estrdup(((s1)));
	}
	#endif
	#ifdef __COMPILE_1390
	else if (__choose17 == 4)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.locale_string) = _estrdup(((s2)));
	}
	#endif
	#ifdef __COMPILE_1391
	else if (__choose17 == 5)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_last) = (*(return_value)).value.str.val;
	}
	#endif
	#ifdef __COMPILE_1392
	else if (__choose17 == 6)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_last) = (*(this_ptr)).value.str.val;
	}
	#endif
	#ifdef __COMPILE_1393
	else if (__choose17 == 7)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_last) = (s1) + 1;
	}
	#endif
	#ifdef __COMPILE_1394
	else if (__choose17 == 8)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_last) = (s1);
	}
	#endif
	#ifdef __COMPILE_1395
	else if (__choose17 == 9)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_last) = (s2) + 1;
	}
	#endif
	#ifdef __COMPILE_1396
	else if (__choose17 == 10)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_last) = (s2);
	}
	#endif
	#ifdef __COMPILE_1397
	else if (__choose17 == 11)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_len) = (-1);
	}
	#endif
	#ifdef __COMPILE_1398
	else if (__choose17 == 12)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_len) = (0);
	}
	#endif
	#ifdef __COMPILE_1399
	else if (__choose17 == 13)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_len) = (1);
	}
	#endif
	#ifdef __COMPILE_1400
	else if (__choose17 == 14)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_len) = (2);
	}
	#endif
	#ifdef __COMPILE_1401
	else if (__choose17 == 15)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_len) = (3);
	}
	#endif
	#ifdef __COMPILE_1402
	else if (__choose17 == 16)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_len) = (4);
	}
	#endif
	#ifdef __COMPILE_1403
	else if (__choose17 == 17)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_string) = (*(return_value)).value.str.val;
	}
	#endif
	#ifdef __COMPILE_1404
	else if (__choose17 == 18)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_string) = (*(this_ptr)).value.str.val;
	}
	#endif
	#ifdef __COMPILE_1405
	else if (__choose17 == 19)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_string) = (s1);
	}
	#endif
	#ifdef __COMPILE_1406
	else if (__choose17 == 20)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_string) = (s2);
	}
	#endif
	#ifdef __COMPILE_1407
	else if (__choose17 == 21)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_zval) = (return_value);
	}
	#endif
	#ifdef __COMPILE_1408
	else if (__choose17 == 22)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_zval) = (this_ptr);
	}
	#endif
	#ifdef __COMPILE_1409
	else if (__choose17 == 23)
	{
	//AddStmtAndReplaceAtomKind
	(s1)++;
	}
	#endif
	#ifdef __COMPILE_1410
	else if (__choose17 == 24)
	{
	//AddStmtAndReplaceAtomKind
	(s1)--;
	}
	#endif
	#ifdef __COMPILE_1411
	else if (__choose17 == 25)
	{
	//AddStmtAndReplaceAtomKind
	(s2)++;
	}
	#endif
	#ifdef __COMPILE_1412
	else if (__choose17 == 26)
	{
	//AddStmtAndReplaceAtomKind
	(s2)--;
	}
	#endif
	#ifdef __COMPILE_1413
	else if (__choose17 == 27)
	{
	//AddStmtAndReplaceAtomKind
	_array_init(((return_value)), 0);
	}
	#endif
	#ifdef __COMPILE_1414
	else if (__choose17 == 28)
	{
	//AddStmtAndReplaceAtomKind
	_array_init(((this_ptr)), 0);
	}
	#endif
	#ifdef __COMPILE_1415
	else if (__choose17 == 29)
	{
	//AddStmtAndReplaceAtomKind
	_convert_to_string((*(return_value_ptr)));
	}
	#endif
	#ifdef __COMPILE_1416
	else if (__choose17 == 30)
	{
	//AddStmtAndReplaceAtomKind
	_efree(((return_value)));
	}
	#endif
	#ifdef __COMPILE_1417
	else if (__choose17 == 31)
	{
	//AddStmtAndReplaceAtomKind
	_efree(((s1)));
	}
	#endif
	#ifdef __COMPILE_1418
	else if (__choose17 == 32)
	{
	//AddStmtAndReplaceAtomKind
	_efree(((s2)));
	}
	#endif
	#ifdef __COMPILE_1419
	else if (__choose17 == 33)
	{
	//AddStmtAndReplaceAtomKind
	_efree(((this_ptr)));
	}
	#endif
	#ifdef __COMPILE_1420
	else if (__choose17 == 34)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor((&(*(return_value))));
	}
	#endif
	#ifdef __COMPILE_1421
	else if (__choose17 == 35)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor((&(*(this_ptr))));
	}
	#endif
	#ifdef __COMPILE_1422
	else if (__choose17 == 36)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor((((return_value))));
	}
	#endif
	#ifdef __COMPILE_1423
	else if (__choose17 == 37)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor((((this_ptr))));
	}
	#endif
	#ifdef __COMPILE_1424
	else if (__choose17 == 38)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor(((return_value)));
	}
	#endif
	#ifdef __COMPILE_1425
	else if (__choose17 == 39)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor(((this_ptr)));
	}
	#endif
	#ifdef __COMPILE_1426
	else if (__choose17 == 40)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor_func((return_value));
	}
	#endif
	#ifdef __COMPILE_1427
	else if (__choose17 == 41)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor_func((this_ptr));
	}
	#endif
	#ifdef __COMPILE_1428
	else if (__choose17 == 42)
	{
	//AddStmtAndReplaceAtomKind
	_zval_dtor(((return_value)));
	}
	#endif
	#ifdef __COMPILE_1429
	else if (__choose17 == 43)
	{
	//AddStmtAndReplaceAtomKind
	_zval_dtor(((this_ptr)));
	}
	#endif
	#ifdef __COMPILE_1430
	else if (__choose17 == 44)
	{
	//AddStmtAndReplaceAtomKind
	_zval_dtor((*(return_value_ptr)));
	}
	#endif
	#ifdef __COMPILE_1431
	else if (__choose17 == 45)
	{
	//AddStmtAndReplaceAtomKind
	_zval_dtor_func((return_value));
	}
	#endif
	#ifdef __COMPILE_1432
	else if (__choose17 == 46)
	{
	//AddStmtAndReplaceAtomKind
	_zval_dtor_func((this_ptr));
	}
	#endif
	#ifdef __COMPILE_1433
	else if (__choose17 == 47)
	{
	//AddStmtAndReplaceAtomKind
	_zval_ptr_dtor((&(return_value)));
	}
	#endif
	#ifdef __COMPILE_1434
	else if (__choose17 == 48)
	{
	//AddStmtAndReplaceAtomKind
	_zval_ptr_dtor((&(this_ptr)));
	}
	#endif
	#ifdef __COMPILE_1435
	else if (__choose17 == 49)
	{
	//AddStmtAndReplaceAtomKind
	_zval_ptr_dtor((&*(return_value_ptr)));
	}
	#endif
	#ifdef __COMPILE_1436
	else if (__choose17 == 50)
	{
	//AddStmtAndReplaceAtomKind
	add_next_index_stringl((return_value), "", sizeof ("") - 1, 1);
	}
	#endif
	#ifdef __COMPILE_1437
	else if (__choose17 == 51)
	{
	//AddStmtAndReplaceAtomKind
	add_next_index_stringl((this_ptr), "", sizeof ("") - 1, 1);
	}
	#endif
	#ifdef __COMPILE_1438
	else if (__choose17 == 52)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (-1);
	}
	#endif
	#ifdef __COMPILE_1439
	else if (__choose17 == 53)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (0);
	}
	#endif
	#ifdef __COMPILE_1440
	else if (__choose17 == 54)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (1);
	}
	#endif
	#ifdef __COMPILE_1441
	else if (__choose17 == 55)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (2);
	}
	#endif
	#ifdef __COMPILE_1442
	else if (__choose17 == 56)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (3);
	}
	#endif
	#ifdef __COMPILE_1443
	else if (__choose17 == 57)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (4);
	}
	#endif
	#ifdef __COMPILE_1444
	else if (__choose17 == 58)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (cmp_len);
	}
	#endif
	#ifdef __COMPILE_1445
	else if (__choose17 == 59)
	{
	//AddStmtAndReplaceAtomKind
	convert_to_boolean((return_value));
	}
	#endif
	#ifdef __COMPILE_1446
	else if (__choose17 == 60)
	{
	//AddStmtAndReplaceAtomKind
	convert_to_boolean((this_ptr));
	}
	#endif
	#ifdef __COMPILE_1447
	else if (__choose17 == 61)
	{
	//AddStmtAndReplaceAtomKind
	convert_to_double(*(return_value_ptr));
	}
	#endif
	#ifdef __COMPILE_1448
	else if (__choose17 == 62)
	{
	//AddStmtAndReplaceAtomKind
	convert_to_long(*(return_value_ptr));
	}
	#endif
	#ifdef __COMPILE_1449
	else if (__choose17 == 63)
	{
	//AddStmtAndReplaceAtomKind
	gc_remove_zval_from_buffer((return_value));
	}
	#endif
	#ifdef __COMPILE_1450
	else if (__choose17 == 64)
	{
	//AddStmtAndReplaceAtomKind
	gc_remove_zval_from_buffer((this_ptr));
	}
	#endif
	#ifdef __COMPILE_1451
	else if (__choose17 == 65)
	{
	//AddStmtAndReplaceAtomKind
	gc_zval_check_possible_root(((return_value)));
	}
	#endif
	#ifdef __COMPILE_1452
	else if (__choose17 == 66)
	{
	//AddStmtAndReplaceAtomKind
	gc_zval_check_possible_root(((this_ptr)));
	}
	#endif
	#ifdef __COMPILE_1453
	else if (__choose17 == 67)
	{
	//AddStmtAndReplaceAtomKind
	gc_zval_possible_root((return_value));
	}
	#endif
	#ifdef __COMPILE_1454
	else if (__choose17 == 68)
	{
	//AddStmtAndReplaceAtomKind
	gc_zval_possible_root((this_ptr));
	}
	#endif
	#ifdef __COMPILE_1455
	else if (__choose17 == 69)
	{
	//AddStmtAndReplaceAtomKind
	i_zval_ptr_dtor((return_value));
	}
	#endif
	#ifdef __COMPILE_1456
	else if (__choose17 == 70)
	{
	//AddStmtAndReplaceAtomKind
	i_zval_ptr_dtor((this_ptr));
	}
	#endif
	#ifdef __COMPILE_1457
	else if (__choose17 == 71)
	{
	//AddStmtAndReplaceAtomKind
	len = (-1);
	}
	#endif
	#ifdef __COMPILE_1458
	else if (__choose17 == 72)
	{
	//AddStmtAndReplaceAtomKind
	len = (0);
	}
	#endif
	#ifdef __COMPILE_1459
	else if (__choose17 == 73)
	{
	//AddStmtAndReplaceAtomKind
	len = (1);
	}
	#endif
	#ifdef __COMPILE_1460
	else if (__choose17 == 74)
	{
	//AddStmtAndReplaceAtomKind
	len = (2);
	}
	#endif
	#ifdef __COMPILE_1461
	else if (__choose17 == 75)
	{
	//AddStmtAndReplaceAtomKind
	len = (3);
	}
	#endif
	#ifdef __COMPILE_1462
	else if (__choose17 == 76)
	{
	//AddStmtAndReplaceAtomKind
	len = (4);
	}
	#endif
	#ifdef __COMPILE_1463
	else if (__choose17 == 77)
	{
	//AddStmtAndReplaceAtomKind
	len = (len);
	}
	#endif
	#ifdef __COMPILE_1464
	else if (__choose17 == 78)
	{
	//AddStmtAndReplaceAtomKind
	len = (offset);
	}
	#endif
	#ifdef __COMPILE_1465
	else if (__choose17 == 79)
	{
	//AddStmtAndReplaceAtomKind
	memset((s1), 0, 256);
	}
	#endif
	#ifdef __COMPILE_1466
	else if (__choose17 == 80)
	{
	//AddStmtAndReplaceAtomKind
	memset((s2), 0, 256);
	}
	#endif
	#ifdef __COMPILE_1467
	else if (__choose17 == 81)
	{
	//AddStmtAndReplaceAtomKind
	offset = (-1);
	}
	#endif
	#ifdef __COMPILE_1468
	else if (__choose17 == 82)
	{
	//AddStmtAndReplaceAtomKind
	offset = (0);
	}
	#endif
	#ifdef __COMPILE_1469
	else if (__choose17 == 83)
	{
	//AddStmtAndReplaceAtomKind
	offset = (1);
	}
	#endif
	#ifdef __COMPILE_1470
	else if (__choose17 == 84)
	{
	//AddStmtAndReplaceAtomKind
	offset = (2);
	}
	#endif
	#ifdef __COMPILE_1471
	else if (__choose17 == 85)
	{
	//AddStmtAndReplaceAtomKind
	offset = (3);
	}
	#endif
	#ifdef __COMPILE_1472
	else if (__choose17 == 86)
	{
	//AddStmtAndReplaceAtomKind
	offset = (4);
	}
	#endif
	#ifdef __COMPILE_1473
	else if (__choose17 == 87)
	{
	//AddStmtAndReplaceAtomKind
	offset = (len);
	}
	#endif
	#ifdef __COMPILE_1474
	else if (__choose17 == 88)
	{
	//AddStmtAndReplaceAtomKind
	offset = (offset);
	}
	#endif
	#ifdef __COMPILE_1475
	else if (__choose17 == 89)
	{
	//AddStmtAndReplaceAtomKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid locale category name %s, must be one of LC_ALL, LC_COLLATE, LC_CTYPE, LC_MONETARY, LC_NUMERIC, or LC_TIME", (s1));
	}
	#endif
	#ifdef __COMPILE_1476
	else if (__choose17 == 90)
	{
	//AddStmtAndReplaceAtomKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid locale category name %s, must be one of LC_ALL, LC_COLLATE, LC_CTYPE, LC_MONETARY, LC_NUMERIC, or LC_TIME", (s2));
	}
	#endif
	#ifdef __COMPILE_1477
	else if (__choose17 == 91)
	{
	//AddStmtAndReplaceAtomKind
	php_lcfirst((*(return_value)).value.str.val);
	}
	#endif
	#ifdef __COMPILE_1478
	else if (__choose17 == 92)
	{
	//AddStmtAndReplaceAtomKind
	php_lcfirst((*(this_ptr)).value.str.val);
	}
	#endif
	#ifdef __COMPILE_1479
	else if (__choose17 == 93)
	{
	//AddStmtAndReplaceAtomKind
	php_ucfirst((*(return_value)).value.str.val);
	}
	#endif
	#ifdef __COMPILE_1480
	else if (__choose17 == 94)
	{
	//AddStmtAndReplaceAtomKind
	php_ucfirst((*(this_ptr)).value.str.val);
	}
	#endif
	#ifdef __COMPILE_1481
	else if (__choose17 == 95)
	{
	//AddStmtAndReplaceAtomKind
	zend_hash_internal_pointer_reset_ex((*(return_value)).value.ht, ((void *)0));
	}
	#endif
	#ifdef __COMPILE_1482
	else if (__choose17 == 96)
	{
	//AddStmtAndReplaceAtomKind
	zend_hash_internal_pointer_reset_ex((*(this_ptr)).value.ht, ((void *)0));
	}
	#endif
	#ifdef __COMPILE_1483
	else if (__choose17 == 97)
	{
	//AddStmtAndReplaceAtomKind
	zend_hash_internal_pointer_reset_ex((**(return_value_ptr)).value.ht, ((void *)0));
	}
	#endif
	#ifdef __COMPILE_1484
	else if (__choose17 == 98)
	{
	//AddStmtAndReplaceAtomKind
	zend_hash_move_forward_ex((*(return_value)).value.ht, ((void *)0));
	}
	#endif
	#ifdef __COMPILE_1485
	else if (__choose17 == 99)
	{
	//AddStmtAndReplaceAtomKind
	zend_hash_move_forward_ex((*(this_ptr)).value.ht, ((void *)0));
	}
	#endif
	#ifdef __COMPILE_1486
	else if (__choose17 == 100)
	{
	//AddStmtAndReplaceAtomKind
	zend_hash_move_forward_ex((**(return_value_ptr)).value.ht, ((void *)0));
	}
	#endif
	#ifdef __COMPILE_1487
	else if (__choose17 == 101)
	{
	//AddStmtAndReplaceAtomKind
	zval_addref_p(*(return_value_ptr));
	}
	#endif
	#ifdef __COMPILE_1488
	else if (__choose17 == 102)
	{
	//AddStmtAndReplaceAtomKind
	zval_delref_p((*(return_value_ptr)));
	}
	#endif
	#ifdef __COMPILE_1489
	else if (__choose17 == 103)
	{
	//AddStmtAndReplaceAtomKind
	zval_unset_isref_p((return_value));
	}
	#endif
	#ifdef __COMPILE_1490
	else if (__choose17 == 104)
	{
	//AddStmtAndReplaceAtomKind
	zval_unset_isref_p((this_ptr));
	}
	#endif
	#ifdef __COMPILE_1491
	else if (__choose17 == 105)
	{
	//AddStmtKind
	(basic_globals.strtok_last) = ((void *)0);
	}
	#endif
	#ifdef __COMPILE_1492
	else if (__choose17 == 106)
	{
	//AddStmtKind
	(executor_globals.argument_stack) = zend_vm_stack_new_page(((16 * 1024) - 16));
	}
	#endif
	#ifdef __COMPILE_1493
	else if (__choose17 == 107)
	{
	//AddStmtKind
	_efree(((basic_globals.locale_string)));
	}
	#endif
	#ifdef __COMPILE_1494
	else if (__choose17 == 108)
	{
	//AddStmtKind
	_zval_ptr_dtor((&(basic_globals.strtok_zval)));
	}
	#endif
	#ifdef __COMPILE_1495
	else if (__choose17 == 109)
	{
	//AddStmtKind
	cmp_len = (uint)(len ? len : (((s2_len) > ((s1_len - offset))) ? (s2_len) : ((s1_len - offset))));
	}
	#endif
	#ifdef __COMPILE_1496
	else if (__choose17 == 110)
	{
	//AddStmtKind
	exit(1);
	}
	#endif
	#ifdef __COMPILE_1497
	else if (__choose17 == 111)
	{
	//AddStmtKind
	len = s1_len - offset;
	}
	#endif
	#ifdef __COMPILE_1498
	else if (__choose17 == 112)
	{
	//AddStmtKind
	mblen(((void *)0), 0);
	}
	#endif
	#ifdef __COMPILE_1499
	else if (__choose17 == 113)
	{
	//AddStmtKind
	offset = (offset < 0) ? 0 : offset;
	}
	#endif
	#ifdef __COMPILE_1500
	else if (__choose17 == 114)
	{
	//AddStmtKind
	offset = s1_len + offset;
	}
	#endif
	#ifdef __COMPILE_1501
	else if (__choose17 == 115)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 13L), "Passing locale category name as string is deprecated. Use the LC_* -constants instead");
	}
	#endif
	#ifdef __COMPILE_1502
	else if (__choose17 == 116)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "'from' and 'len' should be of same type - numerical or array ");
	}
	#endif
	#ifdef __COMPILE_1503
	else if (__choose17 == 117)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "'from' and 'len' should have the same number of elements");
	}
	#endif
	#ifdef __COMPILE_1504
	else if (__choose17 == 118)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Argument must be an array");
	}
	#endif
	#ifdef __COMPILE_1505
	else if (__choose17 == 119)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Break string cannot be empty");
	}
	#endif
	#ifdef __COMPILE_1506
	else if (__choose17 == 120)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Can't force cut when width is zero");
	}
	#endif
	#ifdef __COMPILE_1507
	else if (__choose17 == 121)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Chunk length should be greater than zero");
	}
	#endif
	#ifdef __COMPILE_1508
	else if (__choose17 == 122)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Empty delimiter");
	}
	#endif
	#ifdef __COMPILE_1509
	else if (__choose17 == 123)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Empty substring");
	}
	#endif
	#ifdef __COMPILE_1510
	else if (__choose17 == 124)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Functionality of 'from' and 'len' as arrays is not implemented");
	}
	#endif
	#ifdef __COMPILE_1511
	else if (__choose17 == 125)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid '..'-range");
	}
	#endif
	#ifdef __COMPILE_1512
	else if (__choose17 == 126)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid '..'-range, '..'-range needs to be incrementing");
	}
	#endif
	#ifdef __COMPILE_1513
	else if (__choose17 == 127)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid '..'-range, no character to the left of '..'");
	}
	#endif
	#ifdef __COMPILE_1514
	else if (__choose17 == 128)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid '..'-range, no character to the right of '..'");
	}
	#endif
	#ifdef __COMPILE_1515
	else if (__choose17 == 129)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid arguments passed");
	}
	#endif
	#ifdef __COMPILE_1516
	else if (__choose17 == 130)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Length should be greater than 0");
	}
	#endif
	#ifdef __COMPILE_1517
	else if (__choose17 == 131)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Offset is greater than the length of haystack string");
	}
	#endif
	#ifdef __COMPILE_1518
	else if (__choose17 == 132)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Offset not contained in string");
	}
	#endif
	#ifdef __COMPILE_1519
	else if (__choose17 == 133)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Offset should be greater than or equal to 0");
	}
	#endif
	#ifdef __COMPILE_1520
	else if (__choose17 == 134)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Only a single %%i or %%n token can be used");
	}
	#endif
	#ifdef __COMPILE_1521
	else if (__choose17 == 135)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Padding length is too long");
	}
	#endif
	#ifdef __COMPILE_1522
	else if (__choose17 == 136)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Padding string cannot be empty");
	}
	#endif
	#ifdef __COMPILE_1523
	else if (__choose17 == 137)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Padding type has to be STR_PAD_LEFT, STR_PAD_RIGHT, or STR_PAD_BOTH");
	}
	#endif
	#ifdef __COMPILE_1524
	else if (__choose17 == 138)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Second argument has to be greater than or equal to 0");
	}
	#endif
	#ifdef __COMPILE_1525
	else if (__choose17 == 139)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Specified locale name is too long");
	}
	#endif
	#ifdef __COMPILE_1526
	else if (__choose17 == 140)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "The character list cannot be empty");
	}
	#endif
	#ifdef __COMPILE_1527
	else if (__choose17 == 141)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "The length must be greater than zero");
	}
	#endif
	#ifdef __COMPILE_1528
	else if (__choose17 == 142)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "The length of each segment must be greater than zero");
	}
	#endif
	#ifdef __COMPILE_1529
	else if (__choose17 == 143)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "The second argument is not an array");
	}
	#endif
	#ifdef __COMPILE_1530
	else if (__choose17 == 144)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "The start position cannot exceed initial string length");
	}
	#endif
	#ifdef __COMPILE_1531
	else if (__choose17 == 145)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Unknown mode");
	}
	#endif
	#ifdef __COMPILE_1532
	else if (__choose17 == 146)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "needle is not a string or an integer");
	}
	#endif
	#ifdef __COMPILE_1533
	else if (__choose17 == 147)
	{
	//AddStmtKind
	zend_error((1 << 3L), "A non well formed numeric value encountered");
	}
	#endif
	#ifdef __COMPILE_1534
	else if (__choose17 == 148)
	{
	//AddStmtKind
	zend_rebuild_symbol_table();
	}
	#endif
	#ifdef __COMPILE_1535
	else if (__choose17 == 149)
	{
	//AddStmtKind
	zend_wrong_param_count();
	}
	#endif
	#ifdef __COMPILE_1536
	else if (__choose17 == 150)
	{
	//IfExitKind
	if (__is_neg("17-150", "L5260", 10, &(s1_len), sizeof (s1_len), &(s2_len),
				 sizeof (s2_len), &(offset), sizeof (offset), &(len), sizeof (len), &(cmp_len),
				 sizeof (cmp_len), &(cs), sizeof (cs), &(return_value), sizeof (return_value), &(s1),
				 sizeof (s1), &(s2), sizeof (s2), &(ht), sizeof (ht)))
	    return;
	}
	#endif
	int __choose18 = __choose("__SWITCH18");
	if (__choose18 == 0)
	{
	cmp_len = (uint) (len ? len : MAX(s2_len, (s1_len - offset)));
	
	}
	#ifdef __COMPILE_1537
	else if (__choose18 == 1)
	{
	//GuardKind
	if (!__is_neg("18-1", "L5260", 10, &(s1_len), sizeof (s1_len), &(s2_len), sizeof (s2_len), &(offset), sizeof (offset), &(len), sizeof (len), &(cmp_len), sizeof (cmp_len), &(cs), sizeof (cs), &(return_value), sizeof (return_value), &(s1), sizeof (s1), &(s2), sizeof (s2), &(ht), sizeof (ht)))
	    cmp_len = (uint)(len ? len : (((s2_len) > ((s1_len - offset))) ? (s2_len) : ((s1_len - offset))));
	
	}
	#endif
	#ifdef __COMPILE_1538
	else if (__choose18 == 2)
	{
	//MSVExtRemoveStmtKind
	{
	}
	
	}
	#endif
	#ifdef __COMPILE_1539
	else if (__choose18 == 3)
	{
	//ReplaceKind
	cmp_len = (-1);
	
	}
	#endif
	#ifdef __COMPILE_1540
	else if (__choose18 == 4)
	{
	//ReplaceKind
	cmp_len = (0);
	
	}
	#endif
	#ifdef __COMPILE_1541
	else if (__choose18 == 5)
	{
	//ReplaceKind
	cmp_len = (1);
	
	}
	#endif
	#ifdef __COMPILE_1542
	else if (__choose18 == 6)
	{
	//ReplaceKind
	cmp_len = (2);
	
	}
	#endif
	#ifdef __COMPILE_1543
	else if (__choose18 == 7)
	{
	//ReplaceKind
	cmp_len = (3);
	
	}
	#endif
	#ifdef __COMPILE_1544
	else if (__choose18 == 8)
	{
	//ReplaceKind
	cmp_len = (4);
	
	}
	#endif
	#ifdef __COMPILE_1545
	else if (__choose18 == 9)
	{
	//ReplaceKind
	cmp_len = (cmp_len);
	
	}
	#endif
	#ifdef __COMPILE_1546
	else if (__choose18 == 10)
	{
	//ReplaceKind
	cmp_len = (uint)(len ? len : (((s2_len) > ((s1_len - offset))) ? (s2_len) : ((s1_len - offset))));
	
	}
	#endif
	}

	//prophet generated patch
	{
	int __choose19 = __choose("__SWITCH19");
	if (__choose19 == 0)
	{}
	#ifdef __COMPILE_1547
	else if (__choose19 == 1)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.locale_string) = (s1);
	}
	#endif
	#ifdef __COMPILE_1548
	else if (__choose19 == 2)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.locale_string) = (s2);
	}
	#endif
	#ifdef __COMPILE_1549
	else if (__choose19 == 3)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.locale_string) = _estrdup(((s1)));
	}
	#endif
	#ifdef __COMPILE_1550
	else if (__choose19 == 4)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.locale_string) = _estrdup(((s2)));
	}
	#endif
	#ifdef __COMPILE_1551
	else if (__choose19 == 5)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_last) = (*(return_value)).value.str.val;
	}
	#endif
	#ifdef __COMPILE_1552
	else if (__choose19 == 6)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_last) = (*(this_ptr)).value.str.val;
	}
	#endif
	#ifdef __COMPILE_1553
	else if (__choose19 == 7)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_last) = (s1) + 1;
	}
	#endif
	#ifdef __COMPILE_1554
	else if (__choose19 == 8)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_last) = (s1);
	}
	#endif
	#ifdef __COMPILE_1555
	else if (__choose19 == 9)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_last) = (s2) + 1;
	}
	#endif
	#ifdef __COMPILE_1556
	else if (__choose19 == 10)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_last) = (s2);
	}
	#endif
	#ifdef __COMPILE_1557
	else if (__choose19 == 11)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_len) = (-1);
	}
	#endif
	#ifdef __COMPILE_1558
	else if (__choose19 == 12)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_len) = (0);
	}
	#endif
	#ifdef __COMPILE_1559
	else if (__choose19 == 13)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_len) = (1);
	}
	#endif
	#ifdef __COMPILE_1560
	else if (__choose19 == 14)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_len) = (2);
	}
	#endif
	#ifdef __COMPILE_1561
	else if (__choose19 == 15)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_len) = (3);
	}
	#endif
	#ifdef __COMPILE_1562
	else if (__choose19 == 16)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_len) = (4);
	}
	#endif
	#ifdef __COMPILE_1563
	else if (__choose19 == 17)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_string) = (*(return_value)).value.str.val;
	}
	#endif
	#ifdef __COMPILE_1564
	else if (__choose19 == 18)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_string) = (*(this_ptr)).value.str.val;
	}
	#endif
	#ifdef __COMPILE_1565
	else if (__choose19 == 19)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_string) = (s1);
	}
	#endif
	#ifdef __COMPILE_1566
	else if (__choose19 == 20)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_string) = (s2);
	}
	#endif
	#ifdef __COMPILE_1567
	else if (__choose19 == 21)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_zval) = (return_value);
	}
	#endif
	#ifdef __COMPILE_1568
	else if (__choose19 == 22)
	{
	//AddStmtAndReplaceAtomKind
	(basic_globals.strtok_zval) = (this_ptr);
	}
	#endif
	#ifdef __COMPILE_1569
	else if (__choose19 == 23)
	{
	//AddStmtAndReplaceAtomKind
	(s1)++;
	}
	#endif
	#ifdef __COMPILE_1570
	else if (__choose19 == 24)
	{
	//AddStmtAndReplaceAtomKind
	(s1)--;
	}
	#endif
	#ifdef __COMPILE_1571
	else if (__choose19 == 25)
	{
	//AddStmtAndReplaceAtomKind
	(s2)++;
	}
	#endif
	#ifdef __COMPILE_1572
	else if (__choose19 == 26)
	{
	//AddStmtAndReplaceAtomKind
	(s2)--;
	}
	#endif
	#ifdef __COMPILE_1573
	else if (__choose19 == 27)
	{
	//AddStmtAndReplaceAtomKind
	_array_init(((return_value)), 0);
	}
	#endif
	#ifdef __COMPILE_1574
	else if (__choose19 == 28)
	{
	//AddStmtAndReplaceAtomKind
	_array_init(((this_ptr)), 0);
	}
	#endif
	#ifdef __COMPILE_1575
	else if (__choose19 == 29)
	{
	//AddStmtAndReplaceAtomKind
	_convert_to_string((*(return_value_ptr)));
	}
	#endif
	#ifdef __COMPILE_1576
	else if (__choose19 == 30)
	{
	//AddStmtAndReplaceAtomKind
	_efree(((return_value)));
	}
	#endif
	#ifdef __COMPILE_1577
	else if (__choose19 == 31)
	{
	//AddStmtAndReplaceAtomKind
	_efree(((s1)));
	}
	#endif
	#ifdef __COMPILE_1578
	else if (__choose19 == 32)
	{
	//AddStmtAndReplaceAtomKind
	_efree(((s2)));
	}
	#endif
	#ifdef __COMPILE_1579
	else if (__choose19 == 33)
	{
	//AddStmtAndReplaceAtomKind
	_efree(((this_ptr)));
	}
	#endif
	#ifdef __COMPILE_1580
	else if (__choose19 == 34)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor((&(*(return_value))));
	}
	#endif
	#ifdef __COMPILE_1581
	else if (__choose19 == 35)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor((&(*(this_ptr))));
	}
	#endif
	#ifdef __COMPILE_1582
	else if (__choose19 == 36)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor((((return_value))));
	}
	#endif
	#ifdef __COMPILE_1583
	else if (__choose19 == 37)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor((((this_ptr))));
	}
	#endif
	#ifdef __COMPILE_1584
	else if (__choose19 == 38)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor(((return_value)));
	}
	#endif
	#ifdef __COMPILE_1585
	else if (__choose19 == 39)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor(((this_ptr)));
	}
	#endif
	#ifdef __COMPILE_1586
	else if (__choose19 == 40)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor_func((return_value));
	}
	#endif
	#ifdef __COMPILE_1587
	else if (__choose19 == 41)
	{
	//AddStmtAndReplaceAtomKind
	_zval_copy_ctor_func((this_ptr));
	}
	#endif
	#ifdef __COMPILE_1588
	else if (__choose19 == 42)
	{
	//AddStmtAndReplaceAtomKind
	_zval_dtor(((return_value)));
	}
	#endif
	#ifdef __COMPILE_1589
	else if (__choose19 == 43)
	{
	//AddStmtAndReplaceAtomKind
	_zval_dtor(((this_ptr)));
	}
	#endif
	#ifdef __COMPILE_1590
	else if (__choose19 == 44)
	{
	//AddStmtAndReplaceAtomKind
	_zval_dtor((*(return_value_ptr)));
	}
	#endif
	#ifdef __COMPILE_1591
	else if (__choose19 == 45)
	{
	//AddStmtAndReplaceAtomKind
	_zval_dtor_func((return_value));
	}
	#endif
	#ifdef __COMPILE_1592
	else if (__choose19 == 46)
	{
	//AddStmtAndReplaceAtomKind
	_zval_dtor_func((this_ptr));
	}
	#endif
	#ifdef __COMPILE_1593
	else if (__choose19 == 47)
	{
	//AddStmtAndReplaceAtomKind
	_zval_ptr_dtor((&(return_value)));
	}
	#endif
	#ifdef __COMPILE_1594
	else if (__choose19 == 48)
	{
	//AddStmtAndReplaceAtomKind
	_zval_ptr_dtor((&(this_ptr)));
	}
	#endif
	#ifdef __COMPILE_1595
	else if (__choose19 == 49)
	{
	//AddStmtAndReplaceAtomKind
	_zval_ptr_dtor((&*(return_value_ptr)));
	}
	#endif
	#ifdef __COMPILE_1596
	else if (__choose19 == 50)
	{
	//AddStmtAndReplaceAtomKind
	add_next_index_stringl((return_value), "", sizeof ("") - 1, 1);
	}
	#endif
	#ifdef __COMPILE_1597
	else if (__choose19 == 51)
	{
	//AddStmtAndReplaceAtomKind
	add_next_index_stringl((this_ptr), "", sizeof ("") - 1, 1);
	}
	#endif
	#ifdef __COMPILE_1598
	else if (__choose19 == 52)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (-1);
	}
	#endif
	#ifdef __COMPILE_1599
	else if (__choose19 == 53)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (0);
	}
	#endif
	#ifdef __COMPILE_1600
	else if (__choose19 == 54)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (1);
	}
	#endif
	#ifdef __COMPILE_1601
	else if (__choose19 == 55)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (2);
	}
	#endif
	#ifdef __COMPILE_1602
	else if (__choose19 == 56)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (3);
	}
	#endif
	#ifdef __COMPILE_1603
	else if (__choose19 == 57)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (4);
	}
	#endif
	#ifdef __COMPILE_1604
	else if (__choose19 == 58)
	{
	//AddStmtAndReplaceAtomKind
	cmp_len = (cmp_len);
	}
	#endif
	#ifdef __COMPILE_1605
	else if (__choose19 == 59)
	{
	//AddStmtAndReplaceAtomKind
	convert_to_boolean((return_value));
	}
	#endif
	#ifdef __COMPILE_1606
	else if (__choose19 == 60)
	{
	//AddStmtAndReplaceAtomKind
	convert_to_boolean((this_ptr));
	}
	#endif
	#ifdef __COMPILE_1607
	else if (__choose19 == 61)
	{
	//AddStmtAndReplaceAtomKind
	convert_to_double(*(return_value_ptr));
	}
	#endif
	#ifdef __COMPILE_1608
	else if (__choose19 == 62)
	{
	//AddStmtAndReplaceAtomKind
	convert_to_long(*(return_value_ptr));
	}
	#endif
	#ifdef __COMPILE_1609
	else if (__choose19 == 63)
	{
	//AddStmtAndReplaceAtomKind
	gc_remove_zval_from_buffer((return_value));
	}
	#endif
	#ifdef __COMPILE_1610
	else if (__choose19 == 64)
	{
	//AddStmtAndReplaceAtomKind
	gc_remove_zval_from_buffer((this_ptr));
	}
	#endif
	#ifdef __COMPILE_1611
	else if (__choose19 == 65)
	{
	//AddStmtAndReplaceAtomKind
	gc_zval_check_possible_root(((return_value)));
	}
	#endif
	#ifdef __COMPILE_1612
	else if (__choose19 == 66)
	{
	//AddStmtAndReplaceAtomKind
	gc_zval_check_possible_root(((this_ptr)));
	}
	#endif
	#ifdef __COMPILE_1613
	else if (__choose19 == 67)
	{
	//AddStmtAndReplaceAtomKind
	gc_zval_possible_root((return_value));
	}
	#endif
	#ifdef __COMPILE_1614
	else if (__choose19 == 68)
	{
	//AddStmtAndReplaceAtomKind
	gc_zval_possible_root((this_ptr));
	}
	#endif
	#ifdef __COMPILE_1615
	else if (__choose19 == 69)
	{
	//AddStmtAndReplaceAtomKind
	i_zval_ptr_dtor((return_value));
	}
	#endif
	#ifdef __COMPILE_1616
	else if (__choose19 == 70)
	{
	//AddStmtAndReplaceAtomKind
	i_zval_ptr_dtor((this_ptr));
	}
	#endif
	#ifdef __COMPILE_1617
	else if (__choose19 == 71)
	{
	//AddStmtAndReplaceAtomKind
	len = (-1);
	}
	#endif
	#ifdef __COMPILE_1618
	else if (__choose19 == 72)
	{
	//AddStmtAndReplaceAtomKind
	len = (0);
	}
	#endif
	#ifdef __COMPILE_1619
	else if (__choose19 == 73)
	{
	//AddStmtAndReplaceAtomKind
	len = (1);
	}
	#endif
	#ifdef __COMPILE_1620
	else if (__choose19 == 74)
	{
	//AddStmtAndReplaceAtomKind
	len = (2);
	}
	#endif
	#ifdef __COMPILE_1621
	else if (__choose19 == 75)
	{
	//AddStmtAndReplaceAtomKind
	len = (3);
	}
	#endif
	#ifdef __COMPILE_1622
	else if (__choose19 == 76)
	{
	//AddStmtAndReplaceAtomKind
	len = (4);
	}
	#endif
	#ifdef __COMPILE_1623
	else if (__choose19 == 77)
	{
	//AddStmtAndReplaceAtomKind
	len = (len);
	}
	#endif
	#ifdef __COMPILE_1624
	else if (__choose19 == 78)
	{
	//AddStmtAndReplaceAtomKind
	len = (offset);
	}
	#endif
	#ifdef __COMPILE_1625
	else if (__choose19 == 79)
	{
	//AddStmtAndReplaceAtomKind
	memset((s1), 0, 256);
	}
	#endif
	#ifdef __COMPILE_1626
	else if (__choose19 == 80)
	{
	//AddStmtAndReplaceAtomKind
	memset((s2), 0, 256);
	}
	#endif
	#ifdef __COMPILE_1627
	else if (__choose19 == 81)
	{
	//AddStmtAndReplaceAtomKind
	offset = (-1);
	}
	#endif
	#ifdef __COMPILE_1628
	else if (__choose19 == 82)
	{
	//AddStmtAndReplaceAtomKind
	offset = (0);
	}
	#endif
	#ifdef __COMPILE_1629
	else if (__choose19 == 83)
	{
	//AddStmtAndReplaceAtomKind
	offset = (1);
	}
	#endif
	#ifdef __COMPILE_1630
	else if (__choose19 == 84)
	{
	//AddStmtAndReplaceAtomKind
	offset = (2);
	}
	#endif
	#ifdef __COMPILE_1631
	else if (__choose19 == 85)
	{
	//AddStmtAndReplaceAtomKind
	offset = (3);
	}
	#endif
	#ifdef __COMPILE_1632
	else if (__choose19 == 86)
	{
	//AddStmtAndReplaceAtomKind
	offset = (4);
	}
	#endif
	#ifdef __COMPILE_1633
	else if (__choose19 == 87)
	{
	//AddStmtAndReplaceAtomKind
	offset = (len);
	}
	#endif
	#ifdef __COMPILE_1634
	else if (__choose19 == 88)
	{
	//AddStmtAndReplaceAtomKind
	offset = (offset);
	}
	#endif
	#ifdef __COMPILE_1635
	else if (__choose19 == 89)
	{
	//AddStmtAndReplaceAtomKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid locale category name %s, must be one of LC_ALL, LC_COLLATE, LC_CTYPE, LC_MONETARY, LC_NUMERIC, or LC_TIME", (s1));
	}
	#endif
	#ifdef __COMPILE_1636
	else if (__choose19 == 90)
	{
	//AddStmtAndReplaceAtomKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid locale category name %s, must be one of LC_ALL, LC_COLLATE, LC_CTYPE, LC_MONETARY, LC_NUMERIC, or LC_TIME", (s2));
	}
	#endif
	#ifdef __COMPILE_1637
	else if (__choose19 == 91)
	{
	//AddStmtAndReplaceAtomKind
	php_lcfirst((*(return_value)).value.str.val);
	}
	#endif
	#ifdef __COMPILE_1638
	else if (__choose19 == 92)
	{
	//AddStmtAndReplaceAtomKind
	php_lcfirst((*(this_ptr)).value.str.val);
	}
	#endif
	#ifdef __COMPILE_1639
	else if (__choose19 == 93)
	{
	//AddStmtAndReplaceAtomKind
	php_ucfirst((*(return_value)).value.str.val);
	}
	#endif
	#ifdef __COMPILE_1640
	else if (__choose19 == 94)
	{
	//AddStmtAndReplaceAtomKind
	php_ucfirst((*(this_ptr)).value.str.val);
	}
	#endif
	#ifdef __COMPILE_1641
	else if (__choose19 == 95)
	{
	//AddStmtAndReplaceAtomKind
	zend_hash_internal_pointer_reset_ex((*(return_value)).value.ht, ((void *)0));
	}
	#endif
	#ifdef __COMPILE_1642
	else if (__choose19 == 96)
	{
	//AddStmtAndReplaceAtomKind
	zend_hash_internal_pointer_reset_ex((*(this_ptr)).value.ht, ((void *)0));
	}
	#endif
	#ifdef __COMPILE_1643
	else if (__choose19 == 97)
	{
	//AddStmtAndReplaceAtomKind
	zend_hash_internal_pointer_reset_ex((**(return_value_ptr)).value.ht, ((void *)0));
	}
	#endif
	#ifdef __COMPILE_1644
	else if (__choose19 == 98)
	{
	//AddStmtAndReplaceAtomKind
	zend_hash_move_forward_ex((*(return_value)).value.ht, ((void *)0));
	}
	#endif
	#ifdef __COMPILE_1645
	else if (__choose19 == 99)
	{
	//AddStmtAndReplaceAtomKind
	zend_hash_move_forward_ex((*(this_ptr)).value.ht, ((void *)0));
	}
	#endif
	#ifdef __COMPILE_1646
	else if (__choose19 == 100)
	{
	//AddStmtAndReplaceAtomKind
	zend_hash_move_forward_ex((**(return_value_ptr)).value.ht, ((void *)0));
	}
	#endif
	#ifdef __COMPILE_1647
	else if (__choose19 == 101)
	{
	//AddStmtAndReplaceAtomKind
	zval_addref_p(*(return_value_ptr));
	}
	#endif
	#ifdef __COMPILE_1648
	else if (__choose19 == 102)
	{
	//AddStmtAndReplaceAtomKind
	zval_delref_p((*(return_value_ptr)));
	}
	#endif
	#ifdef __COMPILE_1649
	else if (__choose19 == 103)
	{
	//AddStmtAndReplaceAtomKind
	zval_unset_isref_p((return_value));
	}
	#endif
	#ifdef __COMPILE_1650
	else if (__choose19 == 104)
	{
	//AddStmtAndReplaceAtomKind
	zval_unset_isref_p((this_ptr));
	}
	#endif
	#ifdef __COMPILE_1651
	else if (__choose19 == 105)
	{
	//AddStmtKind
	(basic_globals.strtok_last) = ((void *)0);
	}
	#endif
	#ifdef __COMPILE_1652
	else if (__choose19 == 106)
	{
	//AddStmtKind
	(executor_globals.argument_stack) = zend_vm_stack_new_page(((16 * 1024) - 16));
	}
	#endif
	#ifdef __COMPILE_1653
	else if (__choose19 == 107)
	{
	//AddStmtKind
	_efree(((basic_globals.locale_string)));
	}
	#endif
	#ifdef __COMPILE_1654
	else if (__choose19 == 108)
	{
	//AddStmtKind
	_zval_ptr_dtor((&(basic_globals.strtok_zval)));
	}
	#endif
	#ifdef __COMPILE_1655
	else if (__choose19 == 109)
	{
	//AddStmtKind
	cmp_len = (uint)(len ? len : (((s2_len) > ((s1_len - offset))) ? (s2_len) : ((s1_len - offset))));
	}
	#endif
	#ifdef __COMPILE_1656
	else if (__choose19 == 110)
	{
	//AddStmtKind
	exit(1);
	}
	#endif
	#ifdef __COMPILE_1657
	else if (__choose19 == 111)
	{
	//AddStmtKind
	len = s1_len - offset;
	}
	#endif
	#ifdef __COMPILE_1658
	else if (__choose19 == 112)
	{
	//AddStmtKind
	mblen(((void *)0), 0);
	}
	#endif
	#ifdef __COMPILE_1659
	else if (__choose19 == 113)
	{
	//AddStmtKind
	offset = (offset < 0) ? 0 : offset;
	}
	#endif
	#ifdef __COMPILE_1660
	else if (__choose19 == 114)
	{
	//AddStmtKind
	offset = s1_len + offset;
	}
	#endif
	#ifdef __COMPILE_1661
	else if (__choose19 == 115)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 13L), "Passing locale category name as string is deprecated. Use the LC_* -constants instead");
	}
	#endif
	#ifdef __COMPILE_1662
	else if (__choose19 == 116)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "'from' and 'len' should be of same type - numerical or array ");
	}
	#endif
	#ifdef __COMPILE_1663
	else if (__choose19 == 117)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "'from' and 'len' should have the same number of elements");
	}
	#endif
	#ifdef __COMPILE_1664
	else if (__choose19 == 118)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Argument must be an array");
	}
	#endif
	#ifdef __COMPILE_1665
	else if (__choose19 == 119)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Break string cannot be empty");
	}
	#endif
	#ifdef __COMPILE_1666
	else if (__choose19 == 120)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Can't force cut when width is zero");
	}
	#endif
	#ifdef __COMPILE_1667
	else if (__choose19 == 121)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Chunk length should be greater than zero");
	}
	#endif
	#ifdef __COMPILE_1668
	else if (__choose19 == 122)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Empty delimiter");
	}
	#endif
	#ifdef __COMPILE_1669
	else if (__choose19 == 123)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Empty substring");
	}
	#endif
	#ifdef __COMPILE_1670
	else if (__choose19 == 124)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Functionality of 'from' and 'len' as arrays is not implemented");
	}
	#endif
	#ifdef __COMPILE_1671
	else if (__choose19 == 125)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid '..'-range");
	}
	#endif
	#ifdef __COMPILE_1672
	else if (__choose19 == 126)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid '..'-range, '..'-range needs to be incrementing");
	}
	#endif
	#ifdef __COMPILE_1673
	else if (__choose19 == 127)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid '..'-range, no character to the left of '..'");
	}
	#endif
	#ifdef __COMPILE_1674
	else if (__choose19 == 128)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid '..'-range, no character to the right of '..'");
	}
	#endif
	#ifdef __COMPILE_1675
	else if (__choose19 == 129)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Invalid arguments passed");
	}
	#endif
	#ifdef __COMPILE_1676
	else if (__choose19 == 130)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Length should be greater than 0");
	}
	#endif
	#ifdef __COMPILE_1677
	else if (__choose19 == 131)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Offset is greater than the length of haystack string");
	}
	#endif
	#ifdef __COMPILE_1678
	else if (__choose19 == 132)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Offset not contained in string");
	}
	#endif
	#ifdef __COMPILE_1679
	else if (__choose19 == 133)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Offset should be greater than or equal to 0");
	}
	#endif
	#ifdef __COMPILE_1680
	else if (__choose19 == 134)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Only a single %%i or %%n token can be used");
	}
	#endif
	#ifdef __COMPILE_1681
	else if (__choose19 == 135)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Padding length is too long");
	}
	#endif
	#ifdef __COMPILE_1682
	else if (__choose19 == 136)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Padding string cannot be empty");
	}
	#endif
	#ifdef __COMPILE_1683
	else if (__choose19 == 137)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Padding type has to be STR_PAD_LEFT, STR_PAD_RIGHT, or STR_PAD_BOTH");
	}
	#endif
	#ifdef __COMPILE_1684
	else if (__choose19 == 138)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Second argument has to be greater than or equal to 0");
	}
	#endif
	#ifdef __COMPILE_1685
	else if (__choose19 == 139)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Specified locale name is too long");
	}
	#endif
	#ifdef __COMPILE_1686
	else if (__choose19 == 140)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "The character list cannot be empty");
	}
	#endif
	#ifdef __COMPILE_1687
	else if (__choose19 == 141)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "The length must be greater than zero");
	}
	#endif
	#ifdef __COMPILE_1688
	else if (__choose19 == 142)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "The length of each segment must be greater than zero");
	}
	#endif
	#ifdef __COMPILE_1689
	else if (__choose19 == 143)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "The second argument is not an array");
	}
	#endif
	#ifdef __COMPILE_1690
	else if (__choose19 == 144)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "The start position cannot exceed initial string length");
	}
	#endif
	#ifdef __COMPILE_1691
	else if (__choose19 == 145)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "Unknown mode");
	}
	#endif
	#ifdef __COMPILE_1692
	else if (__choose19 == 146)
	{
	//AddStmtKind
	php_error_docref0(((void *)0), (1 << 1L), "needle is not a string or an integer");
	}
	#endif
	#ifdef __COMPILE_1693
	else if (__choose19 == 147)
	{
	//AddStmtKind
	zend_error((1 << 3L), "A non well formed numeric value encountered");
	}
	#endif
	#ifdef __COMPILE_1694
	else if (__choose19 == 148)
	{
	//AddStmtKind
	zend_rebuild_symbol_table();
	}
	#endif
	#ifdef __COMPILE_1695
	else if (__choose19 == 149)
	{
	//AddStmtKind
	zend_wrong_param_count();
	}
	#endif
	#ifdef __COMPILE_1696
	else if (__choose19 == 150)
	{
	//IfExitKind
	if (__is_neg("19-150", "L5262", 10, &(cs), sizeof (cs), &(return_value),
				 sizeof (return_value), &(s1), sizeof (s1), &(s2), sizeof (s2), &(s1_len),
				 sizeof (s1_len), &(s2_len), sizeof (s2_len), &(offset), sizeof (offset), &(cmp_len),
				 sizeof (cmp_len), &(len), sizeof (len), &(ht), sizeof (ht)))
	    return;
	}
	#endif
	int __choose20 = __choose("__SWITCH20");
	{
	int __temp20=(!cs) ;
	if (__choose20 == 0)
	{}
	#ifdef __COMPILE_1697
	else if (__choose20 == 1)
	{
	__temp20= (__is_neg("20-1", "L5262", 10, &(cs), sizeof (cs), &(return_value), sizeof (return_value), &(s1), sizeof (s1), &(s2), sizeof (s2), &(s1_len), sizeof (s1_len), &(s2_len), sizeof (s2_len), &(offset), sizeof (offset), &(cmp_len), sizeof (cmp_len), &(len), sizeof (len), &(ht), sizeof (ht)));
	}
	#endif
	#ifdef __COMPILE_1698
	else if (__choose20 == 2)
	{
	__temp20= ((!cs) || __is_neg("20-2", "L5262", 10, &(cs), sizeof (cs), &(return_value), sizeof (return_value), &(s1), sizeof (s1), &(s2), sizeof (s2), &(s1_len), sizeof (s1_len), &(s2_len), sizeof (s2_len), &(offset), sizeof (offset), &(cmp_len), sizeof (cmp_len), &(len), sizeof (len), &(ht), sizeof (ht)));
	}
	#endif
	#ifdef __COMPILE_1699
	else if (__choose20 == 3)
	{
	__temp20= ((!cs) && !__is_neg("20-3", "L5262", 10, &(cs), sizeof (cs), &(return_value), sizeof (return_value), &(s1), sizeof (s1), &(s2), sizeof (s2), &(s1_len), sizeof (s1_len), &(s2_len), sizeof (s2_len), &(offset), sizeof (offset), &(cmp_len), sizeof (cmp_len), &(len), sizeof (len), &(ht), sizeof (ht)));
	}
	#endif
	int __choose21 = __choose("__SWITCH21");
	if (__choose21 == 0)
	{
	if (__temp20) {
			RETURN_LONG(zend_binary_strncmp(s1 + offset, (s1_len - offset), s2, s2_len, cmp_len));
		} else {
			RETURN_LONG(zend_binary_strncasecmp(s1 + offset, (s1_len - offset), s2, s2_len, cmp_len));
		}
	
	}
	#ifdef __COMPILE_1700
	else if (__choose21 == 1)
	{
	//GuardKind
	if (!__is_neg("21-1", "L5262", 10, &(cs), sizeof (cs), &(return_value), sizeof (return_value), &(s1), sizeof (s1), &(s2), sizeof (s2), &(s1_len), sizeof (s1_len), &(s2_len), sizeof (s2_len), &(offset), sizeof (offset), &(cmp_len), sizeof (cmp_len), &(len), sizeof (len), &(ht), sizeof (ht)))
	    if (!cs) {
	        {
	            {
	                zval *__z = (return_value);
	                (*__z).value.lval = zend_binary_strncmp(s1 + offset, (s1_len - offset), s2, s2_len, cmp_len);
	                (*__z).type = 1;
	            }
	            ;
	            return;
	        }
	        ;
	    } else {
	        {
	            {
	                zval *__z = (return_value);
	                (*__z).value.lval = zend_binary_strncasecmp(s1 + offset, (s1_len - offset), s2, s2_len, cmp_len);
	                (*__z).type = 1;
	            }
	            ;
	            return;
	        }
	        ;
	    }
	
	}
	#endif
	#ifdef __COMPILE_1701
	else if (__choose21 == 2)
	{
	//SpecialGuardKind
	if (!__is_neg("21-2", "L5262", 10, &(cs), sizeof (cs), &(return_value), sizeof (return_value), &(s1), sizeof (s1), &(s2), sizeof (s2), &(s1_len), sizeof (s1_len), &(s2_len), sizeof (s2_len), &(offset), sizeof (offset), &(cmp_len), sizeof (cmp_len), &(len), sizeof (len), &(ht), sizeof (ht)) && (!cs)) {
	    {
	        {
	            zval *__z = (return_value);
	            (*__z).value.lval = zend_binary_strncmp(s1 + offset, (s1_len - offset), s2, s2_len, cmp_len);
	            (*__z).type = 1;
	        }
	        ;
	        return;
	    }
	    ;
	} else {
	    {
	        {
	            zval *__z = (return_value);
	            (*__z).value.lval = zend_binary_strncasecmp(s1 + offset, (s1_len - offset), s2, s2_len, cmp_len);
	            (*__z).type = 1;
	        }
	        ;
	        return;
	    }
	    ;
	}
	
	}
	#endif
	}
	}
}
/* }}} */

/*
 * Local variables:
 * tab-width: 4
 * c-basic-offset: 4
 * End:
 * vim600: noet sw=4 ts=4 fdm=marker
 * vim<600: noet sw=4 ts=4
 */
