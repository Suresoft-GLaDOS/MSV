BENCHMARKS=[
"gmp-13421",
# "gmp-14167", # Build fail
"gzip-1204630c96e0c3",
"gzip-118a107f2d3ae5",
"gzip-39a362ae9d9b00",
"gzip-884ef6d16c6",
"gzip-f17cbd13a1d0a7",
"libtiff-tests-0d27dc0",
"libtiff-tests-1563270c^1-1563270c",
"libtiff-tests-5f42db",
"libtiff-tests-2e42d63f",
"libtiff-tests-6b6496",
"libtiff-tests-e0b51f3e",
# "libtiff-tests-bdba15c", # Meta-program fail
"libtiff-tests2-0a36d7f",
"libtiff-tests-eec7ec0",
"libtiff-tests2-207c78a4",
"libtiff-tests2-22da1d",
"libtiff-tests2-3edb9cd",
"libtiff-tests2-6f76e766b^1^1^1^1^1^1^1^1^1-6f76e766b",
"libtiff-tests2-371336d^1-371336d",
"libtiff-tests2-6746b87^1-6746b87",
"libtiff-tests2-c766cb7^1-c766cb7",
"libtiff-tests2-ccc10c7-ccc10c7^2",
"libtiff-tests2-e6d0c32",
"libtiff-tests2-ce4b7af^1-ce4b7af",
"libtiff-tests2-cf05a83-cf05a83^1^1^1",
"libtiff-tests2-e8a47d4^1-e8a47d4",
"libtiff-tests2-eec4c06^1-eec4c06",
"libtiff-tests2-f2d989d",
# "lighttpd-1795", # Meta-program fail
"lighttpd-1914",
"lighttpd-1807",
"lighttpd-1949",
"lighttpd-2226",
"lighttpd-2259",
"lighttpd-2331",
"lighttpd-2662",
# "lighttpd-2786", # Meta-program fail
"php-09273098521913a",
"php-09b990f",
"php-1056c57f",
"php-109b8e9",
"php-118695a",
"php-1d984a7",
"php-187eb23",
"php-1f49902",
"php-1a8b87d",
"php-2adf58",
"php-1e91069",
"php-2e206e07",
"php-3571c95",
"php-2e25ec9",
"php-2a6968",
"php-3acdca",
"php-453c954^1-453c954",
# "php-478e5d1", # No patch in search space
# "php-4756d7", # No patch in search space
"php-5a8c917",
"php-77ed819",
# "php-6f3148d", # No patch in search space
# "php-5bb0a44", # No patch in search space
"php-821d716",
"php-8ba00176",
"php-7f29372",
"php-8deb11c",
"php-991ba131",
"php-93f65cd",
"php-9bbc114",
# "php-a3a5157", # No patch in search space
"php-b84967d",
"php-b9b1fb1",
# "php-c2fe893", # No patch in search space
# "php-b83e24", # No patch in search space
"php-d1d61ce",
"php-ecb9d80",
"php-ee83270",
# "php-cebe2a213^1-cebe2a213", # No patch in search space
"php-f2329f1",
"php-f455f8^1-f455f8",
"php-f7b7b6aa9",
"python-69474-69470",
"python-69372-69368",
# "python-69710", # No patch in search space
"python-69224",
"php-efcb9a71",
"python-69784",
"python-69935",
"python-70023-70019",
"python-69946",
# "python-70101-70098", # No patch in search space
"python-70059-70056",
"wireshark-2d2815b^1-2d2815b",
"wireshark-9a2ba01",
# "wireshark-b51eba6", # Meta-program fail
"wireshark-464486e^1-464486e",
"php-bug-2011-10-15-0a1cc5f01c-05c5c8958e",
]

BENCHMARKS_URL=[
"gmp-13421",
# "gmp-14167", # Build fail
"gzip-1204630c96e0c3",
"gzip-118a107f2d3ae5",
"gzip-39a362ae9d9b00",
"gzip-884ef6d16c6",
"gzip-f17cbd13a1d0a7",
"libtiff-tests-0d27dc0",
"libtiff-tests-1563270c^1",
"libtiff-tests-5f42db",
"libtiff-tests-2e42d63f",
"libtiff-tests-6b6496",
"libtiff-tests-e0b51f3e",
# "libtiff-tests-bdba15c", # Meta-program fail
"libtiff-tests2-0a36d7f",
"libtiff-tests-eec7ec0",
"libtiff-tests2-207c78a4",
"libtiff-tests2-22da1d",
"libtiff-tests2-3edb9cd",
"libtiff-tests2-6f76e766b^1^1^1^1^1^1^1^1^1",
"libtiff-tests2-371336d^1",
"libtiff-tests2-6746b87^1",
"libtiff-tests2-c766cb7^1",
"libtiff-tests2-ccc10c7",
"libtiff-tests2-e6d0c32",
"libtiff-tests2-ce4b7af^1",
"libtiff-tests2-cf05a83",
"libtiff-tests2-e8a47d4^1",
"libtiff-tests2-eec4c06^1",
"libtiff-tests2-f2d989d",
# "lighttpd-1795", # Meta-program fail
"lighttpd-1914",
"lighttpd-1807",
"lighttpd-1949",
"lighttpd-2226",
"lighttpd-2259",
"lighttpd-2331",
"lighttpd-2662",
# "lighttpd-2786", # Meta-program fail
"php-09273098521913a",
"php-09b990f",
"php-1056c57f",
"php-109b8e9",
"php-118695a",
"php-1d984a7",
"php-187eb23",
"php-1f49902",
"php-1a8b87d",
"php-2adf58",
"php-1e91069",
"php-2e206e07",
"php-3571c95",
"php-2e25ec9",
"php-2a6968",
"php-3acdca",
"php-453c954^1-453c954",
# "php-478e5d1", # No patch in search space
# "php-4756d7", # No patch in search space
"php-5a8c917",
"php-77ed819",
# "php-6f3148d", # No patch in search space
# "php-5bb0a44", # No patch in search space
"php-821d716",
"php-8ba00176",
"php-7f29372",
"php-8deb11c",
"php-991ba131",
"php-93f65cd",
"php-9bbc114",
# "php-a3a5157", # No patch in search space
"php-b84967d",
"php-b9b1fb1",
# "php-c2fe893", # No patch in search space
# "php-b83e24", # No patch in search space
"php-d1d61ce",
"php-ecb9d80",
"php-ee83270",
# "php-cebe2a213^1-cebe2a213", # No patch in search space
"php-f2329f1",
"php-f455f8^1-f455f8",
"php-f7b7b6aa9",
"python-69474",
"python-69372",
# "python-69710", # No patch in search space
"python-69224",
"php-efcb9a71",
"python-69784",
"python-69935",
"python-70023",
"python-69946",
# "python-70101-70098", # No patch in search space
"python-70059-70056",
"wireshark-2d2815b^1",
"wireshark-9a2ba01",
# "wireshark-b51eba6", # Meta-program fail
"wireshark-464486e^1",
"php-bug-2011-10-15-0a1cc5f01c-05c5c8958e",
]

def get_subject(benchmark):
    if 'gmp' in benchmark:
        return 'gmp'
    elif 'gzip' in benchmark:
        return 'gzip'
    elif 'libtiff' in benchmark:
        return 'libtiff'
    elif 'lighttpd' in benchmark:
        return 'lighttpd'
    elif 'php' in benchmark:
        return 'php'
    elif 'python' in benchmark:
        return 'python'
    elif 'wireshark' in benchmark:
        return 'wireshark'
    assert False and f'Unknown benchmark: {benchmark}'

def get_workdir(benchmark:str):
    first_dash=benchmark.find('-')
    if benchmark.startswith('php-bug'):
        return benchmark+'/'+benchmark+'-workdir'
    else:
        return benchmark[:first_dash]+'-case'+benchmark[first_dash:]+'/'+benchmark+'-workdir'

def get_test_dir(benchmark:str):
    workdir=get_workdir(benchmark)
    test_dir=''
    with open(f'/root/project/MSV-experiment/benchmarks/{get_subject(benchmark)}/{workdir}/repair.conf','r') as f:
        lines=f.readlines()
        for line in  lines:
            if 'test_dir' in line:
                test_dir=line.split('=')[1].strip()
                break
    
    assert test_dir!=''
    return test_dir