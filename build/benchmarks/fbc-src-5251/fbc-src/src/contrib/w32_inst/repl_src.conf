;
; Configuration file that defines the contents of the setup application
; for FreeBASIC
;
; The difference between this configuration and replace.conf is that
; the sources will be part of the installer too.
;
; Usage: makescript repl_src.conf
;

[GENERIC]
Template=template.nsi
Output=FreeBASIC_src.nsi

[SETUP_EXE_NAME]
Type=TEXT
Mask="SetupSrc.exe"

[ENABLE_SOURCES]
Type=TEXT
Mask=

[FILES_SOURCES]
Type=FILE_LIST
Root=../../..
MaskFolder=SetOutPath "$INSTDIR\\\0"
MaskFile=File "..\\..\\..\\\0"

Select=src
Select=tests

Exclude=.+~$
Exclude=\.bak$
Exclude=\.exe$
Exclude=\.o$
Exclude=\.a$
Exclude=/CVS$
Exclude=/\.#.*$
Exclude=rtlib/_netbsd$
Exclude=rtlib/_newlib$
Exclude=rtlib/win32/portio/i386$
Exclude=rtlib/win32/portio/null_drv$
Exclude=/obj$
Exclude=/FreeBASIC.*\.nsi$
Exclude=/out\.txt$

[DELETE_SOURCES]
Type=FILE_LIST
ListFrom=FILES_SOURCES
MaskFile=Delete "$INSTDIR\\\0"

[DELETE_FOLDERS]
ListFrom=FILES_SOURCES

