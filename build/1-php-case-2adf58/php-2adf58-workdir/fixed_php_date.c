int __get_mutant();
int __is_neg(const char *, int, const int *, int, const char *, int,
             const void **, int, const double *, ...);
int __abst_hole();
int __choose(char *);
void *memset(void *, int, unsigned long);
/*
   +----------------------------------------------------------------------+
   | PHP Version 5                                                        |
   +----------------------------------------------------------------------+
   | Copyright (c) 1997-2011 The PHP Group                                |
   +----------------------------------------------------------------------+
   | This source file is subject to version 3.01 of the PHP license,      |
   | that is bundled with this package in the file LICENSE, and is        |
   | available through the world-wide-web at the following url:           |
   | http://www.php.net/license/3_01.txt                                  |
   | If you did not receive a copy of the PHP license and are unable to   |
   | obtain it through the world-wide-web, please send a note to          |
   | license@php.net so we can mail you a copy immediately.               |
   +----------------------------------------------------------------------+
   | Authors: Derick Rethans <derick@derickrethans.nl>                    |
   +----------------------------------------------------------------------+
 */

/* $Id$ */

#include "ext/standard/info.h"
#include "ext/standard/php_math.h"
#include "ext/standard/php_versioning.h"
#include "lib/timelib.h"
#include "php.h"
#include "php_date.h"
#include "php_globals.h"
#include "php_ini.h"
#include "php_main.h"
#include "php_streams.h"
#include "zend_interfaces.h"
#include <time.h>

#ifdef PHP_WIN32
static __inline __int64 php_date_llabs(__int64 i) { return i >= 0 ? i : -i; }
#elif defined(__GNUC__) && __GNUC__ < 3
static __inline __int64_t php_date_llabs(__int64_t i) {
  return i >= 0 ? i : -i;
}
#else
static inline long long php_date_llabs(long long i) { return i >= 0 ? i : -i; }
#endif

/* {{{ arginfo */
ZEND_BEGIN_ARG_INFO_EX(arginfo_date, 0, 0, 1)
ZEND_ARG_INFO(0, format)
ZEND_ARG_INFO(0, timestamp)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO_EX(arginfo_gmdate, 0, 0, 1)
ZEND_ARG_INFO(0, format)
ZEND_ARG_INFO(0, timestamp)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO_EX(arginfo_idate, 0, 0, 1)
ZEND_ARG_INFO(0, format)
ZEND_ARG_INFO(0, timestamp)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO_EX(arginfo_strtotime, 0, 0, 1)
ZEND_ARG_INFO(0, time)
ZEND_ARG_INFO(0, now)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO_EX(arginfo_mktime, 0, 0, 0)
ZEND_ARG_INFO(0, hour)
ZEND_ARG_INFO(0, min)
ZEND_ARG_INFO(0, sec)
ZEND_ARG_INFO(0, mon)
ZEND_ARG_INFO(0, day)
ZEND_ARG_INFO(0, year)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO_EX(arginfo_gmmktime, 0, 0, 0)
ZEND_ARG_INFO(0, hour)
ZEND_ARG_INFO(0, min)
ZEND_ARG_INFO(0, sec)
ZEND_ARG_INFO(0, mon)
ZEND_ARG_INFO(0, day)
ZEND_ARG_INFO(0, year)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO(arginfo_checkdate, 0)
ZEND_ARG_INFO(0, month)
ZEND_ARG_INFO(0, day)
ZEND_ARG_INFO(0, year)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO_EX(arginfo_strftime, 0, 0, 1)
ZEND_ARG_INFO(0, format)
ZEND_ARG_INFO(0, timestamp)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO_EX(arginfo_gmstrftime, 0, 0, 1)
ZEND_ARG_INFO(0, format)
ZEND_ARG_INFO(0, timestamp)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO(arginfo_time, 0)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO_EX(arginfo_localtime, 0, 0, 0)
ZEND_ARG_INFO(0, timestamp)
ZEND_ARG_INFO(0, associative_array)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO_EX(arginfo_getdate, 0, 0, 0)
ZEND_ARG_INFO(0, timestamp)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO(arginfo_date_default_timezone_set, 0)
ZEND_ARG_INFO(0, timezone_identifier)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO(arginfo_date_default_timezone_get, 0)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO_EX(arginfo_date_sunrise, 0, 0, 1)
ZEND_ARG_INFO(0, time)
ZEND_ARG_INFO(0, format)
ZEND_ARG_INFO(0, latitude)
ZEND_ARG_INFO(0, longitude)
ZEND_ARG_INFO(0, zenith)
ZEND_ARG_INFO(0, gmt_offset)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO_EX(arginfo_date_sunset, 0, 0, 1)
ZEND_ARG_INFO(0, time)
ZEND_ARG_INFO(0, format)
ZEND_ARG_INFO(0, latitude)
ZEND_ARG_INFO(0, longitude)
ZEND_ARG_INFO(0, zenith)
ZEND_ARG_INFO(0, gmt_offset)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO(arginfo_date_sun_info, 0)
ZEND_ARG_INFO(0, time)
ZEND_ARG_INFO(0, latitude)
ZEND_ARG_INFO(0, longitude)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO_EX(arginfo_date_create, 0, 0, 0)
ZEND_ARG_INFO(0, time)
ZEND_ARG_INFO(0, object)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO_EX(arginfo_date_create_from_format, 0, 0, 2)
ZEND_ARG_INFO(0, format)
ZEND_ARG_INFO(0, time)
ZEND_ARG_INFO(0, object)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO_EX(arginfo_date_parse, 0, 0, 1)
ZEND_ARG_INFO(0, date)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO_EX(arginfo_date_parse_from_format, 0, 0, 2)
ZEND_ARG_INFO(0, format)
ZEND_ARG_INFO(0, date)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO(arginfo_date_get_last_errors, 0)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO_EX(arginfo_date_format, 0, 0, 2)
ZEND_ARG_INFO(0, object)
ZEND_ARG_INFO(0, format)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO_EX(arginfo_date_method_format, 0, 0, 1)
ZEND_ARG_INFO(0, format)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO_EX(arginfo_date_modify, 0, 0, 2)
ZEND_ARG_INFO(0, object)
ZEND_ARG_INFO(0, modify)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO_EX(arginfo_date_method_modify, 0, 0, 1)
ZEND_ARG_INFO(0, modify)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO_EX(arginfo_date_add, 0, 0, 2)
ZEND_ARG_INFO(0, object)
ZEND_ARG_INFO(0, interval)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO_EX(arginfo_date_method_add, 0, 0, 1)
ZEND_ARG_INFO(0, interval)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO_EX(arginfo_date_sub, 0, 0, 2)
ZEND_ARG_INFO(0, object)
ZEND_ARG_INFO(0, interval)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO_EX(arginfo_date_method_sub, 0, 0, 1)
ZEND_ARG_INFO(0, interval)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO_EX(arginfo_date_timezone_get, 0, 0, 1)
ZEND_ARG_INFO(0, object)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO(arginfo_date_method_timezone_get, 0)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO_EX(arginfo_date_timezone_set, 0, 0, 2)
ZEND_ARG_INFO(0, object)
ZEND_ARG_INFO(0, timezone)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO_EX(arginfo_date_method_timezone_set, 0, 0, 1)
ZEND_ARG_INFO(0, timezone)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO_EX(arginfo_date_offset_get, 0, 0, 1)
ZEND_ARG_INFO(0, object)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO(arginfo_date_method_offset_get, 0)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO_EX(arginfo_date_diff, 0, 0, 2)
ZEND_ARG_INFO(0, object)
ZEND_ARG_INFO(0, object2)
ZEND_ARG_INFO(0, absolute)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO_EX(arginfo_date_method_diff, 0, 0, 1)
ZEND_ARG_INFO(0, object)
ZEND_ARG_INFO(0, absolute)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO_EX(arginfo_date_time_set, 0, 0, 3)
ZEND_ARG_INFO(0, object)
ZEND_ARG_INFO(0, hour)
ZEND_ARG_INFO(0, minute)
ZEND_ARG_INFO(0, second)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO_EX(arginfo_date_method_time_set, 0, 0, 2)
ZEND_ARG_INFO(0, hour)
ZEND_ARG_INFO(0, minute)
ZEND_ARG_INFO(0, second)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO_EX(arginfo_date_date_set, 0, 0, 4)
ZEND_ARG_INFO(0, object)
ZEND_ARG_INFO(0, year)
ZEND_ARG_INFO(0, month)
ZEND_ARG_INFO(0, day)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO_EX(arginfo_date_method_date_set, 0, 0, 3)
ZEND_ARG_INFO(0, year)
ZEND_ARG_INFO(0, month)
ZEND_ARG_INFO(0, day)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO_EX(arginfo_date_isodate_set, 0, 0, 3)
ZEND_ARG_INFO(0, object)
ZEND_ARG_INFO(0, year)
ZEND_ARG_INFO(0, week)
ZEND_ARG_INFO(0, day)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO_EX(arginfo_date_method_isodate_set, 0, 0, 2)
ZEND_ARG_INFO(0, year)
ZEND_ARG_INFO(0, week)
ZEND_ARG_INFO(0, day)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO_EX(arginfo_date_timestamp_set, 0, 0, 2)
ZEND_ARG_INFO(0, object)
ZEND_ARG_INFO(0, unixtimestamp)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO_EX(arginfo_date_method_timestamp_set, 0, 0, 1)
ZEND_ARG_INFO(0, unixtimestamp)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO_EX(arginfo_date_timestamp_get, 0, 0, 1)
ZEND_ARG_INFO(0, object)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO(arginfo_date_method_timestamp_get, 0)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO_EX(arginfo_timezone_open, 0, 0, 1)
ZEND_ARG_INFO(0, timezone)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO_EX(arginfo_timezone_name_get, 0, 0, 1)
ZEND_ARG_INFO(0, object)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO(arginfo_timezone_method_name_get, 0)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO_EX(arginfo_timezone_name_from_abbr, 0, 0, 1)
ZEND_ARG_INFO(0, abbr)
ZEND_ARG_INFO(0, gmtoffset)
ZEND_ARG_INFO(0, isdst)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO_EX(arginfo_timezone_offset_get, 0, 0, 2)
ZEND_ARG_INFO(0, object)
ZEND_ARG_INFO(0, datetime)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO_EX(arginfo_timezone_method_offset_get, 0, 0, 1)
ZEND_ARG_INFO(0, datetime)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO_EX(arginfo_timezone_transitions_get, 0, 0, 1)
ZEND_ARG_INFO(0, object)
ZEND_ARG_INFO(0, timestamp_begin)
ZEND_ARG_INFO(0, timestamp_end)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO(arginfo_timezone_method_transitions_get, 0)
ZEND_ARG_INFO(0, timestamp_begin)
ZEND_ARG_INFO(0, timestamp_end)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO_EX(arginfo_timezone_location_get, 0, 0, 1)
ZEND_ARG_INFO(0, object)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO(arginfo_timezone_method_location_get, 0)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO_EX(arginfo_timezone_identifiers_list, 0, 0, 0)
ZEND_ARG_INFO(0, what)
ZEND_ARG_INFO(0, country)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO(arginfo_timezone_abbreviations_list, 0)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO(arginfo_timezone_version_get, 0)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO_EX(arginfo_date_interval_create_from_date_string, 0, 0, 1)
ZEND_ARG_INFO(0, time)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO_EX(arginfo_date_interval_format, 0, 0, 2)
ZEND_ARG_INFO(0, object)
ZEND_ARG_INFO(0, format)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO(arginfo_date_method_interval_format, 0)
ZEND_ARG_INFO(0, format)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO_EX(arginfo_date_period_construct, 0, 0, 3)
ZEND_ARG_INFO(0, start)
ZEND_ARG_INFO(0, interval)
ZEND_ARG_INFO(0, end)
ZEND_END_ARG_INFO()

ZEND_BEGIN_ARG_INFO_EX(arginfo_date_interval_construct, 0, 0, 0)
ZEND_ARG_INFO(0, interval_spec)
ZEND_END_ARG_INFO()
/* }}} */

/* {{{ Function table */
const zend_function_entry date_functions[] =
    {PHP_FE(strtotime, arginfo_strtotime) PHP_FE(date, arginfo_date)
         PHP_FE(idate, arginfo_idate) PHP_FE(gmdate, arginfo_gmdate)
             PHP_FE(mktime, arginfo_mktime) PHP_FE(gmmktime, arginfo_gmmktime)
                 PHP_FE(checkdate, arginfo_checkdate)

#ifdef HAVE_STRFTIME
                     PHP_FE(strftime, arginfo_strftime)
                         PHP_FE(gmstrftime, arginfo_gmstrftime)
#endif

                             PHP_FE(time, arginfo_time)
                                 PHP_FE(localtime, arginfo_localtime)
                                     PHP_FE(getdate, arginfo_getdate)

     /* Advanced Interface */
     PHP_FE(date_create, arginfo_date_create) PHP_FE(
         date_create_from_format,
         arginfo_date_create_from_format) PHP_FE(date_parse, arginfo_date_parse)
         PHP_FE(date_parse_from_format, arginfo_date_parse_from_format) PHP_FE(
             date_get_last_errors,
             arginfo_date_get_last_errors) PHP_FE(date_format,
                                                  arginfo_date_format)
             PHP_FE(date_modify, arginfo_date_modify) PHP_FE(date_add, arginfo_date_add) PHP_FE(
                 date_sub,
                 arginfo_date_sub) PHP_FE(date_timezone_get, arginfo_date_timezone_get)
                 PHP_FE(date_timezone_set, arginfo_date_timezone_set) PHP_FE(
                     date_offset_get,
                     arginfo_date_offset_get) PHP_FE(date_diff, arginfo_date_diff)

                     PHP_FE(date_time_set, arginfo_date_time_set) PHP_FE(
                         date_date_set,
                         arginfo_date_date_set) PHP_FE(date_isodate_set, arginfo_date_isodate_set)
                         PHP_FE(date_timestamp_set, arginfo_date_timestamp_set) PHP_FE(
                             date_timestamp_get,
                             arginfo_date_timestamp_get)

                             PHP_FE(timezone_open, arginfo_timezone_open) PHP_FE(
                                 timezone_name_get,
                                 arginfo_timezone_name_get)
                                 PHP_FE(
                                     timezone_name_from_abbr,
                                     arginfo_timezone_name_from_abbr)
                                     PHP_FE(timezone_offset_get, arginfo_timezone_offset_get) PHP_FE(
                                         timezone_transitions_get,
                                         arginfo_timezone_transitions_get)
                                         PHP_FE(
                                             timezone_location_get,
                                             arginfo_timezone_location_get)
                                             PHP_FE(
                                                 timezone_identifiers_list,
                                                 arginfo_timezone_identifiers_list)
                                                 PHP_FE(
                                                     timezone_abbreviations_list,
                                                     arginfo_timezone_abbreviations_list)
                                                     PHP_FE(
                                                         timezone_version_get,
                                                         arginfo_timezone_version_get)

                                                         PHP_FE(
                                                             date_interval_create_from_date_string,
                                                             arginfo_date_interval_create_from_date_string)
                                                             PHP_FE(
                                                                 date_interval_format,
                                                                 arginfo_date_interval_format)

     /* Options and Configuration */
     PHP_FE(date_default_timezone_set, arginfo_date_default_timezone_set)
         PHP_FE(date_default_timezone_get, arginfo_date_default_timezone_get)

     /* Astronomical functions */
     PHP_FE(date_sunrise, arginfo_date_sunrise)
         PHP_FE(date_sunset, arginfo_date_sunset)
             PHP_FE(date_sun_info, arginfo_date_sun_info){NULL, NULL, NULL}};

const zend_function_entry date_funcs_date[] = {
    PHP_ME(DateTime, __construct, arginfo_date_create,
           ZEND_ACC_CTOR | ZEND_ACC_PUBLIC)
        PHP_ME(DateTime, __wakeup, NULL, ZEND_ACC_PUBLIC) PHP_ME(
            DateTime, __set_state, NULL,
            ZEND_ACC_PUBLIC |
                ZEND_ACC_STATIC) PHP_ME_MAPPING(createFromFormat,
                                                date_create_from_format,
                                                arginfo_date_create_from_format,
                                                ZEND_ACC_PUBLIC |
                                                    ZEND_ACC_STATIC)
            PHP_ME_MAPPING(getLastErrors, date_get_last_errors,
                           arginfo_date_get_last_errors,
                           ZEND_ACC_PUBLIC | ZEND_ACC_STATIC)
                PHP_ME_MAPPING(
                    format, date_format, arginfo_date_method_format,
                    0) PHP_ME_MAPPING(modify, date_modify,
                                      arginfo_date_method_modify,
                                      0) PHP_ME_MAPPING(add, date_add,
                                                        arginfo_date_method_add,
                                                        0)
                    PHP_ME_MAPPING(
                        sub, date_sub, arginfo_date_method_sub,
                        0) PHP_ME_MAPPING(getTimezone, date_timezone_get,
                                          arginfo_date_method_timezone_get, 0)
                        PHP_ME_MAPPING(
                            setTimezone, date_timezone_set,
                            arginfo_date_method_timezone_set,
                            0) PHP_ME_MAPPING(getOffset, date_offset_get,
                                              arginfo_date_method_offset_get, 0)
                            PHP_ME_MAPPING(
                                setTime, date_time_set,
                                arginfo_date_method_time_set,
                                0) PHP_ME_MAPPING(setDate, date_date_set,
                                                  arginfo_date_method_date_set,
                                                  0)
                                PHP_ME_MAPPING(setISODate, date_isodate_set,
                                               arginfo_date_method_isodate_set,
                                               0)
                                    PHP_ME_MAPPING(
                                        setTimestamp, date_timestamp_set,
                                        arginfo_date_method_timestamp_set, 0)
                                        PHP_ME_MAPPING(
                                            getTimestamp, date_timestamp_get,
                                            arginfo_date_method_timestamp_get,
                                            0)
                                            PHP_ME_MAPPING(
                                                diff, date_diff,
                                                arginfo_date_method_diff,
                                                0){NULL, NULL, NULL}};

const zend_function_entry date_funcs_timezone[] = {
    PHP_ME(DateTimeZone, __construct, arginfo_timezone_open,
           ZEND_ACC_CTOR | ZEND_ACC_PUBLIC)
        PHP_ME_MAPPING(getName, timezone_name_get,
                       arginfo_timezone_method_name_get,
                       0) PHP_ME_MAPPING(getOffset, timezone_offset_get,
                                         arginfo_timezone_method_offset_get, 0)
            PHP_ME_MAPPING(
                getTransitions, timezone_transitions_get,
                arginfo_timezone_method_transitions_get,
                0) PHP_ME_MAPPING(getLocation, timezone_location_get,
                                  arginfo_timezone_method_location_get, 0)
                PHP_ME_MAPPING(listAbbreviations, timezone_abbreviations_list,
                               arginfo_timezone_abbreviations_list,
                               ZEND_ACC_PUBLIC | ZEND_ACC_STATIC)
                    PHP_ME_MAPPING(listIdentifiers, timezone_identifiers_list,
                                   arginfo_timezone_identifiers_list,
                                   ZEND_ACC_PUBLIC |
                                       ZEND_ACC_STATIC){NULL, NULL, NULL}};

const zend_function_entry date_funcs_interval[] = {
    PHP_ME(DateInterval, __construct, arginfo_date_interval_construct,
           ZEND_ACC_CTOR | ZEND_ACC_PUBLIC)
        PHP_ME_MAPPING(format, date_interval_format,
                       arginfo_date_method_interval_format, 0)
            PHP_ME_MAPPING(
                createFromDateString, date_interval_create_from_date_string,
                arginfo_date_interval_create_from_date_string,
                ZEND_ACC_PUBLIC | ZEND_ACC_STATIC){NULL, NULL, NULL}};

const zend_function_entry date_funcs_period[] = {
    PHP_ME(DatePeriod, __construct, arginfo_date_period_construct,
           ZEND_ACC_CTOR | ZEND_ACC_PUBLIC){NULL, NULL, NULL}};

static char *guess_timezone(const timelib_tzdb *tzdb TSRMLS_DC);
static void date_register_classes(TSRMLS_D);
/* }}} */

ZEND_DECLARE_MODULE_GLOBALS(date)
static PHP_GINIT_FUNCTION(date);

/* True global */
timelib_tzdb *php_date_global_timezone_db;
int php_date_global_timezone_db_enabled;

#define DATE_DEFAULT_LATITUDE "31.7667"
#define DATE_DEFAULT_LONGITUDE "35.2333"

/* on 90'35; common sunset declaration (start of sun body appear) */
#define DATE_SUNSET_ZENITH "90.583333"

/* on 90'35; common sunrise declaration (sun body disappeared) */
#define DATE_SUNRISE_ZENITH "90.583333"

/* {{{ INI Settings */
PHP_INI_BEGIN()
STD_PHP_INI_ENTRY("date.timezone", "", PHP_INI_ALL, OnUpdateString,
                  default_timezone, zend_date_globals, date_globals)
PHP_INI_ENTRY("date.default_latitude", DATE_DEFAULT_LATITUDE, PHP_INI_ALL, NULL)
PHP_INI_ENTRY("date.default_longitude", DATE_DEFAULT_LONGITUDE, PHP_INI_ALL,
              NULL)
PHP_INI_ENTRY("date.sunset_zenith", DATE_SUNSET_ZENITH, PHP_INI_ALL, NULL)
PHP_INI_ENTRY("date.sunrise_zenith", DATE_SUNRISE_ZENITH, PHP_INI_ALL, NULL)
PHP_INI_END()
/* }}} */

zend_class_entry *date_ce_date, *date_ce_timezone, *date_ce_interval,
    *date_ce_period;

PHPAPI zend_class_entry *php_date_get_date_ce(void) { return date_ce_date; }

PHPAPI zend_class_entry *php_date_get_timezone_ce(void) {
  return date_ce_timezone;
}

static zend_object_handlers date_object_handlers_date;
static zend_object_handlers date_object_handlers_timezone;
static zend_object_handlers date_object_handlers_interval;
static zend_object_handlers date_object_handlers_period;

#define DATE_SET_CONTEXT                                                       \
  zval *object;                                                                \
  object = getThis();

#define DATE_FETCH_OBJECT                                                      \
  php_date_obj *obj;                                                           \
  DATE_SET_CONTEXT;                                                            \
  if (object) {                                                                \
    if (zend_parse_parameters_none() == FAILURE) {                             \
      return;                                                                  \
    }                                                                          \
  } else {                                                                     \
    if (zend_parse_method_parameters(ZEND_NUM_ARGS() TSRMLS_CC, NULL, "O",     \
                                     &object, date_ce_date) == FAILURE) {      \
      RETURN_FALSE;                                                            \
    }                                                                          \
  }                                                                            \
  obj = (php_date_obj *)zend_object_store_get_object(object TSRMLS_CC);

#define DATE_CHECK_INITIALIZED(member, class_name)                             \
  if (!(member)) {                                                             \
    php_error_docref(                                                          \
        NULL TSRMLS_CC, E_WARNING,                                             \
        "The " #class_name                                                     \
        " object has not been correctly initialized by its constructor");      \
    RETURN_FALSE;                                                              \
  }

static void date_object_free_storage_date(void *object TSRMLS_DC);
static void date_object_free_storage_timezone(void *object TSRMLS_DC);
static void date_object_free_storage_interval(void *object TSRMLS_DC);
static void date_object_free_storage_period(void *object TSRMLS_DC);

static zend_object_value
date_object_new_date(zend_class_entry *class_type TSRMLS_DC);
static zend_object_value
date_object_new_timezone(zend_class_entry *class_type TSRMLS_DC);
static zend_object_value
date_object_new_interval(zend_class_entry *class_type TSRMLS_DC);
static zend_object_value
date_object_new_period(zend_class_entry *class_type TSRMLS_DC);

static zend_object_value date_object_clone_date(zval *this_ptr TSRMLS_DC);
static zend_object_value date_object_clone_timezone(zval *this_ptr TSRMLS_DC);
static zend_object_value date_object_clone_interval(zval *this_ptr TSRMLS_DC);
static zend_object_value date_object_clone_period(zval *this_ptr TSRMLS_DC);

static int date_object_compare_date(zval *d1, zval *d2 TSRMLS_DC);
static HashTable *date_object_get_properties(zval *object TSRMLS_DC);
static HashTable *date_object_get_properties_interval(zval *object TSRMLS_DC);

zval *date_interval_read_property(zval *object, zval *member, int type,
                                  const zend_literal *key TSRMLS_DC);
void date_interval_write_property(zval *object, zval *member, zval *value,
                                  const zend_literal *key TSRMLS_DC);

/* {{{ Module struct */
zend_module_entry date_module_entry = {
    STANDARD_MODULE_HEADER_EX,
    NULL,
    NULL,
    "date",                   /* extension name */
    date_functions,           /* function list */
    PHP_MINIT(date),          /* process startup */
    PHP_MSHUTDOWN(date),      /* process shutdown */
    PHP_RINIT(date),          /* request startup */
    PHP_RSHUTDOWN(date),      /* request shutdown */
    PHP_MINFO(date),          /* extension info */
    PHP_VERSION,              /* extension version */
    PHP_MODULE_GLOBALS(date), /* globals descriptor */
    PHP_GINIT(date),          /* globals ctor */
    NULL,                     /* globals dtor */
    NULL,                     /* post deactivate */
    STANDARD_MODULE_PROPERTIES_EX};
/* }}} */

/* {{{ PHP_GINIT_FUNCTION */
static PHP_GINIT_FUNCTION(date) {
  date_globals->default_timezone = NULL;
  date_globals->timezone = NULL;
  date_globals->tzcache = NULL;
}
/* }}} */

static void _php_date_tzinfo_dtor(void *tzinfo) {
  timelib_tzinfo **tzi = (timelib_tzinfo **)tzinfo;

  timelib_tzinfo_dtor(*tzi);
}

/* {{{ PHP_RINIT_FUNCTION */
PHP_RINIT_FUNCTION(date) {
  if (DATEG(timezone)) {
    efree(DATEG(timezone));
  }
  DATEG(timezone) = NULL;
  DATEG(tzcache) = NULL;
  DATEG(last_errors) = NULL;

  return SUCCESS;
}
/* }}} */

/* {{{ PHP_RSHUTDOWN_FUNCTION */
PHP_RSHUTDOWN_FUNCTION(date) {
  if (DATEG(timezone)) {
    efree(DATEG(timezone));
  }
  DATEG(timezone) = NULL;
  if (DATEG(tzcache)) {
    zend_hash_destroy(DATEG(tzcache));
    FREE_HASHTABLE(DATEG(tzcache));
    DATEG(tzcache) = NULL;
  }
  if (DATEG(last_errors)) {
    timelib_error_container_dtor(DATEG(last_errors));
    DATEG(last_errors) = NULL;
  }

  return SUCCESS;
}
/* }}} */

#define DATE_TIMEZONEDB                                                        \
  php_date_global_timezone_db ? php_date_global_timezone_db                    \
                              : timelib_builtin_db()

/*
 * RFC822, Section 5.1: http://www.ietf.org/rfc/rfc822.txt
 *  date-time   =  [ day "," ] date time        ; dd mm yy hh:mm:ss zzz
 *  day         =  "Mon"  / "Tue" /  "Wed"  / "Thu"  /  "Fri"  / "Sat" /  "Sun"
 *  date        =  1*2DIGIT month 2DIGIT        ; day month year e.g. 20 Jun 82
 *  month       =  "Jan"  /  "Feb" /  "Mar"  /  "Apr"  /  "May"  /  "Jun" /
 * "Jul"  /  "Aug"  /  "Sep"  /  "Oct" /  "Nov"  /  "Dec" time        =  hour
 * zone                    ; ANSI and Military hour        =  2DIGIT ":" 2DIGIT
 * [":" 2DIGIT] ; 00:00:00 - 23:59:59 zone        =  "UT"  / "GMT"  /  "EST" /
 * "EDT"  /  "CST" / "CDT"  /  "MST" / "MDT"  /  "PST" / "PDT"  /  1ALPHA  / (
 * ("+" / "-") 4DIGIT )
 */
#define DATE_FORMAT_RFC822 "D, d M y H:i:s O"

/*
 * RFC850, Section 2.1.4: http://www.ietf.org/rfc/rfc850.txt
 *  Format must be acceptable both to the ARPANET and to the getdate routine.
 *  One format that is acceptable to both is Weekday, DD-Mon-YY HH:MM:SS
 * TIMEZONE TIMEZONE can be any timezone name (3 or more letters)
 */
#define DATE_FORMAT_RFC850 "l, d-M-y H:i:s T"

/*
 * RFC1036, Section 2.1.2: http://www.ietf.org/rfc/rfc1036.txt
 *  Its format must be acceptable both in RFC-822 and to the getdate(3)
 *  Wdy, DD Mon YY HH:MM:SS TIMEZONE
 *  There is no hope of having a complete list of timezones.  Universal
 *  Time (GMT), the North American timezones (PST, PDT, MST, MDT, CST,
 *  CDT, EST, EDT) and the +/-hhmm offset specifed in RFC-822 should be
 * supported.
 */
#define DATE_FORMAT_RFC1036 "D, d M y H:i:s O"

/*
 * RFC1123, Section 5.2.14: http://www.ietf.org/rfc/rfc1123.txt
 *  RFC-822 Date and Time Specification: RFC-822 Section 5
 *  The syntax for the date is hereby changed to: date = 1*2DIGIT month 2*4DIGIT
 */
#define DATE_FORMAT_RFC1123 "D, d M Y H:i:s O"

/*
 * RFC2822, Section 3.3: http://www.ietf.org/rfc/rfc2822.txt
 *  FWS             =       ([*WSP CRLF] 1*WSP) /   ; Folding white space
 *  CFWS            =       *([FWS] comment) (([FWS] comment) / FWS)
 *
 *  date-time       =       [ day-of-week "," ] date FWS time [CFWS]
 *  day-of-week     =       ([FWS] day-name)
 *  day-name        =       "Mon" / "Tue" / "Wed" / "Thu" / "Fri" / "Sat" /
 * "Sun" date            =       day month year year            =       4*DIGIT
 *  month           =       (FWS month-name FWS)
 *  month-name      =       "Jan" / "Feb" / "Mar" / "Apr" / "May" / "Jun" /
 * "Jul" / "Aug" / "Sep" / "Oct" / "Nov" / "Dec" day             =       ([FWS]
 * 1*2DIGIT) time            =       time-of-day FWS zone time-of-day     = hour
 * ":" minute [ ":" second ] hour            =       2DIGIT minute          =
 * 2DIGIT second          =       2DIGIT zone            =       (( "+" / "-" )
 * 4DIGIT)
 */
#define DATE_FORMAT_RFC2822 "D, d M Y H:i:s O"
/*
 * RFC3339, Section 5.6: http://www.ietf.org/rfc/rfc3339.txt
 *  date-fullyear   = 4DIGIT
 *  date-month      = 2DIGIT  ; 01-12
 *  date-mday       = 2DIGIT  ; 01-28, 01-29, 01-30, 01-31 based on month/year
 *
 *  time-hour       = 2DIGIT  ; 00-23
 *  time-minute     = 2DIGIT  ; 00-59
 *  time-second     = 2DIGIT  ; 00-58, 00-59, 00-60 based on leap second rules
 *
 *  time-secfrac    = "." 1*DIGIT
 *  time-numoffset  = ("+" / "-") time-hour ":" time-minute
 *  time-offset     = "Z" / time-numoffset
 *
 *  partial-time    = time-hour ":" time-minute ":" time-second [time-secfrac]
 *  full-date       = date-fullyear "-" date-month "-" date-mday
 *  full-time       = partial-time time-offset
 *
 *  date-time       = full-date "T" full-time
 */
#define DATE_FORMAT_RFC3339 "Y-m-d\\TH:i:sP"

#define DATE_FORMAT_ISO8601 "Y-m-d\\TH:i:sO"

#define DATE_TZ_ERRMSG                                                         \
  "It is not safe to rely on the system's timezone settings. You are "         \
  "*required* to use the date.timezone setting or the "                        \
  "date_default_timezone_set() function. In case you used any of those "       \
  "methods and you are still getting this warning, you most likely "           \
  "misspelled the timezone identifier. "

#define SUNFUNCS_RET_TIMESTAMP 0
#define SUNFUNCS_RET_STRING 1
#define SUNFUNCS_RET_DOUBLE 2

/* {{{ PHP_MINIT_FUNCTION */
PHP_MINIT_FUNCTION(date) {
  REGISTER_INI_ENTRIES();
  date_register_classes(TSRMLS_C);
  /*
   * RFC4287, Section 3.3: http://www.ietf.org/rfc/rfc4287.txt
   *   A Date construct is an element whose content MUST conform to the
   *   "date-time" production in [RFC3339].  In addition, an uppercase "T"
   *   character MUST be used to separate date and time, and an uppercase
   *   "Z" character MUST be present in the absence of a numeric time zone
   * offset.
   */
  REGISTER_STRING_CONSTANT("DATE_ATOM", DATE_FORMAT_RFC3339,
                           CONST_CS | CONST_PERSISTENT);
  /*
   * Preliminary specification:
   * http://wp.netscape.com/newsref/std/cookie_spec.html "This is based on RFC
   * 822, RFC 850,  RFC 1036, and  RFC 1123, with the variations that the only
   * legal time zone is GMT and the separators between the elements of the date
   * must be dashes."
   */
  REGISTER_STRING_CONSTANT("DATE_COOKIE", DATE_FORMAT_RFC850,
                           CONST_CS | CONST_PERSISTENT);
  REGISTER_STRING_CONSTANT("DATE_ISO8601", DATE_FORMAT_ISO8601,
                           CONST_CS | CONST_PERSISTENT);
  REGISTER_STRING_CONSTANT("DATE_RFC822", DATE_FORMAT_RFC822,
                           CONST_CS | CONST_PERSISTENT);
  REGISTER_STRING_CONSTANT("DATE_RFC850", DATE_FORMAT_RFC850,
                           CONST_CS | CONST_PERSISTENT);
  REGISTER_STRING_CONSTANT("DATE_RFC1036", DATE_FORMAT_RFC1036,
                           CONST_CS | CONST_PERSISTENT);
  REGISTER_STRING_CONSTANT("DATE_RFC1123", DATE_FORMAT_RFC1123,
                           CONST_CS | CONST_PERSISTENT);
  REGISTER_STRING_CONSTANT("DATE_RFC2822", DATE_FORMAT_RFC2822,
                           CONST_CS | CONST_PERSISTENT);
  REGISTER_STRING_CONSTANT("DATE_RFC3339", DATE_FORMAT_RFC3339,
                           CONST_CS | CONST_PERSISTENT);
  /*
   * RSS 2.0 Specification: http://blogs.law.harvard.edu/tech/rss
   *   "All date-times in RSS conform to the Date and Time Specification of RFC
   * 822, with the exception that the year may be expressed with two characters
   * or four characters (four preferred)"
   */
  REGISTER_STRING_CONSTANT("DATE_RSS", DATE_FORMAT_RFC1123,
                           CONST_CS | CONST_PERSISTENT);
  REGISTER_STRING_CONSTANT("DATE_W3C", DATE_FORMAT_RFC3339,
                           CONST_CS | CONST_PERSISTENT);

  REGISTER_LONG_CONSTANT("SUNFUNCS_RET_TIMESTAMP", SUNFUNCS_RET_TIMESTAMP,
                         CONST_CS | CONST_PERSISTENT);
  REGISTER_LONG_CONSTANT("SUNFUNCS_RET_STRING", SUNFUNCS_RET_STRING,
                         CONST_CS | CONST_PERSISTENT);
  REGISTER_LONG_CONSTANT("SUNFUNCS_RET_DOUBLE", SUNFUNCS_RET_DOUBLE,
                         CONST_CS | CONST_PERSISTENT);

  php_date_global_timezone_db = NULL;
  php_date_global_timezone_db_enabled = 0;
  DATEG(last_errors) = NULL;
  return SUCCESS;
}
/* }}} */

/* {{{ PHP_MSHUTDOWN_FUNCTION */
PHP_MSHUTDOWN_FUNCTION(date) {
  UNREGISTER_INI_ENTRIES();

  if (DATEG(last_errors)) {
    timelib_error_container_dtor(DATEG(last_errors));
  }

  return SUCCESS;
}
/* }}} */

/* {{{ PHP_MINFO_FUNCTION */
PHP_MINFO_FUNCTION(date) {
  const timelib_tzdb *tzdb = DATE_TIMEZONEDB;

  php_info_print_table_start();
  php_info_print_table_row(2, "date/time support", "enabled");
  php_info_print_table_row(2, "\"Olson\" Timezone Database Version",
                           tzdb->version);
  php_info_print_table_row(2, "Timezone Database",
                           php_date_global_timezone_db_enabled ? "external"
                                                               : "internal");
  php_info_print_table_row(2, "Default timezone",
                           guess_timezone(tzdb TSRMLS_CC));
  php_info_print_table_end();

  DISPLAY_INI_ENTRIES();
}
/* }}} */

/* {{{ Timezone Cache functions */
static timelib_tzinfo *
php_date_parse_tzfile(char *formal_tzname, const timelib_tzdb *tzdb TSRMLS_DC) {
  timelib_tzinfo *tzi, **ptzi;

  if (!DATEG(tzcache)) {
    ALLOC_HASHTABLE(DATEG(tzcache));
    zend_hash_init(DATEG(tzcache), 4, NULL, _php_date_tzinfo_dtor, 0);
  }

  if (zend_hash_find(DATEG(tzcache), formal_tzname, strlen(formal_tzname) + 1,
                     (void **)&ptzi) == SUCCESS) {
    return *ptzi;
  }

  tzi = timelib_parse_tzfile(formal_tzname, tzdb);
  if (tzi) {
    zend_hash_add(DATEG(tzcache), formal_tzname, strlen(formal_tzname) + 1,
                  (void *)&tzi, sizeof(timelib_tzinfo *), NULL);
  }
  return tzi;
}
/* }}} */

/* {{{ Helper functions */
static char *guess_timezone(const timelib_tzdb *tzdb TSRMLS_DC) {
  char *env;

  /* Checking configure timezone */
  if (DATEG(timezone) && (strlen(DATEG(timezone)) > 0)) {
    return DATEG(timezone);
  }
  /* Check environment variable */
  env = getenv("TZ");
  if (env && *env && timelib_timezone_id_is_valid(env, tzdb)) {
    return env;
  }
  /* Check config setting for default timezone */
  if (!DATEG(default_timezone)) {
    /* Special case: ext/date wasn't initialized yet */
    zval ztz;

    if (SUCCESS == zend_get_configuration_directive(
                       "date.timezone", sizeof("date.timezone"), &ztz) &&
        Z_TYPE(ztz) == IS_STRING && Z_STRLEN(ztz) > 0 &&
        timelib_timezone_id_is_valid(Z_STRVAL(ztz), tzdb)) {
      return Z_STRVAL(ztz);
    }
  } else if (*DATEG(default_timezone) &&
             timelib_timezone_id_is_valid(DATEG(default_timezone), tzdb)) {
    return DATEG(default_timezone);
  }
#if HAVE_TM_ZONE
  /* Try to guess timezone from system information */
  {
    struct tm *ta, tmbuf;
    time_t the_time;
    char *tzid = NULL;

    the_time = time(NULL);
    ta = php_localtime_r(&the_time, &tmbuf);
    if (ta) {
      tzid = timelib_timezone_id_from_abbr(ta->tm_zone, ta->tm_gmtoff,
                                           ta->tm_isdst);
    }
    if (!tzid) {
      tzid = "UTC";
    }

    php_error_docref(NULL TSRMLS_CC, E_WARNING,
                     DATE_TZ_ERRMSG "We selected '%s' for '%s/%.1f/%s' instead",
                     tzid, ta ? ta->tm_zone : "Unknown",
                     ta ? (float)(ta->tm_gmtoff / 3600) : 0,
                     ta ? (ta->tm_isdst ? "DST" : "no DST") : "Unknown");
    return tzid;
  }
#endif
#ifdef PHP_WIN32
  {
    char *tzid;
    TIME_ZONE_INFORMATION tzi;

    switch (GetTimeZoneInformation(&tzi)) {
    /* DST in effect */
    case TIME_ZONE_ID_DAYLIGHT:
      /* If user has disabled DST in the control panel, Windows returns 0 here
       */
      if (tzi.DaylightBias == 0) {
        goto php_win_std_time;
      }

      tzid = timelib_timezone_id_from_abbr(
          "", (tzi.Bias + tzi.DaylightBias) * -60, 1);
      if (!tzid) {
        tzid = "UTC";
      }
      php_error_docref(NULL TSRMLS_CC, E_WARNING,
                       DATE_TZ_ERRMSG "We selected '%s' for '%.1f/DST' instead",
                       tzid, ((tzi.Bias + tzi.DaylightBias) / -60.0));
      break;

    /* no DST or not in effect */
    case TIME_ZONE_ID_UNKNOWN:
    case TIME_ZONE_ID_STANDARD:
    default:
    php_win_std_time:
      tzid = timelib_timezone_id_from_abbr(
          "", (tzi.Bias + tzi.StandardBias) * -60, 0);
      if (!tzid) {
        tzid = "UTC";
      }
      php_error_docref(NULL TSRMLS_CC, E_WARNING,
                       DATE_TZ_ERRMSG
                       "We selected '%s' for '%.1f/no DST' instead",
                       tzid, ((tzi.Bias + tzi.StandardBias) / -60.0));
      break;
    }
    return tzid;
  }
#elif defined(NETWARE)
  /* Try to guess timezone from system information */
  {
    char *tzid = timelib_timezone_id_from_abbr(
        "", ((_timezone * -1) + (daylightOffset * daylightOnOff)),
        daylightOnOff);
    if (tzid) {
      return tzid;
    }
  }
#endif
  /* Fallback to UTC */
  php_error_docref(NULL TSRMLS_CC, E_WARNING,
                   DATE_TZ_ERRMSG
                   "We had to select 'UTC' because your platform doesn't "
                   "provide functionality for the guessing algorithm");
  return "UTC";
}

PHPAPI timelib_tzinfo *get_timezone_info(TSRMLS_D) {
  char *tz;
  timelib_tzinfo *tzi;

  tz = guess_timezone(DATE_TIMEZONEDB TSRMLS_CC);
  tzi = php_date_parse_tzfile(tz, DATE_TIMEZONEDB TSRMLS_CC);
  if (!tzi) {
    php_error_docref(
        NULL TSRMLS_CC, E_ERROR,
        "Timezone database is corrupt - this should *never* happen!");
  }
  return tzi;
}
/* }}} */

/* {{{ date() and gmdate() data */
#include "ext/standard/php_smart_str.h"

static char *mon_full_names[] = {
    "January", "February", "March",     "April",   "May",      "June",
    "July",    "August",   "September", "October", "November", "December"};

static char *mon_short_names[] = {"Jan", "Feb", "Mar", "Apr", "May", "Jun",
                                  "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"};

static char *day_full_names[] = {"Sunday",   "Monday", "Tuesday", "Wednesday",
                                 "Thursday", "Friday", "Saturday"};

static char *day_short_names[] = {"Sun", "Mon", "Tue", "Wed",
                                  "Thu", "Fri", "Sat"};

static char *english_suffix(timelib_sll number) {
  if (number >= 10 && number <= 19) {
    return "th";
  } else {
    switch (number % 10) {
    case 1:
      return "st";
    case 2:
      return "nd";
    case 3:
      return "rd";
    }
  }
  return "th";
}
/* }}} */

/* {{{ day of week helpers */
char *php_date_full_day_name(timelib_sll y, timelib_sll m, timelib_sll d) {
  timelib_sll day_of_week = timelib_day_of_week(y, m, d);
  if (day_of_week < 0) {
    return "Unknown";
  }
  return day_full_names[day_of_week];
}

char *php_date_short_day_name(timelib_sll y, timelib_sll m, timelib_sll d) {
  timelib_sll day_of_week = timelib_day_of_week(y, m, d);
  if (day_of_week < 0) {
    return "Unknown";
  }
  return day_short_names[day_of_week];
}
/* }}} */

/* {{{ date_format - (gm)date helper */
static char *date_format(char *format, int format_len, timelib_time *t,
                         int localtime) {
  smart_str string = {0};
  int i, length;
  char buffer[97];
  timelib_time_offset *offset = NULL;
  timelib_sll isoweek, isoyear;
  int rfc_colon;

  if (!format_len) {
    return estrdup("");
  }

  if (localtime) {
    if (t->zone_type == TIMELIB_ZONETYPE_ABBR) {
      offset = timelib_time_offset_ctor();
      offset->offset = (t->z - (t->dst * 60)) * -60;
      offset->leap_secs = 0;
      offset->is_dst = t->dst;
      offset->abbr = strdup(t->tz_abbr);
    } else if (t->zone_type == TIMELIB_ZONETYPE_OFFSET) {
      offset = timelib_time_offset_ctor();
      offset->offset = (t->z) * -60;
      offset->leap_secs = 0;
      offset->is_dst = 0;
      offset->abbr = malloc(9); /* GMT�xxxx\0 */
      snprintf(offset->abbr, 9, "GMT%c%02d%02d",
               localtime ? ((offset->offset < 0) ? '-' : '+') : '+',
               localtime ? abs(offset->offset / 3600) : 0,
               localtime ? abs((offset->offset % 3600) / 60) : 0);
    } else {
      offset = timelib_get_time_zone_info(t->sse, t->tz_info);
    }
  }
  timelib_isoweek_from_date(t->y, t->m, t->d, &isoweek, &isoyear);

  for (i = 0; i < format_len; i++) {
    rfc_colon = 0;
    switch (format[i]) {
    /* day */
    case 'd':
      length = slprintf(buffer, 32, "%02d", (int)t->d);
      break;
    case 'D':
      length =
          slprintf(buffer, 32, "%s", php_date_short_day_name(t->y, t->m, t->d));
      break;
    case 'j':
      length = slprintf(buffer, 32, "%d", (int)t->d);
      break;
    case 'l':
      length =
          slprintf(buffer, 32, "%s", php_date_full_day_name(t->y, t->m, t->d));
      break;
    case 'S':
      length = slprintf(buffer, 32, "%s", english_suffix(t->d));
      break;
    case 'w':
      length = slprintf(buffer, 32, "%d",
                        (int)timelib_day_of_week(t->y, t->m, t->d));
      break;
    case 'N':
      length = slprintf(buffer, 32, "%d",
                        (int)timelib_iso_day_of_week(t->y, t->m, t->d));
      break;
    case 'z':
      length = slprintf(buffer, 32, "%d",
                        (int)timelib_day_of_year(t->y, t->m, t->d));
      break;

    /* week */
    case 'W':
      length = slprintf(buffer, 32, "%02d", (int)isoweek);
      break; /* iso weeknr */
    case 'o':
      length = slprintf(buffer, 32, "%d", (int)isoyear);
      break; /* iso year */

    /* month */
    case 'F':
      length = slprintf(buffer, 32, "%s", mon_full_names[t->m - 1]);
      break;
    case 'm':
      length = slprintf(buffer, 32, "%02d", (int)t->m);
      break;
    case 'M':
      length = slprintf(buffer, 32, "%s", mon_short_names[t->m - 1]);
      break;
    case 'n':
      length = slprintf(buffer, 32, "%d", (int)t->m);
      break;
    case 't':
      length =
          slprintf(buffer, 32, "%d", (int)timelib_days_in_month(t->y, t->m));
      break;

    /* year */
    case 'L':
      length = slprintf(buffer, 32, "%d", timelib_is_leap((int)t->y));
      break;
    case 'y':
      length = slprintf(buffer, 32, "%02d", (int)t->y % 100);
      break;
    case 'Y':
      length = slprintf(buffer, 32, "%s%04lld", t->y < 0 ? "-" : "",
                        php_date_llabs((timelib_sll)t->y));
      break;

    /* time */
    case 'a':
      length = slprintf(buffer, 32, "%s", t->h >= 12 ? "pm" : "am");
      break;
    case 'A':
      length = slprintf(buffer, 32, "%s", t->h >= 12 ? "PM" : "AM");
      break;
    case 'B': {
      int retval = (((((long)t->sse) -
                      (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                     10) /
                    864);
      // prophet generated patch
      switch (__choose("__ID0")) {
      case 0: {
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#ifdef COMPILE_0
      case 1: {
        ((date_globals.tzcache)) = (HashTable *)_emalloc(
            (sizeof(HashTable)), "ext/date/php_date.c", 822, ((void *)0), 0);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_1
      case 2: {
        (date_globals.last_errors) = ((void *)0);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_2
      case 3: {
        (date_globals.timezone) = ((void *)0);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_3
      case 4: {
        (date_globals.timezone) = _estrndup(
            (zone), (zone_len), "ext/date/php_date.c", 3945, ((void *)0), 0);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_4
      case 5: {
        (date_globals.tzcache) = ((void *)0);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_5
      case 6: {
        (executor_globals.argument_stack) =
            zend_vm_stack_new_page(((16 * 1024) - 16));
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_6
      case 7: {
        (format)++;
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_7
      case 8: {
        (offset) = timelib_get_time_zone_info(t->sse, t->tz_info);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_8
      case 9: {
        (offset) = timelib_time_offset_ctor();
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_9
      case 10: {
        (offset)->abbr = malloc(9);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_10
      case 11: {
        (offset)->abbr = strdup(t->tz_abbr);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_11
      case 12: {
        (offset)->is_dst = 0;
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_12
      case 13: {
        (offset)->is_dst = t->dst;
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_13
      case 14: {
        (offset)->leap_secs = 0;
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_14
      case 15: {
        (offset)->offset = (t->z - (t->dst * 60)) * -60;
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_15
      case 16: {
        (offset)->offset = (t->z) * -60;
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_16
      case 17: {
        _efree(((date_globals.timezone)), "ext/date/php_date.c", 3942,
               ((void *)0), 0);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_17
      case 18: {
        _efree(((date_globals.timezone)), "ext/date/php_date.c", 614,
               ((void *)0), 0);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_18
      case 19: {
        _efree(((date_globals.timezone)), "ext/date/php_date.c", 628,
               ((void *)0), 0);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_19
      case 20: {
        _efree(((date_globals.tzcache)), "ext/date/php_date.c", 633,
               ((void *)0), 0);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_20
      case 21: {
        _efree(((format)), "ext/date/php_date.c", 1413, ((void *)0), 0);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_21
      case 22: {
        _efree(((format)), "ext/date/php_date.c", 1654, ((void *)0), 0);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_22
      case 23: {
        _efree(((format)), "ext/date/php_date.c", 2536, ((void *)0), 0);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_23
      case 24: {
        _zend_hash_init(((date_globals.tzcache)), (4), (((void *)0)),
                        (_php_date_tzinfo_dtor), (0), "ext/date/php_date.c",
                        823);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_24
      case 25: {
        ap_php_snprintf((offset)->abbr, 9, "GMT%c%02d%02d",
                        localtime ? ((offset->offset < 0) ? '-' : '+') : '+',
                        localtime ? abs(offset->offset / 3600) : 0,
                        localtime ? abs((offset->offset % 3600) / 60) : 0);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_25
      case 26: {
        ap_php_snprintf(offset->abbr, 9, "GMT%c%02d%02d",
                        localtime ? (((offset)->offset < 0) ? '-' : '+') : '+',
                        localtime ? abs(offset->offset / 3600) : 0,
                        localtime ? abs((offset->offset % 3600) / 60) : 0);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_26
      case 27: {
        ap_php_snprintf(offset->abbr, 9, "GMT%c%02d%02d",
                        localtime ? ((offset->offset < 0) ? '-' : '+') : '+',
                        localtime ? abs((offset)->offset / 3600) : 0,
                        localtime ? abs((offset->offset % 3600) / 60) : 0);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_27
      case 28: {
        ap_php_snprintf(offset->abbr, 9, "GMT%c%02d%02d",
                        localtime ? ((offset->offset < 0) ? '-' : '+') : '+',
                        localtime ? abs(offset->offset / 3600) : 0,
                        localtime ? abs(((offset)->offset % 3600) / 60) : 0);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_28
      case 29: {
        ap_php_snprintf(offset->abbr, 9, "GMT%c%02d%02d",
                        localtime ? ((offset->offset < 0) ? '-' : '+') : '+',
                        localtime ? abs(offset->offset / 3600) : 0,
                        localtime ? abs((offset->offset % 3600) / 60) : 0);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_29
      case 30: {
        buffer[1] = '\x00';
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_30
      case 31: {
        date_ce_period->get_iterator = date_object_period_get_iterator;
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_31
      case 32: {
        date_ce_period->iterator_funcs.funcs = &date_period_it_funcs;
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_32
      case 33: {
        date_object_handlers_date.clone_obj = date_object_clone_date;
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_33
      case 34: {
        date_object_handlers_date.compare_objects = date_object_compare_date;
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_34
      case 35: {
        date_object_handlers_date.get_properties = date_object_get_properties;
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_35
      case 36: {
        date_object_handlers_interval.clone_obj = date_object_clone_interval;
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_36
      case 37: {
        date_object_handlers_interval.get_properties =
            date_object_get_properties_interval;
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_37
      case 38: {
        date_object_handlers_interval.get_property_ptr_ptr = ((void *)0);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_38
      case 39: {
        date_object_handlers_interval.read_property =
            date_interval_read_property;
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_39
      case 40: {
        date_object_handlers_interval.write_property =
            date_interval_write_property;
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_40
      case 41: {
        date_object_handlers_period.clone_obj = date_object_clone_period;
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_41
      case 42: {
        date_object_handlers_timezone.clone_obj = date_object_clone_timezone;
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_42
      case 43: {
        date_register_classes();
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_43
      case 44: {
        exit(1);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_44
      case 45: {
        i++;
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_45
      case 46: {
        if (!(date_globals.tzcache)) {
          ((date_globals.tzcache)) = (HashTable *)_emalloc(
              (sizeof(HashTable)), "ext/date/php_date.c", 822, ((void *)0), 0);
          _zend_hash_init(((date_globals.tzcache)), (4), (((void *)0)),
                          (_php_date_tzinfo_dtor), (0), "ext/date/php_date.c",
                          823);
        }
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_46
      case 47: {
        if (!format_len) {
          return _estrdup((""), "ext/date/php_date.c", 1018, ((void *)0), 0);
        }
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_47
      case 48: {
        if ((date_globals.last_errors)) {
          timelib_error_container_dtor((date_globals.last_errors));
          (date_globals.last_errors) = ((void *)0);
        }
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_48
      case 49: {
        if ((date_globals.last_errors)) {
          timelib_error_container_dtor((date_globals.last_errors));
        }
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_49
      case 50: {
        if ((date_globals.timezone) && (strlen((date_globals.timezone)) > 0)) {
          return (date_globals.timezone);
        }
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_50
      case 51: {
        if ((date_globals.timezone)) {
          _efree(((date_globals.timezone)), "ext/date/php_date.c", 3942,
                 ((void *)0), 0);
          (date_globals.timezone) = ((void *)0);
        }
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_51
      case 52: {
        if ((date_globals.timezone)) {
          _efree(((date_globals.timezone)), "ext/date/php_date.c", 614,
                 ((void *)0), 0);
        }
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_52
      case 53: {
        if ((date_globals.timezone)) {
          _efree(((date_globals.timezone)), "ext/date/php_date.c", 628,
                 ((void *)0), 0);
        }
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_53
      case 54: {
        if ((date_globals.tzcache)) {
          zend_hash_destroy((date_globals.tzcache));
          _efree(((date_globals.tzcache)), "ext/date/php_date.c", 633,
                 ((void *)0), 0);
          (date_globals.tzcache) = ((void *)0);
        }
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_54
      case 55: {
        if (i < format_len)
          i++;
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_55
      case 56: {
        if (localtime) {
          timelib_time_offset_dtor(offset);
        }
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_56
      case 57: {
        if (t->zone_type == 1) {
          offset = timelib_time_offset_ctor();
          offset->offset = (t->z) * -60;
          offset->leap_secs = 0;
          offset->is_dst = 0;
          offset->abbr = malloc(9);
          ap_php_snprintf(offset->abbr, 9, "GMT%c%02d%02d",
                          localtime ? ((offset->offset < 0) ? '-' : '+') : '+',
                          localtime ? abs(offset->offset / 3600) : 0,
                          localtime ? abs((offset->offset % 3600) / 60) : 0);
        } else {
          offset = timelib_get_time_zone_info(t->sse, t->tz_info);
        }
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_57
      case 58: {
        length = 1;
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_58
      case 59: {
        length = ap_php_slprintf(buffer, 32, "%03d", retval);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_59
      case 60: {
        length = ap_php_slprintf(buffer, 32, "%s", "UTC");
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_60
      case 61: {
        memcpy(&date_object_handlers_date, zend_get_std_object_handlers(),
               sizeof(zend_object_handlers));
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_61
      case 62: {
        memcpy(&date_object_handlers_interval, zend_get_std_object_handlers(),
               sizeof(zend_object_handlers));
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_62
      case 63: {
        memcpy(&date_object_handlers_period, zend_get_std_object_handlers(),
               sizeof(zend_object_handlers));
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_63
      case 64: {
        memcpy(&date_object_handlers_timezone, zend_get_std_object_handlers(),
               sizeof(zend_object_handlers));
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_64
      case 65: {
        offset = timelib_get_time_zone_info((t)->sse, t->tz_info);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_65
      case 66: {
        offset = timelib_get_time_zone_info(t->sse, (t)->tz_info);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_66
      case 67: {
        offset = timelib_get_time_zone_info(t->sse, t->tz_info);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_67
      case 68: {
        offset = timelib_time_offset_ctor();
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_68
      case 69: {
        offset->abbr = malloc(9);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_69
      case 70: {
        offset->abbr = strdup((t)->tz_abbr);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_70
      case 71: {
        offset->abbr = strdup(t->tz_abbr);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_71
      case 72: {
        offset->is_dst = (t)->dst;
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_72
      case 73: {
        offset->is_dst = 0;
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_73
      case 74: {
        offset->is_dst = t->dst;
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_74
      case 75: {
        offset->leap_secs = 0;
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_75
      case 76: {
        offset->offset = ((t)->z - (t->dst * 60)) * -60;
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_76
      case 77: {
        offset->offset = ((t)->z) * -60;
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_77
      case 78: {
        offset->offset = (t->z - ((t)->dst * 60)) * -60;
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_78
      case 79: {
        offset->offset = (t->z - (t->dst * 60)) * -60;
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_79
      case 80: {
        offset->offset = (t->z) * -60;
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_80
      case 81: {
        php_date_global_timezone_db = ((void *)0);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_81
      case 82: {
        php_date_global_timezone_db_enabled = 0;
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_82
      case 83: {
        php_date_global_timezone_db_enabled = 1;
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_83
      case 84: {
        php_error_docref0(
            ((void *)0), (1 << 0L),
            "Timezone database is corrupt - this should *never* happen!");
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_84
      case 85: {
        php_error_docref0(((void *)0), (1 << 13L),
                          "The is_dst parameter is deprecated");
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_85
      case 86: {
        php_error_docref0(((void *)0), (1 << 1L),
                          "Can only do this for zones with ID for now");
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_86
      case 87: {
        php_error_docref0(((void *)0), (1 << 1L),
                          "Failed to parse interval (%s)", (format));
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_87
      case 88: {
        php_error_docref0(
            ((void *)0), (1 << 1L),
            "It is not safe to rely on the system's timezone settings. You are "
            "*required* to use the date.timezone setting or the "
            "date_default_timezone_set() function. In case you used any of "
            "those methods and you are still getting this warning, you most "
            "likely misspelled the timezone identifier. We had to select 'UTC' "
            "because your platform doesn't provide functionality for the "
            "guessing algorithm");
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_88
      case 89: {
        php_error_docref0(((void *)0), (1 << 1L),
                          "Only non-special relative time specifications are "
                          "supported for subtraction");
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_89
      case 90: {
        php_error_docref0(((void *)0), (1 << 1L),
                          "The DateInterval object has not been correctly "
                          "initialized by its constructor");
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_90
      case 91: {
        php_error_docref0(((void *)0), (1 << 1L),
                          "The DateTime object has not been correctly "
                          "initialized by its constructor");
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_91
      case 92: {
        php_error_docref0(((void *)0), (1 << 1L),
                          "The DateTimeZone object has not been correctly "
                          "initialized by its constructor");
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_92
      case 93: {
        php_error_docref0(((void *)0), (1 << 1L),
                          "The ISO interval '%s' did not contain a start date.",
                          (format));
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_93
      case 94: {
        php_error_docref0(((void *)0), (1 << 1L),
                          "The ISO interval '%s' did not contain an end date "
                          "or a recurrence count.",
                          (format));
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_94
      case 95: {
        php_error_docref0(((void *)0), (1 << 1L),
                          "The ISO interval '%s' did not contain an interval.",
                          (format));
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_95
      case 96: {
        php_error_docref0(
            ((void *)0), (1 << 1L),
            "This constructor accepts either (DateTime, DateInterval, int) OR "
            "(DateTime, DateInterval, DateTime) OR (string) as arguments.");
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_96
      case 97: {
        php_error_docref0(((void *)0), (1 << 1L), "Unknown or bad format (%s)",
                          (format));
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_97
      case 98: {
        php_error_docref0(((void *)0), (1 << 1L),
                          "Unknown or bad timezone (%s)", (format));
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_98
      case 99: {
        php_error_docref0(((void *)0), (1 << 1L),
                          "Unrecognized date format token.");
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_99
      case 100: {
        php_error_docref0(
            ((void *)0), (1 << 1L),
            "Wrong return format given, pick one of SUNFUNCS_RET_TIMESTAMP, "
            "SUNFUNCS_RET_STRING or SUNFUNCS_RET_DOUBLE");
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_100
      case 101: {
        php_error_docref0(((void *)0), (1 << 1L), "idate format is one char");
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_101
      case 102: {
        php_error_docref0(
            ((void *)0), (1 << 3L),
            "A two-letter ISO 3166-1 compatible country code is expected");
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_102
      case 103: {
        php_error_docref0(((void *)0), (1 << 3L), "Timezone ID '%s' is invalid",
                          (format));
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_103
      case 104: {
        php_info_print_table_end();
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_104
      case 105: {
        php_info_print_table_row(
            2, "Timezone Database",
            php_date_global_timezone_db_enabled ? "external" : "internal");
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_105
      case 106: {
        php_info_print_table_row(2, "date/time support", "enabled");
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_106
      case 107: {
        php_info_print_table_start();
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_107
      case 108: {
        retval = retval % 1000;
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_108
      case 109: {
        rfc_colon = 0;
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_109
      case 110: {
        timelib_error_container_dtor((date_globals.last_errors));
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_110
      case 111: {
        timelib_isoweek_from_date((t)->y, t->m, t->d, &isoweek, &isoyear);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_111
      case 112: {
        timelib_isoweek_from_date(t->y, (t)->m, t->d, &isoweek, &isoyear);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_112
      case 113: {
        timelib_isoweek_from_date(t->y, t->m, (t)->d, &isoweek, &isoyear);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_113
      case 114: {
        timelib_isoweek_from_date(t->y, t->m, t->d, &isoweek, &isoyear);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_114
      case 115: {
        timelib_time_dtor((t));
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_115
      case 116: {
        timelib_time_offset_dtor((offset));
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_116
      case 117: {
        timelib_time_offset_dtor(offset);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_117
      case 118: {
        timelib_unixtime2gmt((t), (timelib_sll)time(((void *)0)));
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_118
      case 119: {
        timelib_unixtime2local((t), (timelib_sll)time(((void *)0)));
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_119
      case 120: {
        timelib_update_from_sse((t));
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_120
      case 121: {
        timelib_update_ts((t), ((void *)0));
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_121
      case 122: {
        zend_class_implements(date_ce_period, 1, zend_ce_traversable);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_122
      case 123: {
        zend_declare_class_constant_long(date_ce_period, "EXCLUDE_START_DATE",
                                         sizeof("EXCLUDE_START_DATE") - 1, 1);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_123
      case 124: {
        zend_declare_class_constant_long(date_ce_timezone, "AFRICA",
                                         sizeof("AFRICA") - 1, 1);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_124
      case 125: {
        zend_declare_class_constant_long(date_ce_timezone, "ALL",
                                         sizeof("ALL") - 1, 2047);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_125
      case 126: {
        zend_declare_class_constant_long(date_ce_timezone, "ALL_WITH_BC",
                                         sizeof("ALL_WITH_BC") - 1, 4095);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_126
      case 127: {
        zend_declare_class_constant_long(date_ce_timezone, "AMERICA",
                                         sizeof("AMERICA") - 1, 2);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_127
      case 128: {
        zend_declare_class_constant_long(date_ce_timezone, "ANTARCTICA",
                                         sizeof("ANTARCTICA") - 1, 4);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_128
      case 129: {
        zend_declare_class_constant_long(date_ce_timezone, "ARCTIC",
                                         sizeof("ARCTIC") - 1, 8);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_129
      case 130: {
        zend_declare_class_constant_long(date_ce_timezone, "ASIA",
                                         sizeof("ASIA") - 1, 16);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_130
      case 131: {
        zend_declare_class_constant_long(date_ce_timezone, "ATLANTIC",
                                         sizeof("ATLANTIC") - 1, 32);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_131
      case 132: {
        zend_declare_class_constant_long(date_ce_timezone, "AUSTRALIA",
                                         sizeof("AUSTRALIA") - 1, 64);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_132
      case 133: {
        zend_declare_class_constant_long(date_ce_timezone, "EUROPE",
                                         sizeof("EUROPE") - 1, 128);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_133
      case 134: {
        zend_declare_class_constant_long(date_ce_timezone, "INDIAN",
                                         sizeof("INDIAN") - 1, 256);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_134
      case 135: {
        zend_declare_class_constant_long(date_ce_timezone, "PACIFIC",
                                         sizeof("PACIFIC") - 1, 512);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_135
      case 136: {
        zend_declare_class_constant_long(date_ce_timezone, "PER_COUNTRY",
                                         sizeof("PER_COUNTRY") - 1, 4096);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_136
      case 137: {
        zend_declare_class_constant_long(date_ce_timezone, "UTC",
                                         sizeof("UTC") - 1, 1024);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_137
      case 138: {
        zend_declare_class_constant_stringl(
            date_ce_date, "ATOM", sizeof("ATOM") - 1, "Y-m-d\\TH:i:sP",
            sizeof("Y-m-d\\TH:i:sP") - 1);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_138
      case 139: {
        zend_declare_class_constant_stringl(
            date_ce_date, "COOKIE", sizeof("COOKIE") - 1, "l, d-M-y H:i:s T",
            sizeof("l, d-M-y H:i:s T") - 1);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_139
      case 140: {
        zend_declare_class_constant_stringl(
            date_ce_date, "ISO8601", sizeof("ISO8601") - 1, "Y-m-d\\TH:i:sO",
            sizeof("Y-m-d\\TH:i:sO") - 1);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_140
      case 141: {
        zend_declare_class_constant_stringl(
            date_ce_date, "RFC1036", sizeof("RFC1036") - 1, "D, d M y H:i:s O",
            sizeof("D, d M y H:i:s O") - 1);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_141
      case 142: {
        zend_declare_class_constant_stringl(
            date_ce_date, "RFC1123", sizeof("RFC1123") - 1, "D, d M Y H:i:s O",
            sizeof("D, d M Y H:i:s O") - 1);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_142
      case 143: {
        zend_declare_class_constant_stringl(
            date_ce_date, "RFC2822", sizeof("RFC2822") - 1, "D, d M Y H:i:s O",
            sizeof("D, d M Y H:i:s O") - 1);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_143
      case 144: {
        zend_declare_class_constant_stringl(
            date_ce_date, "RFC3339", sizeof("RFC3339") - 1, "Y-m-d\\TH:i:sP",
            sizeof("Y-m-d\\TH:i:sP") - 1);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_144
      case 145: {
        zend_declare_class_constant_stringl(
            date_ce_date, "RFC822", sizeof("RFC822") - 1, "D, d M y H:i:s O",
            sizeof("D, d M y H:i:s O") - 1);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_145
      case 146: {
        zend_declare_class_constant_stringl(
            date_ce_date, "RFC850", sizeof("RFC850") - 1, "l, d-M-y H:i:s T",
            sizeof("l, d-M-y H:i:s T") - 1);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_146
      case 147: {
        zend_declare_class_constant_stringl(
            date_ce_date, "RSS", sizeof("RSS") - 1, "D, d M Y H:i:s O",
            sizeof("D, d M Y H:i:s O") - 1);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_147
      case 148: {
        zend_declare_class_constant_stringl(date_ce_date, "W3C",
                                            sizeof("W3C") - 1, "Y-m-d\\TH:i:sP",
                                            sizeof("Y-m-d\\TH:i:sP") - 1);
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_148
      case 149: {
        zend_error((1 << 0L),
                   "An iterator cannot be used with foreach by reference");
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_149
      case 150: {
        zend_error((1 << 3L), "A non well formed numeric value encountered");
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
#ifdef COMPILE_150
      case 151: {
        zend_hash_destroy((date_globals.tzcache));
        while (retval < 0) {
          retval += 1000;
        }

        break;
      }
#endif
      }
      // prophet generated patch
      switch (__choose("__ID1")) {
      case 0: {
        retval = retval % 1000;

        break;
      }
#ifdef COMPILE_151
      case 1: {
        ((date_globals.tzcache)) = (HashTable *)_emalloc(
            (sizeof(HashTable)), "ext/date/php_date.c", 822, ((void *)0), 0);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_152
      case 2: {
        (date_globals.last_errors) = ((void *)0);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_153
      case 3: {
        (date_globals.timezone) = ((void *)0);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_154
      case 4: {
        (date_globals.timezone) = _estrndup(
            (zone), (zone_len), "ext/date/php_date.c", 3945, ((void *)0), 0);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_155
      case 5: {
        (date_globals.tzcache) = ((void *)0);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_156
      case 6: {
        (executor_globals.argument_stack) =
            zend_vm_stack_new_page(((16 * 1024) - 16));
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_157
      case 7: {
        (format)++;
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_158
      case 8: {
        (offset) = timelib_get_time_zone_info(t->sse, t->tz_info);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_159
      case 9: {
        (offset) = timelib_time_offset_ctor();
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_160
      case 10: {
        (offset)->abbr = malloc(9);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_161
      case 11: {
        (offset)->abbr = strdup(t->tz_abbr);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_162
      case 12: {
        (offset)->is_dst = 0;
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_163
      case 13: {
        (offset)->is_dst = t->dst;
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_164
      case 14: {
        (offset)->leap_secs = 0;
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_165
      case 15: {
        (offset)->offset = (t->z - (t->dst * 60)) * -60;
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_166
      case 16: {
        (offset)->offset = (t->z) * -60;
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_167
      case 17: {
        _efree(((date_globals.timezone)), "ext/date/php_date.c", 3942,
               ((void *)0), 0);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_168
      case 18: {
        _efree(((date_globals.timezone)), "ext/date/php_date.c", 614,
               ((void *)0), 0);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_169
      case 19: {
        _efree(((date_globals.timezone)), "ext/date/php_date.c", 628,
               ((void *)0), 0);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_170
      case 20: {
        _efree(((date_globals.tzcache)), "ext/date/php_date.c", 633,
               ((void *)0), 0);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_171
      case 21: {
        _efree(((format)), "ext/date/php_date.c", 1413, ((void *)0), 0);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_172
      case 22: {
        _efree(((format)), "ext/date/php_date.c", 1654, ((void *)0), 0);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_173
      case 23: {
        _efree(((format)), "ext/date/php_date.c", 2536, ((void *)0), 0);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_174
      case 24: {
        _zend_hash_init(((date_globals.tzcache)), (4), (((void *)0)),
                        (_php_date_tzinfo_dtor), (0), "ext/date/php_date.c",
                        823);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_175
      case 25: {
        ap_php_snprintf((offset)->abbr, 9, "GMT%c%02d%02d",
                        localtime ? ((offset->offset < 0) ? '-' : '+') : '+',
                        localtime ? abs(offset->offset / 3600) : 0,
                        localtime ? abs((offset->offset % 3600) / 60) : 0);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_176
      case 26: {
        ap_php_snprintf(offset->abbr, 9, "GMT%c%02d%02d",
                        localtime ? (((offset)->offset < 0) ? '-' : '+') : '+',
                        localtime ? abs(offset->offset / 3600) : 0,
                        localtime ? abs((offset->offset % 3600) / 60) : 0);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_177
      case 27: {
        ap_php_snprintf(offset->abbr, 9, "GMT%c%02d%02d",
                        localtime ? ((offset->offset < 0) ? '-' : '+') : '+',
                        localtime ? abs((offset)->offset / 3600) : 0,
                        localtime ? abs((offset->offset % 3600) / 60) : 0);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_178
      case 28: {
        ap_php_snprintf(offset->abbr, 9, "GMT%c%02d%02d",
                        localtime ? ((offset->offset < 0) ? '-' : '+') : '+',
                        localtime ? abs(offset->offset / 3600) : 0,
                        localtime ? abs(((offset)->offset % 3600) / 60) : 0);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_179
      case 29: {
        ap_php_snprintf(offset->abbr, 9, "GMT%c%02d%02d",
                        localtime ? ((offset->offset < 0) ? '-' : '+') : '+',
                        localtime ? abs(offset->offset / 3600) : 0,
                        localtime ? abs((offset->offset % 3600) / 60) : 0);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_180
      case 30: {
        buffer[1] = '\x00';
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_181
      case 31: {
        date_ce_period->get_iterator = date_object_period_get_iterator;
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_182
      case 32: {
        date_ce_period->iterator_funcs.funcs = &date_period_it_funcs;
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_183
      case 33: {
        date_object_handlers_date.clone_obj = date_object_clone_date;
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_184
      case 34: {
        date_object_handlers_date.compare_objects = date_object_compare_date;
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_185
      case 35: {
        date_object_handlers_date.get_properties = date_object_get_properties;
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_186
      case 36: {
        date_object_handlers_interval.clone_obj = date_object_clone_interval;
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_187
      case 37: {
        date_object_handlers_interval.get_properties =
            date_object_get_properties_interval;
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_188
      case 38: {
        date_object_handlers_interval.get_property_ptr_ptr = ((void *)0);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_189
      case 39: {
        date_object_handlers_interval.read_property =
            date_interval_read_property;
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_190
      case 40: {
        date_object_handlers_interval.write_property =
            date_interval_write_property;
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_191
      case 41: {
        date_object_handlers_period.clone_obj = date_object_clone_period;
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_192
      case 42: {
        date_object_handlers_timezone.clone_obj = date_object_clone_timezone;
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_193
      case 43: {
        date_register_classes();
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_194
      case 44: {
        exit(1);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_195
      case 45: {
        i++;
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_196
      case 46: {
        if (!(date_globals.tzcache)) {
          ((date_globals.tzcache)) = (HashTable *)_emalloc(
              (sizeof(HashTable)), "ext/date/php_date.c", 822, ((void *)0), 0);
          _zend_hash_init(((date_globals.tzcache)), (4), (((void *)0)),
                          (_php_date_tzinfo_dtor), (0), "ext/date/php_date.c",
                          823);
        }
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_197
      case 47: {
        if (!format_len) {
          return _estrdup((""), "ext/date/php_date.c", 1018, ((void *)0), 0);
        }
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_198
      case 48: {
        if ((date_globals.last_errors)) {
          timelib_error_container_dtor((date_globals.last_errors));
          (date_globals.last_errors) = ((void *)0);
        }
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_199
      case 49: {
        if ((date_globals.last_errors)) {
          timelib_error_container_dtor((date_globals.last_errors));
        }
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_200
      case 50: {
        if ((date_globals.timezone) && (strlen((date_globals.timezone)) > 0)) {
          return (date_globals.timezone);
        }
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_201
      case 51: {
        if ((date_globals.timezone)) {
          _efree(((date_globals.timezone)), "ext/date/php_date.c", 3942,
                 ((void *)0), 0);
          (date_globals.timezone) = ((void *)0);
        }
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_202
      case 52: {
        if ((date_globals.timezone)) {
          _efree(((date_globals.timezone)), "ext/date/php_date.c", 614,
                 ((void *)0), 0);
        }
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_203
      case 53: {
        if ((date_globals.timezone)) {
          _efree(((date_globals.timezone)), "ext/date/php_date.c", 628,
                 ((void *)0), 0);
        }
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_204
      case 54: {
        if ((date_globals.tzcache)) {
          zend_hash_destroy((date_globals.tzcache));
          _efree(((date_globals.tzcache)), "ext/date/php_date.c", 633,
                 ((void *)0), 0);
          (date_globals.tzcache) = ((void *)0);
        }
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_205
      case 55: {
        if (i < format_len)
          i++;
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_206
      case 56: {
        if (localtime) {
          timelib_time_offset_dtor(offset);
        }
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_207
      case 57: {
        if (t->zone_type == 1) {
          offset = timelib_time_offset_ctor();
          offset->offset = (t->z) * -60;
          offset->leap_secs = 0;
          offset->is_dst = 0;
          offset->abbr = malloc(9);
          ap_php_snprintf(offset->abbr, 9, "GMT%c%02d%02d",
                          localtime ? ((offset->offset < 0) ? '-' : '+') : '+',
                          localtime ? abs(offset->offset / 3600) : 0,
                          localtime ? abs((offset->offset % 3600) / 60) : 0);
        } else {
          offset = timelib_get_time_zone_info(t->sse, t->tz_info);
        }
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_208
      case 58: {
        length = 1;
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_209
      case 59: {
        length = ap_php_slprintf(buffer, 32, "%03d", retval);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_210
      case 60: {
        length = ap_php_slprintf(buffer, 32, "%s", "UTC");
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_211
      case 61: {
        memcpy(&date_object_handlers_date, zend_get_std_object_handlers(),
               sizeof(zend_object_handlers));
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_212
      case 62: {
        memcpy(&date_object_handlers_interval, zend_get_std_object_handlers(),
               sizeof(zend_object_handlers));
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_213
      case 63: {
        memcpy(&date_object_handlers_period, zend_get_std_object_handlers(),
               sizeof(zend_object_handlers));
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_214
      case 64: {
        memcpy(&date_object_handlers_timezone, zend_get_std_object_handlers(),
               sizeof(zend_object_handlers));
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_215
      case 65: {
        offset = timelib_get_time_zone_info((t)->sse, t->tz_info);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_216
      case 66: {
        offset = timelib_get_time_zone_info(t->sse, (t)->tz_info);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_217
      case 67: {
        offset = timelib_get_time_zone_info(t->sse, t->tz_info);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_218
      case 68: {
        offset = timelib_time_offset_ctor();
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_219
      case 69: {
        offset->abbr = malloc(9);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_220
      case 70: {
        offset->abbr = strdup((t)->tz_abbr);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_221
      case 71: {
        offset->abbr = strdup(t->tz_abbr);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_222
      case 72: {
        offset->is_dst = (t)->dst;
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_223
      case 73: {
        offset->is_dst = 0;
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_224
      case 74: {
        offset->is_dst = t->dst;
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_225
      case 75: {
        offset->leap_secs = 0;
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_226
      case 76: {
        offset->offset = ((t)->z - (t->dst * 60)) * -60;
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_227
      case 77: {
        offset->offset = ((t)->z) * -60;
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_228
      case 78: {
        offset->offset = (t->z - ((t)->dst * 60)) * -60;
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_229
      case 79: {
        offset->offset = (t->z - (t->dst * 60)) * -60;
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_230
      case 80: {
        offset->offset = (t->z) * -60;
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_231
      case 81: {
        php_date_global_timezone_db = ((void *)0);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_232
      case 82: {
        php_date_global_timezone_db_enabled = 0;
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_233
      case 83: {
        php_date_global_timezone_db_enabled = 1;
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_234
      case 84: {
        php_error_docref0(
            ((void *)0), (1 << 0L),
            "Timezone database is corrupt - this should *never* happen!");
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_235
      case 85: {
        php_error_docref0(((void *)0), (1 << 13L),
                          "The is_dst parameter is deprecated");
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_236
      case 86: {
        php_error_docref0(((void *)0), (1 << 1L),
                          "Can only do this for zones with ID for now");
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_237
      case 87: {
        php_error_docref0(((void *)0), (1 << 1L),
                          "Failed to parse interval (%s)", (format));
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_238
      case 88: {
        php_error_docref0(
            ((void *)0), (1 << 1L),
            "It is not safe to rely on the system's timezone settings. You are "
            "*required* to use the date.timezone setting or the "
            "date_default_timezone_set() function. In case you used any of "
            "those methods and you are still getting this warning, you most "
            "likely misspelled the timezone identifier. We had to select 'UTC' "
            "because your platform doesn't provide functionality for the "
            "guessing algorithm");
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_239
      case 89: {
        php_error_docref0(((void *)0), (1 << 1L),
                          "Only non-special relative time specifications are "
                          "supported for subtraction");
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_240
      case 90: {
        php_error_docref0(((void *)0), (1 << 1L),
                          "The DateInterval object has not been correctly "
                          "initialized by its constructor");
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_241
      case 91: {
        php_error_docref0(((void *)0), (1 << 1L),
                          "The DateTime object has not been correctly "
                          "initialized by its constructor");
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_242
      case 92: {
        php_error_docref0(((void *)0), (1 << 1L),
                          "The DateTimeZone object has not been correctly "
                          "initialized by its constructor");
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_243
      case 93: {
        php_error_docref0(((void *)0), (1 << 1L),
                          "The ISO interval '%s' did not contain a start date.",
                          (format));
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_244
      case 94: {
        php_error_docref0(((void *)0), (1 << 1L),
                          "The ISO interval '%s' did not contain an end date "
                          "or a recurrence count.",
                          (format));
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_245
      case 95: {
        php_error_docref0(((void *)0), (1 << 1L),
                          "The ISO interval '%s' did not contain an interval.",
                          (format));
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_246
      case 96: {
        php_error_docref0(
            ((void *)0), (1 << 1L),
            "This constructor accepts either (DateTime, DateInterval, int) OR "
            "(DateTime, DateInterval, DateTime) OR (string) as arguments.");
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_247
      case 97: {
        php_error_docref0(((void *)0), (1 << 1L), "Unknown or bad format (%s)",
                          (format));
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_248
      case 98: {
        php_error_docref0(((void *)0), (1 << 1L),
                          "Unknown or bad timezone (%s)", (format));
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_249
      case 99: {
        php_error_docref0(((void *)0), (1 << 1L),
                          "Unrecognized date format token.");
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_250
      case 100: {
        php_error_docref0(
            ((void *)0), (1 << 1L),
            "Wrong return format given, pick one of SUNFUNCS_RET_TIMESTAMP, "
            "SUNFUNCS_RET_STRING or SUNFUNCS_RET_DOUBLE");
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_251
      case 101: {
        php_error_docref0(((void *)0), (1 << 1L), "idate format is one char");
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_252
      case 102: {
        php_error_docref0(
            ((void *)0), (1 << 3L),
            "A two-letter ISO 3166-1 compatible country code is expected");
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_253
      case 103: {
        php_error_docref0(((void *)0), (1 << 3L), "Timezone ID '%s' is invalid",
                          (format));
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_254
      case 104: {
        php_info_print_table_end();
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_255
      case 105: {
        php_info_print_table_row(
            2, "Timezone Database",
            php_date_global_timezone_db_enabled ? "external" : "internal");
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_256
      case 106: {
        php_info_print_table_row(2, "date/time support", "enabled");
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_257
      case 107: {
        php_info_print_table_start();
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_258
      case 108: {
        retval = retval % 1000;
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_259
      case 109: {
        rfc_colon = 0;
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_260
      case 110: {
        timelib_error_container_dtor((date_globals.last_errors));
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_261
      case 111: {
        timelib_isoweek_from_date((t)->y, t->m, t->d, &isoweek, &isoyear);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_262
      case 112: {
        timelib_isoweek_from_date(t->y, (t)->m, t->d, &isoweek, &isoyear);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_263
      case 113: {
        timelib_isoweek_from_date(t->y, t->m, (t)->d, &isoweek, &isoyear);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_264
      case 114: {
        timelib_isoweek_from_date(t->y, t->m, t->d, &isoweek, &isoyear);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_265
      case 115: {
        timelib_time_dtor((t));
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_266
      case 116: {
        timelib_time_offset_dtor((offset));
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_267
      case 117: {
        timelib_time_offset_dtor(offset);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_268
      case 118: {
        timelib_unixtime2gmt((t), (timelib_sll)time(((void *)0)));
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_269
      case 119: {
        timelib_unixtime2local((t), (timelib_sll)time(((void *)0)));
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_270
      case 120: {
        timelib_update_from_sse((t));
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_271
      case 121: {
        timelib_update_ts((t), ((void *)0));
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_272
      case 122: {
        zend_class_implements(date_ce_period, 1, zend_ce_traversable);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_273
      case 123: {
        zend_declare_class_constant_long(date_ce_period, "EXCLUDE_START_DATE",
                                         sizeof("EXCLUDE_START_DATE") - 1, 1);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_274
      case 124: {
        zend_declare_class_constant_long(date_ce_timezone, "AFRICA",
                                         sizeof("AFRICA") - 1, 1);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_275
      case 125: {
        zend_declare_class_constant_long(date_ce_timezone, "ALL",
                                         sizeof("ALL") - 1, 2047);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_276
      case 126: {
        zend_declare_class_constant_long(date_ce_timezone, "ALL_WITH_BC",
                                         sizeof("ALL_WITH_BC") - 1, 4095);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_277
      case 127: {
        zend_declare_class_constant_long(date_ce_timezone, "AMERICA",
                                         sizeof("AMERICA") - 1, 2);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_278
      case 128: {
        zend_declare_class_constant_long(date_ce_timezone, "ANTARCTICA",
                                         sizeof("ANTARCTICA") - 1, 4);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_279
      case 129: {
        zend_declare_class_constant_long(date_ce_timezone, "ARCTIC",
                                         sizeof("ARCTIC") - 1, 8);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_280
      case 130: {
        zend_declare_class_constant_long(date_ce_timezone, "ASIA",
                                         sizeof("ASIA") - 1, 16);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_281
      case 131: {
        zend_declare_class_constant_long(date_ce_timezone, "ATLANTIC",
                                         sizeof("ATLANTIC") - 1, 32);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_282
      case 132: {
        zend_declare_class_constant_long(date_ce_timezone, "AUSTRALIA",
                                         sizeof("AUSTRALIA") - 1, 64);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_283
      case 133: {
        zend_declare_class_constant_long(date_ce_timezone, "EUROPE",
                                         sizeof("EUROPE") - 1, 128);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_284
      case 134: {
        zend_declare_class_constant_long(date_ce_timezone, "INDIAN",
                                         sizeof("INDIAN") - 1, 256);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_285
      case 135: {
        zend_declare_class_constant_long(date_ce_timezone, "PACIFIC",
                                         sizeof("PACIFIC") - 1, 512);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_286
      case 136: {
        zend_declare_class_constant_long(date_ce_timezone, "PER_COUNTRY",
                                         sizeof("PER_COUNTRY") - 1, 4096);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_287
      case 137: {
        zend_declare_class_constant_long(date_ce_timezone, "UTC",
                                         sizeof("UTC") - 1, 1024);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_288
      case 138: {
        zend_declare_class_constant_stringl(
            date_ce_date, "ATOM", sizeof("ATOM") - 1, "Y-m-d\\TH:i:sP",
            sizeof("Y-m-d\\TH:i:sP") - 1);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_289
      case 139: {
        zend_declare_class_constant_stringl(
            date_ce_date, "COOKIE", sizeof("COOKIE") - 1, "l, d-M-y H:i:s T",
            sizeof("l, d-M-y H:i:s T") - 1);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_290
      case 140: {
        zend_declare_class_constant_stringl(
            date_ce_date, "ISO8601", sizeof("ISO8601") - 1, "Y-m-d\\TH:i:sO",
            sizeof("Y-m-d\\TH:i:sO") - 1);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_291
      case 141: {
        zend_declare_class_constant_stringl(
            date_ce_date, "RFC1036", sizeof("RFC1036") - 1, "D, d M y H:i:s O",
            sizeof("D, d M y H:i:s O") - 1);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_292
      case 142: {
        zend_declare_class_constant_stringl(
            date_ce_date, "RFC1123", sizeof("RFC1123") - 1, "D, d M Y H:i:s O",
            sizeof("D, d M Y H:i:s O") - 1);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_293
      case 143: {
        zend_declare_class_constant_stringl(
            date_ce_date, "RFC2822", sizeof("RFC2822") - 1, "D, d M Y H:i:s O",
            sizeof("D, d M Y H:i:s O") - 1);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_294
      case 144: {
        zend_declare_class_constant_stringl(
            date_ce_date, "RFC3339", sizeof("RFC3339") - 1, "Y-m-d\\TH:i:sP",
            sizeof("Y-m-d\\TH:i:sP") - 1);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_295
      case 145: {
        zend_declare_class_constant_stringl(
            date_ce_date, "RFC822", sizeof("RFC822") - 1, "D, d M y H:i:s O",
            sizeof("D, d M y H:i:s O") - 1);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_296
      case 146: {
        zend_declare_class_constant_stringl(
            date_ce_date, "RFC850", sizeof("RFC850") - 1, "l, d-M-y H:i:s T",
            sizeof("l, d-M-y H:i:s T") - 1);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_297
      case 147: {
        zend_declare_class_constant_stringl(
            date_ce_date, "RSS", sizeof("RSS") - 1, "D, d M Y H:i:s O",
            sizeof("D, d M Y H:i:s O") - 1);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_298
      case 148: {
        zend_declare_class_constant_stringl(date_ce_date, "W3C",
                                            sizeof("W3C") - 1, "Y-m-d\\TH:i:sP",
                                            sizeof("Y-m-d\\TH:i:sP") - 1);
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_299
      case 149: {
        zend_error((1 << 0L),
                   "An iterator cannot be used with foreach by reference");
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_300
      case 150: {
        zend_error((1 << 3L), "A non well formed numeric value encountered");
        retval = retval % 1000;

        break;
      }
#endif
#ifdef COMPILE_301
      case 151: {
        zend_hash_destroy((date_globals.tzcache));
        retval = retval % 1000;

        break;
      }
#endif
      }
      length = slprintf(buffer, 32, "%03d", retval);
      break;
    }
    case 'g':
      length = slprintf(buffer, 32, "%d", (t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'G':
      length = slprintf(buffer, 32, "%d", (int)t->h);
      break;
    case 'h':
      length = slprintf(buffer, 32, "%02d", (t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
      length = slprintf(buffer, 32, "%02d", (int)t->h);
      break;
    case 'i':
      length = slprintf(buffer, 32, "%02d", (int)t->i);
      break;
    case 's':
      length = slprintf(buffer, 32, "%02d", (int)t->s);
      break;
    case 'u':
      length = slprintf(buffer, 32, "%06d", (int)floor(t->f * 1000000));
      break;

    /* timezone */
    case 'I':
      length = slprintf(buffer, 32, "%d", localtime ? offset->is_dst : 0);
      break;
    case 'P':
      rfc_colon = 1; /* break intentionally missing */
    case 'O':
      length = slprintf(buffer, 32, "%c%02d%s%02d",
                        localtime ? ((offset->offset < 0) ? '-' : '+') : '+',
                        localtime ? abs(offset->offset / 3600) : 0,
                        rfc_colon ? ":" : "",
                        localtime ? abs((offset->offset % 3600) / 60) : 0);
      break;
    case 'T':
      length = slprintf(buffer, 32, "%s", localtime ? offset->abbr : "GMT");
      break;
    case 'e':
      if (!localtime) {
        length = slprintf(buffer, 32, "%s", "UTC");
      } else {
        switch (t->zone_type) {
        case TIMELIB_ZONETYPE_ID:
          length = slprintf(buffer, 32, "%s", t->tz_info->name);
          break;
        case TIMELIB_ZONETYPE_ABBR:
          length = slprintf(buffer, 32, "%s", offset->abbr);
          break;
        case TIMELIB_ZONETYPE_OFFSET:
          length = slprintf(
              buffer, 32, "%c%02d:%02d", ((offset->offset < 0) ? '-' : '+'),
              abs(offset->offset / 3600), abs((offset->offset % 3600) / 60));
          break;
        }
      }
      break;
    case 'Z':
      length = slprintf(buffer, 32, "%d", localtime ? offset->offset : 0);
      break;

    /* full date/time */
    case 'c':
      length = slprintf(buffer, 96, "%04d-%02d-%02dT%02d:%02d:%02d%c%02d:%02d",
                        (int)t->y, (int)t->m, (int)t->d, (int)t->h, (int)t->i,
                        (int)t->s,
                        localtime ? ((offset->offset < 0) ? '-' : '+') : '+',
                        localtime ? abs(offset->offset / 3600) : 0,
                        localtime ? abs((offset->offset % 3600) / 60) : 0);
      break;
    case 'r':
      length = slprintf(
          buffer, 96, "%3s, %02d %3s %04d %02d:%02d:%02d %c%02d%02d",
          php_date_short_day_name(t->y, t->m, t->d), (int)t->d,
          mon_short_names[t->m - 1], (int)t->y, (int)t->h, (int)t->i, (int)t->s,
          localtime ? ((offset->offset < 0) ? '-' : '+') : '+',
          localtime ? abs(offset->offset / 3600) : 0,
          localtime ? abs((offset->offset % 3600) / 60) : 0);
      break;
    case 'U':
      length = slprintf(buffer, 32, "%lld", (timelib_sll)t->sse);
      break;

    case '\\':
      if (i < format_len)
        i++; /* break intentionally missing */

      // prophet generated patch
      switch (__choose("__ID2")) {
      case 0: {
      default:
        buffer[0] = format[i];
        break;
      }
#ifdef COMPILE_302
      case 1: {
        ((date_globals.tzcache)) = (HashTable *)_emalloc(
            (sizeof(HashTable)), "ext/date/php_date.c", 822, ((void *)0), 0);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_303
      case 2: {
        (date_globals.last_errors) = ((void *)0);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_304
      case 3: {
        (date_globals.timezone) = ((void *)0);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_305
      case 4: {
        (date_globals.timezone) = _estrndup(
            (zone), (zone_len), "ext/date/php_date.c", 3945, ((void *)0), 0);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_306
      case 5: {
        (date_globals.tzcache) = ((void *)0);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_307
      case 6: {
        (executor_globals.argument_stack) =
            zend_vm_stack_new_page(((16 * 1024) - 16));
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_308
      case 7: {
        (format)++;
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_309
      case 8: {
        (offset) = timelib_get_time_zone_info(t->sse, t->tz_info);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_310
      case 9: {
        (offset) = timelib_time_offset_ctor();
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_311
      case 10: {
        (offset)->abbr = malloc(9);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_312
      case 11: {
        (offset)->abbr = strdup(t->tz_abbr);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_313
      case 12: {
        (offset)->is_dst = 0;
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_314
      case 13: {
        (offset)->is_dst = t->dst;
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_315
      case 14: {
        (offset)->leap_secs = 0;
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_316
      case 15: {
        (offset)->offset = (t->z - (t->dst * 60)) * -60;
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_317
      case 16: {
        (offset)->offset = (t->z) * -60;
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_318
      case 17: {
        _efree(((date_globals.timezone)), "ext/date/php_date.c", 3942,
               ((void *)0), 0);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_319
      case 18: {
        _efree(((date_globals.timezone)), "ext/date/php_date.c", 614,
               ((void *)0), 0);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_320
      case 19: {
        _efree(((date_globals.timezone)), "ext/date/php_date.c", 628,
               ((void *)0), 0);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_321
      case 20: {
        _efree(((date_globals.tzcache)), "ext/date/php_date.c", 633,
               ((void *)0), 0);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_322
      case 21: {
        _efree(((format)), "ext/date/php_date.c", 1413, ((void *)0), 0);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_323
      case 22: {
        _efree(((format)), "ext/date/php_date.c", 1654, ((void *)0), 0);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_324
      case 23: {
        _efree(((format)), "ext/date/php_date.c", 2536, ((void *)0), 0);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_325
      case 24: {
        _zend_hash_init(((date_globals.tzcache)), (4), (((void *)0)),
                        (_php_date_tzinfo_dtor), (0), "ext/date/php_date.c",
                        823);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_326
      case 25: {
        ap_php_snprintf((offset)->abbr, 9, "GMT%c%02d%02d",
                        localtime ? ((offset->offset < 0) ? '-' : '+') : '+',
                        localtime ? abs(offset->offset / 3600) : 0,
                        localtime ? abs((offset->offset % 3600) / 60) : 0);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_327
      case 26: {
        ap_php_snprintf(offset->abbr, 9, "GMT%c%02d%02d",
                        localtime ? (((offset)->offset < 0) ? '-' : '+') : '+',
                        localtime ? abs(offset->offset / 3600) : 0,
                        localtime ? abs((offset->offset % 3600) / 60) : 0);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_328
      case 27: {
        ap_php_snprintf(offset->abbr, 9, "GMT%c%02d%02d",
                        localtime ? ((offset->offset < 0) ? '-' : '+') : '+',
                        localtime ? abs((offset)->offset / 3600) : 0,
                        localtime ? abs((offset->offset % 3600) / 60) : 0);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_329
      case 28: {
        ap_php_snprintf(offset->abbr, 9, "GMT%c%02d%02d",
                        localtime ? ((offset->offset < 0) ? '-' : '+') : '+',
                        localtime ? abs(offset->offset / 3600) : 0,
                        localtime ? abs(((offset)->offset % 3600) / 60) : 0);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_330
      case 29: {
        ap_php_snprintf(offset->abbr, 9, "GMT%c%02d%02d",
                        localtime ? ((offset->offset < 0) ? '-' : '+') : '+',
                        localtime ? abs(offset->offset / 3600) : 0,
                        localtime ? abs((offset->offset % 3600) / 60) : 0);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_331
      case 30: {
        buffer[1] = '\x00';
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_332
      case 31: {
        date_ce_period->get_iterator = date_object_period_get_iterator;
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_333
      case 32: {
        date_ce_period->iterator_funcs.funcs = &date_period_it_funcs;
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_334
      case 33: {
        date_object_handlers_date.clone_obj = date_object_clone_date;
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_335
      case 34: {
        date_object_handlers_date.compare_objects = date_object_compare_date;
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_336
      case 35: {
        date_object_handlers_date.get_properties = date_object_get_properties;
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_337
      case 36: {
        date_object_handlers_interval.clone_obj = date_object_clone_interval;
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_338
      case 37: {
        date_object_handlers_interval.get_properties =
            date_object_get_properties_interval;
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_339
      case 38: {
        date_object_handlers_interval.get_property_ptr_ptr = ((void *)0);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_340
      case 39: {
        date_object_handlers_interval.read_property =
            date_interval_read_property;
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_341
      case 40: {
        date_object_handlers_interval.write_property =
            date_interval_write_property;
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_342
      case 41: {
        date_object_handlers_period.clone_obj = date_object_clone_period;
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_343
      case 42: {
        date_object_handlers_timezone.clone_obj = date_object_clone_timezone;
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_344
      case 43: {
        date_register_classes();
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_345
      case 44: {
        exit(1);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_346
      case 45: {
        i++;
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_347
      case 46: {
        if (!(date_globals.tzcache)) {
          ((date_globals.tzcache)) = (HashTable *)_emalloc(
              (sizeof(HashTable)), "ext/date/php_date.c", 822, ((void *)0), 0);
          _zend_hash_init(((date_globals.tzcache)), (4), (((void *)0)),
                          (_php_date_tzinfo_dtor), (0), "ext/date/php_date.c",
                          823);
        }
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_348
      case 47: {
        if (!format_len) {
          return _estrdup((""), "ext/date/php_date.c", 1018, ((void *)0), 0);
        }
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_349
      case 48: {
        if ((date_globals.last_errors)) {
          timelib_error_container_dtor((date_globals.last_errors));
          (date_globals.last_errors) = ((void *)0);
        }
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_350
      case 49: {
        if ((date_globals.last_errors)) {
          timelib_error_container_dtor((date_globals.last_errors));
        }
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_351
      case 50: {
        if ((date_globals.timezone) && (strlen((date_globals.timezone)) > 0)) {
          return (date_globals.timezone);
        }
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_352
      case 51: {
        if ((date_globals.timezone)) {
          _efree(((date_globals.timezone)), "ext/date/php_date.c", 3942,
                 ((void *)0), 0);
          (date_globals.timezone) = ((void *)0);
        }
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_353
      case 52: {
        if ((date_globals.timezone)) {
          _efree(((date_globals.timezone)), "ext/date/php_date.c", 614,
                 ((void *)0), 0);
        }
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_354
      case 53: {
        if ((date_globals.timezone)) {
          _efree(((date_globals.timezone)), "ext/date/php_date.c", 628,
                 ((void *)0), 0);
        }
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_355
      case 54: {
        if ((date_globals.tzcache)) {
          zend_hash_destroy((date_globals.tzcache));
          _efree(((date_globals.tzcache)), "ext/date/php_date.c", 633,
                 ((void *)0), 0);
          (date_globals.tzcache) = ((void *)0);
        }
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_356
      case 55: {
        if (i < format_len)
          i++;
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_357
      case 56: {
        if (localtime) {
          timelib_time_offset_dtor(offset);
        }
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_358
      case 57: {
        if (t->zone_type == 1) {
          offset = timelib_time_offset_ctor();
          offset->offset = (t->z) * -60;
          offset->leap_secs = 0;
          offset->is_dst = 0;
          offset->abbr = malloc(9);
          ap_php_snprintf(offset->abbr, 9, "GMT%c%02d%02d",
                          localtime ? ((offset->offset < 0) ? '-' : '+') : '+',
                          localtime ? abs(offset->offset / 3600) : 0,
                          localtime ? abs((offset->offset % 3600) / 60) : 0);
        } else {
          offset = timelib_get_time_zone_info(t->sse, t->tz_info);
        }
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_359
      case 58: {
        length = 1;
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_360
      case 59: {
        length = ap_php_slprintf(buffer, 32, "%s", "UTC");
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_361
      case 60: {
        memcpy(&date_object_handlers_date, zend_get_std_object_handlers(),
               sizeof(zend_object_handlers));
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_362
      case 61: {
        memcpy(&date_object_handlers_interval, zend_get_std_object_handlers(),
               sizeof(zend_object_handlers));
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_363
      case 62: {
        memcpy(&date_object_handlers_period, zend_get_std_object_handlers(),
               sizeof(zend_object_handlers));
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_364
      case 63: {
        memcpy(&date_object_handlers_timezone, zend_get_std_object_handlers(),
               sizeof(zend_object_handlers));
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_365
      case 64: {
        offset = timelib_get_time_zone_info((t)->sse, t->tz_info);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_366
      case 65: {
        offset = timelib_get_time_zone_info(t->sse, (t)->tz_info);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_367
      case 66: {
        offset = timelib_get_time_zone_info(t->sse, t->tz_info);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_368
      case 67: {
        offset = timelib_time_offset_ctor();
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_369
      case 68: {
        offset->abbr = malloc(9);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_370
      case 69: {
        offset->abbr = strdup((t)->tz_abbr);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_371
      case 70: {
        offset->abbr = strdup(t->tz_abbr);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_372
      case 71: {
        offset->is_dst = (t)->dst;
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_373
      case 72: {
        offset->is_dst = 0;
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_374
      case 73: {
        offset->is_dst = t->dst;
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_375
      case 74: {
        offset->leap_secs = 0;
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_376
      case 75: {
        offset->offset = ((t)->z - (t->dst * 60)) * -60;
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_377
      case 76: {
        offset->offset = ((t)->z) * -60;
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_378
      case 77: {
        offset->offset = (t->z - ((t)->dst * 60)) * -60;
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_379
      case 78: {
        offset->offset = (t->z - (t->dst * 60)) * -60;
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_380
      case 79: {
        offset->offset = (t->z) * -60;
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_381
      case 80: {
        php_date_global_timezone_db = ((void *)0);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_382
      case 81: {
        php_date_global_timezone_db_enabled = 0;
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_383
      case 82: {
        php_date_global_timezone_db_enabled = 1;
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_384
      case 83: {
        php_error_docref0(
            ((void *)0), (1 << 0L),
            "Timezone database is corrupt - this should *never* happen!");
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_385
      case 84: {
        php_error_docref0(((void *)0), (1 << 13L),
                          "The is_dst parameter is deprecated");
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_386
      case 85: {
        php_error_docref0(((void *)0), (1 << 1L),
                          "Can only do this for zones with ID for now");
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_387
      case 86: {
        php_error_docref0(((void *)0), (1 << 1L),
                          "Failed to parse interval (%s)", (format));
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_388
      case 87: {
        php_error_docref0(
            ((void *)0), (1 << 1L),
            "It is not safe to rely on the system's timezone settings. You are "
            "*required* to use the date.timezone setting or the "
            "date_default_timezone_set() function. In case you used any of "
            "those methods and you are still getting this warning, you most "
            "likely misspelled the timezone identifier. We had to select 'UTC' "
            "because your platform doesn't provide functionality for the "
            "guessing algorithm");
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_389
      case 88: {
        php_error_docref0(((void *)0), (1 << 1L),
                          "Only non-special relative time specifications are "
                          "supported for subtraction");
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_390
      case 89: {
        php_error_docref0(((void *)0), (1 << 1L),
                          "The DateInterval object has not been correctly "
                          "initialized by its constructor");
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_391
      case 90: {
        php_error_docref0(((void *)0), (1 << 1L),
                          "The DateTime object has not been correctly "
                          "initialized by its constructor");
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_392
      case 91: {
        php_error_docref0(((void *)0), (1 << 1L),
                          "The DateTimeZone object has not been correctly "
                          "initialized by its constructor");
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_393
      case 92: {
        php_error_docref0(((void *)0), (1 << 1L),
                          "The ISO interval '%s' did not contain a start date.",
                          (format));
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_394
      case 93: {
        php_error_docref0(((void *)0), (1 << 1L),
                          "The ISO interval '%s' did not contain an end date "
                          "or a recurrence count.",
                          (format));
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_395
      case 94: {
        php_error_docref0(((void *)0), (1 << 1L),
                          "The ISO interval '%s' did not contain an interval.",
                          (format));
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_396
      case 95: {
        php_error_docref0(
            ((void *)0), (1 << 1L),
            "This constructor accepts either (DateTime, DateInterval, int) OR "
            "(DateTime, DateInterval, DateTime) OR (string) as arguments.");
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_397
      case 96: {
        php_error_docref0(((void *)0), (1 << 1L), "Unknown or bad format (%s)",
                          (format));
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_398
      case 97: {
        php_error_docref0(((void *)0), (1 << 1L),
                          "Unknown or bad timezone (%s)", (format));
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_399
      case 98: {
        php_error_docref0(((void *)0), (1 << 1L),
                          "Unrecognized date format token.");
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_400
      case 99: {
        php_error_docref0(
            ((void *)0), (1 << 1L),
            "Wrong return format given, pick one of SUNFUNCS_RET_TIMESTAMP, "
            "SUNFUNCS_RET_STRING or SUNFUNCS_RET_DOUBLE");
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_401
      case 100: {
        php_error_docref0(((void *)0), (1 << 1L), "idate format is one char");
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_402
      case 101: {
        php_error_docref0(
            ((void *)0), (1 << 3L),
            "A two-letter ISO 3166-1 compatible country code is expected");
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_403
      case 102: {
        php_error_docref0(((void *)0), (1 << 3L), "Timezone ID '%s' is invalid",
                          (format));
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_404
      case 103: {
        php_info_print_table_end();
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_405
      case 104: {
        php_info_print_table_row(
            2, "Timezone Database",
            php_date_global_timezone_db_enabled ? "external" : "internal");
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_406
      case 105: {
        php_info_print_table_row(2, "date/time support", "enabled");
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_407
      case 106: {
        php_info_print_table_start();
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_408
      case 107: {
        rfc_colon = 0;
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_409
      case 108: {
        timelib_error_container_dtor((date_globals.last_errors));
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_410
      case 109: {
        timelib_isoweek_from_date((t)->y, t->m, t->d, &isoweek, &isoyear);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_411
      case 110: {
        timelib_isoweek_from_date(t->y, (t)->m, t->d, &isoweek, &isoyear);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_412
      case 111: {
        timelib_isoweek_from_date(t->y, t->m, (t)->d, &isoweek, &isoyear);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_413
      case 112: {
        timelib_isoweek_from_date(t->y, t->m, t->d, &isoweek, &isoyear);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_414
      case 113: {
        timelib_time_dtor((t));
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_415
      case 114: {
        timelib_time_offset_dtor((offset));
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_416
      case 115: {
        timelib_time_offset_dtor(offset);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_417
      case 116: {
        timelib_unixtime2gmt((t), (timelib_sll)time(((void *)0)));
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_418
      case 117: {
        timelib_unixtime2local((t), (timelib_sll)time(((void *)0)));
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_419
      case 118: {
        timelib_update_from_sse((t));
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_420
      case 119: {
        timelib_update_ts((t), ((void *)0));
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_421
      case 120: {
        zend_class_implements(date_ce_period, 1, zend_ce_traversable);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_422
      case 121: {
        zend_declare_class_constant_long(date_ce_period, "EXCLUDE_START_DATE",
                                         sizeof("EXCLUDE_START_DATE") - 1, 1);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_423
      case 122: {
        zend_declare_class_constant_long(date_ce_timezone, "AFRICA",
                                         sizeof("AFRICA") - 1, 1);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_424
      case 123: {
        zend_declare_class_constant_long(date_ce_timezone, "ALL",
                                         sizeof("ALL") - 1, 2047);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_425
      case 124: {
        zend_declare_class_constant_long(date_ce_timezone, "ALL_WITH_BC",
                                         sizeof("ALL_WITH_BC") - 1, 4095);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_426
      case 125: {
        zend_declare_class_constant_long(date_ce_timezone, "AMERICA",
                                         sizeof("AMERICA") - 1, 2);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_427
      case 126: {
        zend_declare_class_constant_long(date_ce_timezone, "ANTARCTICA",
                                         sizeof("ANTARCTICA") - 1, 4);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_428
      case 127: {
        zend_declare_class_constant_long(date_ce_timezone, "ARCTIC",
                                         sizeof("ARCTIC") - 1, 8);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_429
      case 128: {
        zend_declare_class_constant_long(date_ce_timezone, "ASIA",
                                         sizeof("ASIA") - 1, 16);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_430
      case 129: {
        zend_declare_class_constant_long(date_ce_timezone, "ATLANTIC",
                                         sizeof("ATLANTIC") - 1, 32);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_431
      case 130: {
        zend_declare_class_constant_long(date_ce_timezone, "AUSTRALIA",
                                         sizeof("AUSTRALIA") - 1, 64);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_432
      case 131: {
        zend_declare_class_constant_long(date_ce_timezone, "EUROPE",
                                         sizeof("EUROPE") - 1, 128);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_433
      case 132: {
        zend_declare_class_constant_long(date_ce_timezone, "INDIAN",
                                         sizeof("INDIAN") - 1, 256);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_434
      case 133: {
        zend_declare_class_constant_long(date_ce_timezone, "PACIFIC",
                                         sizeof("PACIFIC") - 1, 512);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_435
      case 134: {
        zend_declare_class_constant_long(date_ce_timezone, "PER_COUNTRY",
                                         sizeof("PER_COUNTRY") - 1, 4096);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_436
      case 135: {
        zend_declare_class_constant_long(date_ce_timezone, "UTC",
                                         sizeof("UTC") - 1, 1024);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_437
      case 136: {
        zend_declare_class_constant_stringl(
            date_ce_date, "ATOM", sizeof("ATOM") - 1, "Y-m-d\\TH:i:sP",
            sizeof("Y-m-d\\TH:i:sP") - 1);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_438
      case 137: {
        zend_declare_class_constant_stringl(
            date_ce_date, "COOKIE", sizeof("COOKIE") - 1, "l, d-M-y H:i:s T",
            sizeof("l, d-M-y H:i:s T") - 1);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_439
      case 138: {
        zend_declare_class_constant_stringl(
            date_ce_date, "ISO8601", sizeof("ISO8601") - 1, "Y-m-d\\TH:i:sO",
            sizeof("Y-m-d\\TH:i:sO") - 1);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_440
      case 139: {
        zend_declare_class_constant_stringl(
            date_ce_date, "RFC1036", sizeof("RFC1036") - 1, "D, d M y H:i:s O",
            sizeof("D, d M y H:i:s O") - 1);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_441
      case 140: {
        zend_declare_class_constant_stringl(
            date_ce_date, "RFC1123", sizeof("RFC1123") - 1, "D, d M Y H:i:s O",
            sizeof("D, d M Y H:i:s O") - 1);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_442
      case 141: {
        zend_declare_class_constant_stringl(
            date_ce_date, "RFC2822", sizeof("RFC2822") - 1, "D, d M Y H:i:s O",
            sizeof("D, d M Y H:i:s O") - 1);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_443
      case 142: {
        zend_declare_class_constant_stringl(
            date_ce_date, "RFC3339", sizeof("RFC3339") - 1, "Y-m-d\\TH:i:sP",
            sizeof("Y-m-d\\TH:i:sP") - 1);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_444
      case 143: {
        zend_declare_class_constant_stringl(
            date_ce_date, "RFC822", sizeof("RFC822") - 1, "D, d M y H:i:s O",
            sizeof("D, d M y H:i:s O") - 1);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_445
      case 144: {
        zend_declare_class_constant_stringl(
            date_ce_date, "RFC850", sizeof("RFC850") - 1, "l, d-M-y H:i:s T",
            sizeof("l, d-M-y H:i:s T") - 1);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_446
      case 145: {
        zend_declare_class_constant_stringl(
            date_ce_date, "RSS", sizeof("RSS") - 1, "D, d M Y H:i:s O",
            sizeof("D, d M Y H:i:s O") - 1);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_447
      case 146: {
        zend_declare_class_constant_stringl(date_ce_date, "W3C",
                                            sizeof("W3C") - 1, "Y-m-d\\TH:i:sP",
                                            sizeof("Y-m-d\\TH:i:sP") - 1);
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_448
      case 147: {
        zend_error((1 << 0L),
                   "An iterator cannot be used with foreach by reference");
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_449
      case 148: {
        zend_error((1 << 3L), "A non well formed numeric value encountered");
      default:
        buffer[0] = format[i];
        break;
      }
#endif
#ifdef COMPILE_450
      case 149: {
        zend_hash_destroy((date_globals.tzcache));
      default:
        buffer[0] = format[i];
        break;
      }
#endif
      }
      // prophet generated patch
      switch (__choose("__ID3")) {
      case 0: {
        buffer[1] = '\0';
        break;
      }
#ifdef COMPILE_451
      case 1: {
        ((date_globals.tzcache)) = (HashTable *)_emalloc(
            (sizeof(HashTable)), "ext/date/php_date.c", 822, ((void *)0), 0);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_452
      case 2: {
        (date_globals.last_errors) = ((void *)0);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_453
      case 3: {
        (date_globals.timezone) = ((void *)0);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_454
      case 4: {
        (date_globals.timezone) = _estrndup(
            (zone), (zone_len), "ext/date/php_date.c", 3945, ((void *)0), 0);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_455
      case 5: {
        (date_globals.tzcache) = ((void *)0);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_456
      case 6: {
        (executor_globals.argument_stack) =
            zend_vm_stack_new_page(((16 * 1024) - 16));
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_457
      case 7: {
        (format)++;
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_458
      case 8: {
        (offset) = timelib_get_time_zone_info(t->sse, t->tz_info);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_459
      case 9: {
        (offset) = timelib_time_offset_ctor();
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_460
      case 10: {
        (offset)->abbr = malloc(9);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_461
      case 11: {
        (offset)->abbr = strdup(t->tz_abbr);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_462
      case 12: {
        (offset)->is_dst = 0;
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_463
      case 13: {
        (offset)->is_dst = t->dst;
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_464
      case 14: {
        (offset)->leap_secs = 0;
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_465
      case 15: {
        (offset)->offset = (t->z - (t->dst * 60)) * -60;
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_466
      case 16: {
        (offset)->offset = (t->z) * -60;
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_467
      case 17: {
        _efree(((date_globals.timezone)), "ext/date/php_date.c", 3942,
               ((void *)0), 0);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_468
      case 18: {
        _efree(((date_globals.timezone)), "ext/date/php_date.c", 614,
               ((void *)0), 0);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_469
      case 19: {
        _efree(((date_globals.timezone)), "ext/date/php_date.c", 628,
               ((void *)0), 0);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_470
      case 20: {
        _efree(((date_globals.tzcache)), "ext/date/php_date.c", 633,
               ((void *)0), 0);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_471
      case 21: {
        _efree(((format)), "ext/date/php_date.c", 1413, ((void *)0), 0);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_472
      case 22: {
        _efree(((format)), "ext/date/php_date.c", 1654, ((void *)0), 0);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_473
      case 23: {
        _efree(((format)), "ext/date/php_date.c", 2536, ((void *)0), 0);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_474
      case 24: {
        _zend_hash_init(((date_globals.tzcache)), (4), (((void *)0)),
                        (_php_date_tzinfo_dtor), (0), "ext/date/php_date.c",
                        823);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_475
      case 25: {
        ap_php_snprintf((offset)->abbr, 9, "GMT%c%02d%02d",
                        localtime ? ((offset->offset < 0) ? '-' : '+') : '+',
                        localtime ? abs(offset->offset / 3600) : 0,
                        localtime ? abs((offset->offset % 3600) / 60) : 0);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_476
      case 26: {
        ap_php_snprintf(offset->abbr, 9, "GMT%c%02d%02d",
                        localtime ? (((offset)->offset < 0) ? '-' : '+') : '+',
                        localtime ? abs(offset->offset / 3600) : 0,
                        localtime ? abs((offset->offset % 3600) / 60) : 0);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_477
      case 27: {
        ap_php_snprintf(offset->abbr, 9, "GMT%c%02d%02d",
                        localtime ? ((offset->offset < 0) ? '-' : '+') : '+',
                        localtime ? abs((offset)->offset / 3600) : 0,
                        localtime ? abs((offset->offset % 3600) / 60) : 0);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_478
      case 28: {
        ap_php_snprintf(offset->abbr, 9, "GMT%c%02d%02d",
                        localtime ? ((offset->offset < 0) ? '-' : '+') : '+',
                        localtime ? abs(offset->offset / 3600) : 0,
                        localtime ? abs(((offset)->offset % 3600) / 60) : 0);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_479
      case 29: {
        ap_php_snprintf(offset->abbr, 9, "GMT%c%02d%02d",
                        localtime ? ((offset->offset < 0) ? '-' : '+') : '+',
                        localtime ? abs(offset->offset / 3600) : 0,
                        localtime ? abs((offset->offset % 3600) / 60) : 0);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_480
      case 30: {
        buffer[1] = '\x00';
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_481
      case 31: {
        date_ce_period->get_iterator = date_object_period_get_iterator;
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_482
      case 32: {
        date_ce_period->iterator_funcs.funcs = &date_period_it_funcs;
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_483
      case 33: {
        date_object_handlers_date.clone_obj = date_object_clone_date;
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_484
      case 34: {
        date_object_handlers_date.compare_objects = date_object_compare_date;
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_485
      case 35: {
        date_object_handlers_date.get_properties = date_object_get_properties;
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_486
      case 36: {
        date_object_handlers_interval.clone_obj = date_object_clone_interval;
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_487
      case 37: {
        date_object_handlers_interval.get_properties =
            date_object_get_properties_interval;
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_488
      case 38: {
        date_object_handlers_interval.get_property_ptr_ptr = ((void *)0);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_489
      case 39: {
        date_object_handlers_interval.read_property =
            date_interval_read_property;
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_490
      case 40: {
        date_object_handlers_interval.write_property =
            date_interval_write_property;
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_491
      case 41: {
        date_object_handlers_period.clone_obj = date_object_clone_period;
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_492
      case 42: {
        date_object_handlers_timezone.clone_obj = date_object_clone_timezone;
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_493
      case 43: {
        date_register_classes();
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_494
      case 44: {
        exit(1);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_495
      case 45: {
        i++;
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_496
      case 46: {
        if (!(date_globals.tzcache)) {
          ((date_globals.tzcache)) = (HashTable *)_emalloc(
              (sizeof(HashTable)), "ext/date/php_date.c", 822, ((void *)0), 0);
          _zend_hash_init(((date_globals.tzcache)), (4), (((void *)0)),
                          (_php_date_tzinfo_dtor), (0), "ext/date/php_date.c",
                          823);
        }
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_497
      case 47: {
        if (!format_len) {
          return _estrdup((""), "ext/date/php_date.c", 1018, ((void *)0), 0);
        }
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_498
      case 48: {
        if ((date_globals.last_errors)) {
          timelib_error_container_dtor((date_globals.last_errors));
          (date_globals.last_errors) = ((void *)0);
        }
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_499
      case 49: {
        if ((date_globals.last_errors)) {
          timelib_error_container_dtor((date_globals.last_errors));
        }
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_500
      case 50: {
        if ((date_globals.timezone) && (strlen((date_globals.timezone)) > 0)) {
          return (date_globals.timezone);
        }
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_501
      case 51: {
        if ((date_globals.timezone)) {
          _efree(((date_globals.timezone)), "ext/date/php_date.c", 3942,
                 ((void *)0), 0);
          (date_globals.timezone) = ((void *)0);
        }
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_502
      case 52: {
        if ((date_globals.timezone)) {
          _efree(((date_globals.timezone)), "ext/date/php_date.c", 614,
                 ((void *)0), 0);
        }
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_503
      case 53: {
        if ((date_globals.timezone)) {
          _efree(((date_globals.timezone)), "ext/date/php_date.c", 628,
                 ((void *)0), 0);
        }
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_504
      case 54: {
        if ((date_globals.tzcache)) {
          zend_hash_destroy((date_globals.tzcache));
          _efree(((date_globals.tzcache)), "ext/date/php_date.c", 633,
                 ((void *)0), 0);
          (date_globals.tzcache) = ((void *)0);
        }
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_505
      case 55: {
        if (i < format_len)
          i++;
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_506
      case 56: {
        if (localtime) {
          timelib_time_offset_dtor(offset);
        }
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_507
      case 57: {
        if (t->zone_type == 1) {
          offset = timelib_time_offset_ctor();
          offset->offset = (t->z) * -60;
          offset->leap_secs = 0;
          offset->is_dst = 0;
          offset->abbr = malloc(9);
          ap_php_snprintf(offset->abbr, 9, "GMT%c%02d%02d",
                          localtime ? ((offset->offset < 0) ? '-' : '+') : '+',
                          localtime ? abs(offset->offset / 3600) : 0,
                          localtime ? abs((offset->offset % 3600) / 60) : 0);
        } else {
          offset = timelib_get_time_zone_info(t->sse, t->tz_info);
        }
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_508
      case 58: {
        length = 1;
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_509
      case 59: {
        length = ap_php_slprintf(buffer, 32, "%s", "UTC");
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_510
      case 60: {
        memcpy(&date_object_handlers_date, zend_get_std_object_handlers(),
               sizeof(zend_object_handlers));
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_511
      case 61: {
        memcpy(&date_object_handlers_interval, zend_get_std_object_handlers(),
               sizeof(zend_object_handlers));
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_512
      case 62: {
        memcpy(&date_object_handlers_period, zend_get_std_object_handlers(),
               sizeof(zend_object_handlers));
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_513
      case 63: {
        memcpy(&date_object_handlers_timezone, zend_get_std_object_handlers(),
               sizeof(zend_object_handlers));
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_514
      case 64: {
        offset = timelib_get_time_zone_info((t)->sse, t->tz_info);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_515
      case 65: {
        offset = timelib_get_time_zone_info(t->sse, (t)->tz_info);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_516
      case 66: {
        offset = timelib_get_time_zone_info(t->sse, t->tz_info);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_517
      case 67: {
        offset = timelib_time_offset_ctor();
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_518
      case 68: {
        offset->abbr = malloc(9);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_519
      case 69: {
        offset->abbr = strdup((t)->tz_abbr);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_520
      case 70: {
        offset->abbr = strdup(t->tz_abbr);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_521
      case 71: {
        offset->is_dst = (t)->dst;
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_522
      case 72: {
        offset->is_dst = 0;
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_523
      case 73: {
        offset->is_dst = t->dst;
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_524
      case 74: {
        offset->leap_secs = 0;
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_525
      case 75: {
        offset->offset = ((t)->z - (t->dst * 60)) * -60;
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_526
      case 76: {
        offset->offset = ((t)->z) * -60;
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_527
      case 77: {
        offset->offset = (t->z - ((t)->dst * 60)) * -60;
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_528
      case 78: {
        offset->offset = (t->z - (t->dst * 60)) * -60;
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_529
      case 79: {
        offset->offset = (t->z) * -60;
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_530
      case 80: {
        php_date_global_timezone_db = ((void *)0);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_531
      case 81: {
        php_date_global_timezone_db_enabled = 0;
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_532
      case 82: {
        php_date_global_timezone_db_enabled = 1;
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_533
      case 83: {
        php_error_docref0(
            ((void *)0), (1 << 0L),
            "Timezone database is corrupt - this should *never* happen!");
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_534
      case 84: {
        php_error_docref0(((void *)0), (1 << 13L),
                          "The is_dst parameter is deprecated");
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_535
      case 85: {
        php_error_docref0(((void *)0), (1 << 1L),
                          "Can only do this for zones with ID for now");
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_536
      case 86: {
        php_error_docref0(((void *)0), (1 << 1L),
                          "Failed to parse interval (%s)", (format));
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_537
      case 87: {
        php_error_docref0(
            ((void *)0), (1 << 1L),
            "It is not safe to rely on the system's timezone settings. You are "
            "*required* to use the date.timezone setting or the "
            "date_default_timezone_set() function. In case you used any of "
            "those methods and you are still getting this warning, you most "
            "likely misspelled the timezone identifier. We had to select 'UTC' "
            "because your platform doesn't provide functionality for the "
            "guessing algorithm");
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_538
      case 88: {
        php_error_docref0(((void *)0), (1 << 1L),
                          "Only non-special relative time specifications are "
                          "supported for subtraction");
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_539
      case 89: {
        php_error_docref0(((void *)0), (1 << 1L),
                          "The DateInterval object has not been correctly "
                          "initialized by its constructor");
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_540
      case 90: {
        php_error_docref0(((void *)0), (1 << 1L),
                          "The DateTime object has not been correctly "
                          "initialized by its constructor");
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_541
      case 91: {
        php_error_docref0(((void *)0), (1 << 1L),
                          "The DateTimeZone object has not been correctly "
                          "initialized by its constructor");
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_542
      case 92: {
        php_error_docref0(((void *)0), (1 << 1L),
                          "The ISO interval '%s' did not contain a start date.",
                          (format));
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_543
      case 93: {
        php_error_docref0(((void *)0), (1 << 1L),
                          "The ISO interval '%s' did not contain an end date "
                          "or a recurrence count.",
                          (format));
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_544
      case 94: {
        php_error_docref0(((void *)0), (1 << 1L),
                          "The ISO interval '%s' did not contain an interval.",
                          (format));
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_545
      case 95: {
        php_error_docref0(
            ((void *)0), (1 << 1L),
            "This constructor accepts either (DateTime, DateInterval, int) OR "
            "(DateTime, DateInterval, DateTime) OR (string) as arguments.");
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_546
      case 96: {
        php_error_docref0(((void *)0), (1 << 1L), "Unknown or bad format (%s)",
                          (format));
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_547
      case 97: {
        php_error_docref0(((void *)0), (1 << 1L),
                          "Unknown or bad timezone (%s)", (format));
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_548
      case 98: {
        php_error_docref0(((void *)0), (1 << 1L),
                          "Unrecognized date format token.");
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_549
      case 99: {
        php_error_docref0(
            ((void *)0), (1 << 1L),
            "Wrong return format given, pick one of SUNFUNCS_RET_TIMESTAMP, "
            "SUNFUNCS_RET_STRING or SUNFUNCS_RET_DOUBLE");
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_550
      case 100: {
        php_error_docref0(((void *)0), (1 << 1L), "idate format is one char");
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_551
      case 101: {
        php_error_docref0(
            ((void *)0), (1 << 3L),
            "A two-letter ISO 3166-1 compatible country code is expected");
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_552
      case 102: {
        php_error_docref0(((void *)0), (1 << 3L), "Timezone ID '%s' is invalid",
                          (format));
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_553
      case 103: {
        php_info_print_table_end();
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_554
      case 104: {
        php_info_print_table_row(
            2, "Timezone Database",
            php_date_global_timezone_db_enabled ? "external" : "internal");
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_555
      case 105: {
        php_info_print_table_row(2, "date/time support", "enabled");
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_556
      case 106: {
        php_info_print_table_start();
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_557
      case 107: {
        rfc_colon = 0;
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_558
      case 108: {
        timelib_error_container_dtor((date_globals.last_errors));
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_559
      case 109: {
        timelib_isoweek_from_date((t)->y, t->m, t->d, &isoweek, &isoyear);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_560
      case 110: {
        timelib_isoweek_from_date(t->y, (t)->m, t->d, &isoweek, &isoyear);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_561
      case 111: {
        timelib_isoweek_from_date(t->y, t->m, (t)->d, &isoweek, &isoyear);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_562
      case 112: {
        timelib_isoweek_from_date(t->y, t->m, t->d, &isoweek, &isoyear);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_563
      case 113: {
        timelib_time_dtor((t));
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_564
      case 114: {
        timelib_time_offset_dtor((offset));
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_565
      case 115: {
        timelib_time_offset_dtor(offset);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_566
      case 116: {
        timelib_unixtime2gmt((t), (timelib_sll)time(((void *)0)));
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_567
      case 117: {
        timelib_unixtime2local((t), (timelib_sll)time(((void *)0)));
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_568
      case 118: {
        timelib_update_from_sse((t));
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_569
      case 119: {
        timelib_update_ts((t), ((void *)0));
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_570
      case 120: {
        zend_class_implements(date_ce_period, 1, zend_ce_traversable);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_571
      case 121: {
        zend_declare_class_constant_long(date_ce_period, "EXCLUDE_START_DATE",
                                         sizeof("EXCLUDE_START_DATE") - 1, 1);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_572
      case 122: {
        zend_declare_class_constant_long(date_ce_timezone, "AFRICA",
                                         sizeof("AFRICA") - 1, 1);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_573
      case 123: {
        zend_declare_class_constant_long(date_ce_timezone, "ALL",
                                         sizeof("ALL") - 1, 2047);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_574
      case 124: {
        zend_declare_class_constant_long(date_ce_timezone, "ALL_WITH_BC",
                                         sizeof("ALL_WITH_BC") - 1, 4095);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_575
      case 125: {
        zend_declare_class_constant_long(date_ce_timezone, "AMERICA",
                                         sizeof("AMERICA") - 1, 2);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_576
      case 126: {
        zend_declare_class_constant_long(date_ce_timezone, "ANTARCTICA",
                                         sizeof("ANTARCTICA") - 1, 4);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_577
      case 127: {
        zend_declare_class_constant_long(date_ce_timezone, "ARCTIC",
                                         sizeof("ARCTIC") - 1, 8);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_578
      case 128: {
        zend_declare_class_constant_long(date_ce_timezone, "ASIA",
                                         sizeof("ASIA") - 1, 16);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_579
      case 129: {
        zend_declare_class_constant_long(date_ce_timezone, "ATLANTIC",
                                         sizeof("ATLANTIC") - 1, 32);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_580
      case 130: {
        zend_declare_class_constant_long(date_ce_timezone, "AUSTRALIA",
                                         sizeof("AUSTRALIA") - 1, 64);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_581
      case 131: {
        zend_declare_class_constant_long(date_ce_timezone, "EUROPE",
                                         sizeof("EUROPE") - 1, 128);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_582
      case 132: {
        zend_declare_class_constant_long(date_ce_timezone, "INDIAN",
                                         sizeof("INDIAN") - 1, 256);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_583
      case 133: {
        zend_declare_class_constant_long(date_ce_timezone, "PACIFIC",
                                         sizeof("PACIFIC") - 1, 512);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_584
      case 134: {
        zend_declare_class_constant_long(date_ce_timezone, "PER_COUNTRY",
                                         sizeof("PER_COUNTRY") - 1, 4096);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_585
      case 135: {
        zend_declare_class_constant_long(date_ce_timezone, "UTC",
                                         sizeof("UTC") - 1, 1024);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_586
      case 136: {
        zend_declare_class_constant_stringl(
            date_ce_date, "ATOM", sizeof("ATOM") - 1, "Y-m-d\\TH:i:sP",
            sizeof("Y-m-d\\TH:i:sP") - 1);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_587
      case 137: {
        zend_declare_class_constant_stringl(
            date_ce_date, "COOKIE", sizeof("COOKIE") - 1, "l, d-M-y H:i:s T",
            sizeof("l, d-M-y H:i:s T") - 1);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_588
      case 138: {
        zend_declare_class_constant_stringl(
            date_ce_date, "ISO8601", sizeof("ISO8601") - 1, "Y-m-d\\TH:i:sO",
            sizeof("Y-m-d\\TH:i:sO") - 1);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_589
      case 139: {
        zend_declare_class_constant_stringl(
            date_ce_date, "RFC1036", sizeof("RFC1036") - 1, "D, d M y H:i:s O",
            sizeof("D, d M y H:i:s O") - 1);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_590
      case 140: {
        zend_declare_class_constant_stringl(
            date_ce_date, "RFC1123", sizeof("RFC1123") - 1, "D, d M Y H:i:s O",
            sizeof("D, d M Y H:i:s O") - 1);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_591
      case 141: {
        zend_declare_class_constant_stringl(
            date_ce_date, "RFC2822", sizeof("RFC2822") - 1, "D, d M Y H:i:s O",
            sizeof("D, d M Y H:i:s O") - 1);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_592
      case 142: {
        zend_declare_class_constant_stringl(
            date_ce_date, "RFC3339", sizeof("RFC3339") - 1, "Y-m-d\\TH:i:sP",
            sizeof("Y-m-d\\TH:i:sP") - 1);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_593
      case 143: {
        zend_declare_class_constant_stringl(
            date_ce_date, "RFC822", sizeof("RFC822") - 1, "D, d M y H:i:s O",
            sizeof("D, d M y H:i:s O") - 1);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_594
      case 144: {
        zend_declare_class_constant_stringl(
            date_ce_date, "RFC850", sizeof("RFC850") - 1, "l, d-M-y H:i:s T",
            sizeof("l, d-M-y H:i:s T") - 1);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_595
      case 145: {
        zend_declare_class_constant_stringl(
            date_ce_date, "RSS", sizeof("RSS") - 1, "D, d M Y H:i:s O",
            sizeof("D, d M Y H:i:s O") - 1);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_596
      case 146: {
        zend_declare_class_constant_stringl(date_ce_date, "W3C",
                                            sizeof("W3C") - 1, "Y-m-d\\TH:i:sP",
                                            sizeof("Y-m-d\\TH:i:sP") - 1);
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_597
      case 147: {
        zend_error((1 << 0L),
                   "An iterator cannot be used with foreach by reference");
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_598
      case 148: {
        zend_error((1 << 3L), "A non well formed numeric value encountered");
        buffer[1] = '\0';
        break;
      }
#endif
#ifdef COMPILE_599
      case 149: {
        zend_hash_destroy((date_globals.tzcache));
        buffer[1] = '\0';
        break;
      }
#endif
      }
      length = 1;
      break;
    }
    smart_str_appendl(&string, buffer, length);
  }

  smart_str_0(&string);

  if (localtime) {
    timelib_time_offset_dtor(offset);
  }

  return string.c;
}

static void php_date(INTERNAL_FUNCTION_PARAMETERS, int localtime) {
  char *format;
  int format_len;
  long ts;
  char *string;

  if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "s|l", &format,
                            &format_len, &ts) == FAILURE) {
    RETURN_FALSE;
  }
  if (ZEND_NUM_ARGS() == 1) {
    ts = time(NULL);
  }

  string = php_format_date(format, format_len, ts, localtime TSRMLS_CC);

  // prophet generated patch
  switch (__choose("__ID4")) {
  case 0: {
    RETVAL_STRING(string, 0);

    break;
  }
#ifdef COMPILE_600
  case 1: {
    ((date_globals.tzcache)) = (HashTable *)_emalloc(
        (sizeof(HashTable)), "ext/date/php_date.c", 822, ((void *)0), 0);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_601
  case 2: {
    (date_globals.last_errors) = ((void *)0);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_602
  case 3: {
    (date_globals.timezone) = ((void *)0);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_603
  case 4: {
    (date_globals.timezone) = _estrndup(
        (zone), (zone_len), "ext/date/php_date.c", 3945, ((void *)0), 0);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_604
  case 5: {
    (date_globals.tzcache) = ((void *)0);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_605
  case 6: {
    (executor_globals.argument_stack) =
        zend_vm_stack_new_page(((16 * 1024) - 16));
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_606
  case 7: {
    (format) = php_format_date(format, format_len, ts, localtime);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_607
  case 8: {
    (format)++;
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_608
  case 9: {
    (string) = php_format_date(format, format_len, ts, localtime);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_609
  case 10: {
    (string)++;
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_610
  case 11: {
    _array_init(((return_value)), 0, "ext/date/php_date.c", 1703);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_611
  case 12: {
    _array_init(((return_value)), 0, "ext/date/php_date.c", 1749);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_612
  case 13: {
    _array_init(((return_value)), 0, "ext/date/php_date.c", 2605);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_613
  case 14: {
    _array_init(((return_value)), 0, "ext/date/php_date.c", 2613);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_614
  case 15: {
    _array_init(((return_value)), 0, "ext/date/php_date.c", 2626);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_615
  case 16: {
    _array_init(((return_value)), 0, "ext/date/php_date.c", 2638);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_616
  case 17: {
    _array_init(((return_value)), 0, "ext/date/php_date.c", 2688);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_617
  case 18: {
    _array_init(((return_value)), 0, "ext/date/php_date.c", 3379);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_618
  case 19: {
    _array_init(((return_value)), 0, "ext/date/php_date.c", 3382);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_619
  case 20: {
    _array_init(((return_value)), 0, "ext/date/php_date.c", 3392);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_620
  case 21: {
    _array_init(((return_value)), 0, "ext/date/php_date.c", 3394);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_621
  case 22: {
    _array_init(((return_value)), 0, "ext/date/php_date.c", 3406);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_622
  case 23: {
    _array_init(((return_value)), 0, "ext/date/php_date.c", 3408);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_623
  case 24: {
    _array_init(((return_value)), 0, "ext/date/php_date.c", 3413);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_624
  case 25: {
    _array_init(((return_value)), 0, "ext/date/php_date.c", 3437);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_625
  case 26: {
    _array_init(((return_value)), 0, "ext/date/php_date.c", 3865);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_626
  case 27: {
    _array_init(((return_value)), 0, "ext/date/php_date.c", 3900);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_627
  case 28: {
    _array_init(((return_value)), 0, "ext/date/php_date.c", 3905);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_628
  case 29: {
    _array_init(((return_value)), 0, "ext/date/php_date.c", 3916);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_629
  case 30: {
    _array_init(((return_value)), 0, "ext/date/php_date.c", 4089);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_630
  case 31: {
    _array_init(((this_ptr)), 0, "ext/date/php_date.c", 1703);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_631
  case 32: {
    _array_init(((this_ptr)), 0, "ext/date/php_date.c", 1749);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_632
  case 33: {
    _array_init(((this_ptr)), 0, "ext/date/php_date.c", 2605);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_633
  case 34: {
    _array_init(((this_ptr)), 0, "ext/date/php_date.c", 2613);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_634
  case 35: {
    _array_init(((this_ptr)), 0, "ext/date/php_date.c", 2626);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_635
  case 36: {
    _array_init(((this_ptr)), 0, "ext/date/php_date.c", 2638);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_636
  case 37: {
    _array_init(((this_ptr)), 0, "ext/date/php_date.c", 2688);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_637
  case 38: {
    _array_init(((this_ptr)), 0, "ext/date/php_date.c", 3379);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_638
  case 39: {
    _array_init(((this_ptr)), 0, "ext/date/php_date.c", 3382);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_639
  case 40: {
    _array_init(((this_ptr)), 0, "ext/date/php_date.c", 3392);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_640
  case 41: {
    _array_init(((this_ptr)), 0, "ext/date/php_date.c", 3394);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_641
  case 42: {
    _array_init(((this_ptr)), 0, "ext/date/php_date.c", 3406);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_642
  case 43: {
    _array_init(((this_ptr)), 0, "ext/date/php_date.c", 3408);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_643
  case 44: {
    _array_init(((this_ptr)), 0, "ext/date/php_date.c", 3413);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_644
  case 45: {
    _array_init(((this_ptr)), 0, "ext/date/php_date.c", 3437);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_645
  case 46: {
    _array_init(((this_ptr)), 0, "ext/date/php_date.c", 3865);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_646
  case 47: {
    _array_init(((this_ptr)), 0, "ext/date/php_date.c", 3900);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_647
  case 48: {
    _array_init(((this_ptr)), 0, "ext/date/php_date.c", 3905);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_648
  case 49: {
    _array_init(((this_ptr)), 0, "ext/date/php_date.c", 3916);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_649
  case 50: {
    _array_init(((this_ptr)), 0, "ext/date/php_date.c", 4089);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_650
  case 51: {
    _convert_to_string((*(return_value_ptr)), "ext/date/php_date.c", 2524);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_651
  case 52: {
    _convert_to_string((*(return_value_ptr)), "ext/date/php_date.c", 2528);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_652
  case 53: {
    _convert_to_string((*(return_value_ptr)), "ext/date/php_date.c", 2541);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_653
  case 54: {
    _efree(((date_globals.timezone)), "ext/date/php_date.c", 3942, ((void *)0),
           0);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_654
  case 55: {
    _efree(((date_globals.timezone)), "ext/date/php_date.c", 614, ((void *)0),
           0);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_655
  case 56: {
    _efree(((date_globals.timezone)), "ext/date/php_date.c", 628, ((void *)0),
           0);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_656
  case 57: {
    _efree(((date_globals.tzcache)), "ext/date/php_date.c", 633, ((void *)0),
           0);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_657
  case 58: {
    _efree(((format)), "ext/date/php_date.c", 1413, ((void *)0), 0);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_658
  case 59: {
    _efree(((format)), "ext/date/php_date.c", 1654, ((void *)0), 0);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_659
  case 60: {
    _efree(((format)), "ext/date/php_date.c", 2536, ((void *)0), 0);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_660
  case 61: {
    _efree(((string)), "ext/date/php_date.c", 1413, ((void *)0), 0);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_661
  case 62: {
    _efree(((string)), "ext/date/php_date.c", 1654, ((void *)0), 0);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_662
  case 63: {
    _efree(((string)), "ext/date/php_date.c", 2536, ((void *)0), 0);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_663
  case 64: {
    _zend_hash_init(((date_globals.tzcache)), (4), (((void *)0)),
                    (_php_date_tzinfo_dtor), (0), "ext/date/php_date.c", 823);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_664
  case 65: {
    _zval_copy_ctor(((return_value)), "ext/date/php_date.c", 2830);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_665
  case 66: {
    _zval_copy_ctor(((return_value)), "ext/date/php_date.c", 2874);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_666
  case 67: {
    _zval_copy_ctor(((return_value)), "ext/date/php_date.c", 2920);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_667
  case 68: {
    _zval_copy_ctor(((return_value)), "ext/date/php_date.c", 2985);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_668
  case 69: {
    _zval_copy_ctor(((return_value)), "ext/date/php_date.c", 3043);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_669
  case 70: {
    _zval_copy_ctor(((return_value)), "ext/date/php_date.c", 3066);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_670
  case 71: {
    _zval_copy_ctor(((return_value)), "ext/date/php_date.c", 3093);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_671
  case 72: {
    _zval_copy_ctor(((return_value)), "ext/date/php_date.c", 3114);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_672
  case 73: {
    _zval_copy_ctor(((this_ptr)), "ext/date/php_date.c", 2830);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_673
  case 74: {
    _zval_copy_ctor(((this_ptr)), "ext/date/php_date.c", 2874);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_674
  case 75: {
    _zval_copy_ctor(((this_ptr)), "ext/date/php_date.c", 2920);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_675
  case 76: {
    _zval_copy_ctor(((this_ptr)), "ext/date/php_date.c", 2985);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_676
  case 77: {
    _zval_copy_ctor(((this_ptr)), "ext/date/php_date.c", 3043);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_677
  case 78: {
    _zval_copy_ctor(((this_ptr)), "ext/date/php_date.c", 3066);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_678
  case 79: {
    _zval_copy_ctor(((this_ptr)), "ext/date/php_date.c", 3093);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_679
  case 80: {
    _zval_copy_ctor(((this_ptr)), "ext/date/php_date.c", 3114);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_680
  case 81: {
    _zval_dtor(((return_value)),
               "/root/project/prophet-gpl/build/php-case-2adf58/"
               "php-2adf58-workdir/src/Zend/zend_execute.h",
               87);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_681
  case 82: {
    _zval_dtor(((return_value)), "ext/date/php_date.c", 3513);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_682
  case 83: {
    _zval_dtor(((return_value)), "ext/date/php_date.c", 3525);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_683
  case 84: {
    _zval_dtor(((return_value)), "ext/date/php_date.c", 3562);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_684
  case 85: {
    _zval_dtor(((return_value)), "ext/date/php_date.c", 3563);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_685
  case 86: {
    _zval_dtor(((return_value)), "ext/date/php_date.c", 3564);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_686
  case 87: {
    _zval_dtor(((return_value)), "ext/date/php_date.c", 3565);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_687
  case 88: {
    _zval_dtor(((return_value)), "ext/date/php_date.c", 3566);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_688
  case 89: {
    _zval_dtor(((return_value)), "ext/date/php_date.c", 3567);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_689
  case 90: {
    _zval_dtor(((return_value)), "ext/date/php_date.c", 3568);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_690
  case 91: {
    _zval_dtor(((return_value)), "ext/date/php_date.c", 3574);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_691
  case 92: {
    _zval_dtor(((this_ptr)),
               "/root/project/prophet-gpl/build/php-case-2adf58/"
               "php-2adf58-workdir/src/Zend/zend_execute.h",
               87);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_692
  case 93: {
    _zval_dtor(((this_ptr)), "ext/date/php_date.c", 3513);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_693
  case 94: {
    _zval_dtor(((this_ptr)), "ext/date/php_date.c", 3525);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_694
  case 95: {
    _zval_dtor(((this_ptr)), "ext/date/php_date.c", 3562);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_695
  case 96: {
    _zval_dtor(((this_ptr)), "ext/date/php_date.c", 3563);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_696
  case 97: {
    _zval_dtor(((this_ptr)), "ext/date/php_date.c", 3564);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_697
  case 98: {
    _zval_dtor(((this_ptr)), "ext/date/php_date.c", 3565);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_698
  case 99: {
    _zval_dtor(((this_ptr)), "ext/date/php_date.c", 3566);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_699
  case 100: {
    _zval_dtor(((this_ptr)), "ext/date/php_date.c", 3567);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_700
  case 101: {
    _zval_dtor(((this_ptr)), "ext/date/php_date.c", 3568);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_701
  case 102: {
    _zval_dtor(((this_ptr)), "ext/date/php_date.c", 3574);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_702
  case 103: {
    _zval_ptr_dtor((&(return_value)),
                   "/root/project/prophet-gpl/build/php-case-2adf58/"
                   "php-2adf58-workdir/src/Zend/zend_execute.h",
                   144);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_703
  case 104: {
    _zval_ptr_dtor((&(return_value)), "ext/date/php_date.c", 2552);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_704
  case 105: {
    _zval_ptr_dtor((&(return_value)), "ext/date/php_date.c", 2830);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_705
  case 106: {
    _zval_ptr_dtor((&(return_value)), "ext/date/php_date.c", 2874);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_706
  case 107: {
    _zval_ptr_dtor((&(return_value)), "ext/date/php_date.c", 2920);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_707
  case 108: {
    _zval_ptr_dtor((&(return_value)), "ext/date/php_date.c", 2985);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_708
  case 109: {
    _zval_ptr_dtor((&(return_value)), "ext/date/php_date.c", 3043);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_709
  case 110: {
    _zval_ptr_dtor((&(return_value)), "ext/date/php_date.c", 3066);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_710
  case 111: {
    _zval_ptr_dtor((&(return_value)), "ext/date/php_date.c", 3093);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_711
  case 112: {
    _zval_ptr_dtor((&(return_value)), "ext/date/php_date.c", 3114);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_712
  case 113: {
    _zval_ptr_dtor((&(this_ptr)),
                   "/root/project/prophet-gpl/build/php-case-2adf58/"
                   "php-2adf58-workdir/src/Zend/zend_execute.h",
                   144);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_713
  case 114: {
    _zval_ptr_dtor((&(this_ptr)), "ext/date/php_date.c", 2552);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_714
  case 115: {
    _zval_ptr_dtor((&(this_ptr)), "ext/date/php_date.c", 2830);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_715
  case 116: {
    _zval_ptr_dtor((&(this_ptr)), "ext/date/php_date.c", 2874);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_716
  case 117: {
    _zval_ptr_dtor((&(this_ptr)), "ext/date/php_date.c", 2920);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_717
  case 118: {
    _zval_ptr_dtor((&(this_ptr)), "ext/date/php_date.c", 2985);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_718
  case 119: {
    _zval_ptr_dtor((&(this_ptr)), "ext/date/php_date.c", 3043);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_719
  case 120: {
    _zval_ptr_dtor((&(this_ptr)), "ext/date/php_date.c", 3066);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_720
  case 121: {
    _zval_ptr_dtor((&(this_ptr)), "ext/date/php_date.c", 3093);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_721
  case 122: {
    _zval_ptr_dtor((&(this_ptr)), "ext/date/php_date.c", 3114);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_722
  case 123: {
    add_assoc_bool_ex((return_value), "astronomical_twilight_end",
                      strlen("astronomical_twilight_end") + 1, 0);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_723
  case 124: {
    add_assoc_bool_ex((return_value), "astronomical_twilight_end",
                      strlen("astronomical_twilight_end") + 1, 1);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_724
  case 125: {
    add_assoc_bool_ex((return_value), "civil_twilight_end",
                      strlen("civil_twilight_end") + 1, 0);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_725
  case 126: {
    add_assoc_bool_ex((return_value), "civil_twilight_end",
                      strlen("civil_twilight_end") + 1, 1);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_726
  case 127: {
    add_assoc_bool_ex((return_value), "day", strlen("day") + 1, 0);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_727
  case 128: {
    add_assoc_bool_ex((return_value), "fraction", strlen("fraction") + 1, 0);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_728
  case 129: {
    add_assoc_bool_ex((return_value), "hour", strlen("hour") + 1, 0);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_729
  case 130: {
    add_assoc_bool_ex((return_value), "minute", strlen("minute") + 1, 0);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_730
  case 131: {
    add_assoc_bool_ex((return_value), "month", strlen("month") + 1, 0);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_731
  case 132: {
    add_assoc_bool_ex((return_value), "nautical_twilight_end",
                      strlen("nautical_twilight_end") + 1, 0);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_732
  case 133: {
    add_assoc_bool_ex((return_value), "nautical_twilight_end",
                      strlen("nautical_twilight_end") + 1, 1);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_733
  case 134: {
    add_assoc_bool_ex((return_value), "second", strlen("second") + 1, 0);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_734
  case 135: {
    add_assoc_bool_ex((return_value), "sunset", strlen("sunset") + 1, 0);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_735
  case 136: {
    add_assoc_bool_ex((return_value), "sunset", strlen("sunset") + 1, 1);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_736
  case 137: {
    add_assoc_bool_ex((return_value), "year", strlen("year") + 1, 0);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_737
  case 138: {
    add_assoc_bool_ex((return_value), "zone", strlen("zone") + 1, 0);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_738
  case 139: {
    add_assoc_bool_ex((return_value), "zone_type", strlen("zone_type") + 1, 0);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_739
  case 140: {
    add_assoc_bool_ex((this_ptr), "astronomical_twilight_end",
                      strlen("astronomical_twilight_end") + 1, 0);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_740
  case 141: {
    add_assoc_bool_ex((this_ptr), "astronomical_twilight_end",
                      strlen("astronomical_twilight_end") + 1, 1);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_741
  case 142: {
    add_assoc_bool_ex((this_ptr), "civil_twilight_end",
                      strlen("civil_twilight_end") + 1, 0);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_742
  case 143: {
    add_assoc_bool_ex((this_ptr), "civil_twilight_end",
                      strlen("civil_twilight_end") + 1, 1);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_743
  case 144: {
    add_assoc_bool_ex((this_ptr), "day", strlen("day") + 1, 0);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_744
  case 145: {
    add_assoc_bool_ex((this_ptr), "fraction", strlen("fraction") + 1, 0);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_745
  case 146: {
    add_assoc_bool_ex((this_ptr), "hour", strlen("hour") + 1, 0);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_746
  case 147: {
    add_assoc_bool_ex((this_ptr), "minute", strlen("minute") + 1, 0);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_747
  case 148: {
    add_assoc_bool_ex((this_ptr), "month", strlen("month") + 1, 0);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_748
  case 149: {
    add_assoc_bool_ex((this_ptr), "nautical_twilight_end",
                      strlen("nautical_twilight_end") + 1, 0);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_749
  case 150: {
    add_assoc_bool_ex((this_ptr), "nautical_twilight_end",
                      strlen("nautical_twilight_end") + 1, 1);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_750
  case 151: {
    add_assoc_bool_ex((this_ptr), "second", strlen("second") + 1, 0);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_751
  case 152: {
    add_assoc_bool_ex((this_ptr), "sunset", strlen("sunset") + 1, 0);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_752
  case 153: {
    add_assoc_bool_ex((this_ptr), "sunset", strlen("sunset") + 1, 1);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_753
  case 154: {
    add_assoc_bool_ex((this_ptr), "year", strlen("year") + 1, 0);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_754
  case 155: {
    add_assoc_bool_ex((this_ptr), "zone", strlen("zone") + 1, 0);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_755
  case 156: {
    add_assoc_bool_ex((this_ptr), "zone_type", strlen("zone_type") + 1, 0);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_756
  case 157: {
    add_assoc_null_ex((return_value), "timezone_id", strlen("timezone_id") + 1);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_757
  case 158: {
    add_assoc_null_ex((this_ptr), "timezone_id", strlen("timezone_id") + 1);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_758
  case 159: {
    convert_to_boolean((return_value));
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_759
  case 160: {
    convert_to_boolean((this_ptr));
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_760
  case 161: {
    convert_to_long(*(return_value_ptr));
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_761
  case 162: {
    date_ce_period->get_iterator = date_object_period_get_iterator;
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_762
  case 163: {
    date_ce_period->iterator_funcs.funcs = &date_period_it_funcs;
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_763
  case 164: {
    date_object_handlers_date.clone_obj = date_object_clone_date;
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_764
  case 165: {
    date_object_handlers_date.compare_objects = date_object_compare_date;
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_765
  case 166: {
    date_object_handlers_date.get_properties = date_object_get_properties;
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_766
  case 167: {
    date_object_handlers_interval.clone_obj = date_object_clone_interval;
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_767
  case 168: {
    date_object_handlers_interval.get_properties =
        date_object_get_properties_interval;
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_768
  case 169: {
    date_object_handlers_interval.get_property_ptr_ptr = ((void *)0);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_769
  case 170: {
    date_object_handlers_interval.read_property = date_interval_read_property;
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_770
  case 171: {
    date_object_handlers_interval.write_property = date_interval_write_property;
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_771
  case 172: {
    date_object_handlers_period.clone_obj = date_object_clone_period;
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_772
  case 173: {
    date_object_handlers_timezone.clone_obj = date_object_clone_timezone;
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_773
  case 174: {
    date_register_classes();
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_774
  case 175: {
    exit(1);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_775
  case 176: {
    gc_remove_zval_from_buffer((return_value));
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_776
  case 177: {
    gc_remove_zval_from_buffer((this_ptr));
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_777
  case 178: {
    gc_zval_check_possible_root(((return_value)));
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_778
  case 179: {
    gc_zval_check_possible_root(((this_ptr)));
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_779
  case 180: {
    gc_zval_possible_root((return_value));
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_780
  case 181: {
    gc_zval_possible_root((this_ptr));
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_781
  case 182: {
    i_zval_ptr_dtor((return_value),
                    "/root/project/prophet-gpl/build/php-case-2adf58/"
                    "php-2adf58-workdir/src/Zend/zend_execute.h",
                    339);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_782
  case 183: {
    i_zval_ptr_dtor((this_ptr),
                    "/root/project/prophet-gpl/build/php-case-2adf58/"
                    "php-2adf58-workdir/src/Zend/zend_execute.h",
                    339);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_783
  case 184: {
    if (!(date_globals.tzcache)) {
      ((date_globals.tzcache)) = (HashTable *)_emalloc(
          (sizeof(HashTable)), "ext/date/php_date.c", 822, ((void *)0), 0);
      _zend_hash_init(((date_globals.tzcache)), (4), (((void *)0)),
                      (_php_date_tzinfo_dtor), (0), "ext/date/php_date.c", 823);
    }
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_784
  case 185: {
    if ((date_globals.last_errors)) {
      timelib_error_container_dtor((date_globals.last_errors));
      (date_globals.last_errors) = ((void *)0);
    }
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_785
  case 186: {
    if ((date_globals.last_errors)) {
      timelib_error_container_dtor((date_globals.last_errors));
    }
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_786
  case 187: {
    if ((date_globals.timezone) && (strlen((date_globals.timezone)) > 0)) {
      return (date_globals.timezone);
    }
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_787
  case 188: {
    if ((date_globals.timezone)) {
      _efree(((date_globals.timezone)), "ext/date/php_date.c", 3942,
             ((void *)0), 0);
      (date_globals.timezone) = ((void *)0);
    }
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_788
  case 189: {
    if ((date_globals.timezone)) {
      _efree(((date_globals.timezone)), "ext/date/php_date.c", 614, ((void *)0),
             0);
    }
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_789
  case 190: {
    if ((date_globals.timezone)) {
      _efree(((date_globals.timezone)), "ext/date/php_date.c", 628, ((void *)0),
             0);
    }
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_790
  case 191: {
    if ((date_globals.tzcache)) {
      zend_hash_destroy((date_globals.tzcache));
      _efree(((date_globals.tzcache)), "ext/date/php_date.c", 633, ((void *)0),
             0);
      (date_globals.tzcache) = ((void *)0);
    }
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_791
  case 192: {
    if ((ht) == 1) {
      ts = time(((void *)0));
    }
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_792
  case 193: {
    memcpy(&date_object_handlers_date, zend_get_std_object_handlers(),
           sizeof(zend_object_handlers));
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_793
  case 194: {
    memcpy(&date_object_handlers_interval, zend_get_std_object_handlers(),
           sizeof(zend_object_handlers));
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_794
  case 195: {
    memcpy(&date_object_handlers_period, zend_get_std_object_handlers(),
           sizeof(zend_object_handlers));
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_795
  case 196: {
    memcpy(&date_object_handlers_timezone, zend_get_std_object_handlers(),
           sizeof(zend_object_handlers));
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_796
  case 197: {
    php_date_global_timezone_db = ((void *)0);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_797
  case 198: {
    php_date_global_timezone_db_enabled = 0;
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_798
  case 199: {
    php_date_global_timezone_db_enabled = 1;
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_799
  case 200: {
    php_date_instantiate(date_ce_date, (return_value));
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_800
  case 201: {
    php_date_instantiate(date_ce_date, (this_ptr));
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_801
  case 202: {
    php_date_instantiate(date_ce_interval, (return_value));
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_802
  case 203: {
    php_date_instantiate(date_ce_interval, (this_ptr));
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_803
  case 204: {
    php_date_instantiate(date_ce_timezone, (return_value));
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_804
  case 205: {
    php_date_instantiate(date_ce_timezone, (this_ptr));
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_805
  case 206: {
    php_error_docref0(
        ((void *)0), (1 << 0L),
        "Timezone database is corrupt - this should *never* happen!");
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_806
  case 207: {
    php_error_docref0(((void *)0), (1 << 13L),
                      "The is_dst parameter is deprecated");
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_807
  case 208: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "Can only do this for zones with ID for now");
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_808
  case 209: {
    php_error_docref0(((void *)0), (1 << 1L), "Failed to parse interval (%s)",
                      (format));
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_809
  case 210: {
    php_error_docref0(((void *)0), (1 << 1L), "Failed to parse interval (%s)",
                      (string));
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_810
  case 211: {
    php_error_docref0(
        ((void *)0), (1 << 1L),
        "It is not safe to rely on the system's timezone settings. You are "
        "*required* to use the date.timezone setting or the "
        "date_default_timezone_set() function. In case you used any of those "
        "methods and you are still getting this warning, you most likely "
        "misspelled the timezone identifier. We had to select 'UTC' because "
        "your platform doesn't provide functionality for the guessing "
        "algorithm");
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_811
  case 212: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "Only non-special relative time specifications are "
                      "supported for subtraction");
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_812
  case 213: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The DateInterval object has not been correctly "
                      "initialized by its constructor");
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_813
  case 214: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The DateTime object has not been correctly initialized "
                      "by its constructor");
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_814
  case 215: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The DateTimeZone object has not been correctly "
                      "initialized by its constructor");
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_815
  case 216: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The ISO interval '%s' did not contain a start date.",
                      (format));
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_816
  case 217: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The ISO interval '%s' did not contain a start date.",
                      (string));
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_817
  case 218: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The ISO interval '%s' did not contain an end date or a "
                      "recurrence count.",
                      (format));
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_818
  case 219: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The ISO interval '%s' did not contain an end date or a "
                      "recurrence count.",
                      (string));
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_819
  case 220: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The ISO interval '%s' did not contain an interval.",
                      (format));
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_820
  case 221: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The ISO interval '%s' did not contain an interval.",
                      (string));
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_821
  case 222: {
    php_error_docref0(
        ((void *)0), (1 << 1L),
        "This constructor accepts either (DateTime, DateInterval, int) OR "
        "(DateTime, DateInterval, DateTime) OR (string) as arguments.");
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_822
  case 223: {
    php_error_docref0(((void *)0), (1 << 1L), "Unknown or bad format (%s)",
                      (format));
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_823
  case 224: {
    php_error_docref0(((void *)0), (1 << 1L), "Unknown or bad format (%s)",
                      (string));
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_824
  case 225: {
    php_error_docref0(((void *)0), (1 << 1L), "Unknown or bad timezone (%s)",
                      (format));
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_825
  case 226: {
    php_error_docref0(((void *)0), (1 << 1L), "Unknown or bad timezone (%s)",
                      (string));
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_826
  case 227: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "Unrecognized date format token.");
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_827
  case 228: {
    php_error_docref0(
        ((void *)0), (1 << 1L),
        "Wrong return format given, pick one of SUNFUNCS_RET_TIMESTAMP, "
        "SUNFUNCS_RET_STRING or SUNFUNCS_RET_DOUBLE");
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_828
  case 229: {
    php_error_docref0(((void *)0), (1 << 1L), "idate format is one char");
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_829
  case 230: {
    php_error_docref0(
        ((void *)0), (1 << 3L),
        "A two-letter ISO 3166-1 compatible country code is expected");
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_830
  case 231: {
    php_error_docref0(((void *)0), (1 << 3L), "Timezone ID '%s' is invalid",
                      (format));
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_831
  case 232: {
    php_error_docref0(((void *)0), (1 << 3L), "Timezone ID '%s' is invalid",
                      (string));
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_832
  case 233: {
    php_info_print_table_end();
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_833
  case 234: {
    php_info_print_table_row(2, "Timezone Database",
                             php_date_global_timezone_db_enabled ? "external"
                                                                 : "internal");
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_834
  case 235: {
    php_info_print_table_row(2, "date/time support", "enabled");
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_835
  case 236: {
    php_info_print_table_start();
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_836
  case 237: {
    string = php_format_date((format), format_len, ts, localtime);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_837
  case 238: {
    string = php_format_date((string), format_len, ts, localtime);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_838
  case 239: {
    string = php_format_date(format, format_len, ts, localtime);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_839
  case 240: {
    timelib_error_container_dtor((date_globals.last_errors));
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_840
  case 241: {
    ts = time(((void *)0));
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_841
  case 242: {
    zend_class_implements(date_ce_period, 1, zend_ce_traversable);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_842
  case 243: {
    zend_declare_class_constant_long(date_ce_period, "EXCLUDE_START_DATE",
                                     sizeof("EXCLUDE_START_DATE") - 1, 1);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_843
  case 244: {
    zend_declare_class_constant_long(date_ce_timezone, "AFRICA",
                                     sizeof("AFRICA") - 1, 1);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_844
  case 245: {
    zend_declare_class_constant_long(date_ce_timezone, "ALL", sizeof("ALL") - 1,
                                     2047);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_845
  case 246: {
    zend_declare_class_constant_long(date_ce_timezone, "ALL_WITH_BC",
                                     sizeof("ALL_WITH_BC") - 1, 4095);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_846
  case 247: {
    zend_declare_class_constant_long(date_ce_timezone, "AMERICA",
                                     sizeof("AMERICA") - 1, 2);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_847
  case 248: {
    zend_declare_class_constant_long(date_ce_timezone, "ANTARCTICA",
                                     sizeof("ANTARCTICA") - 1, 4);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_848
  case 249: {
    zend_declare_class_constant_long(date_ce_timezone, "ARCTIC",
                                     sizeof("ARCTIC") - 1, 8);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_849
  case 250: {
    zend_declare_class_constant_long(date_ce_timezone, "ASIA",
                                     sizeof("ASIA") - 1, 16);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_850
  case 251: {
    zend_declare_class_constant_long(date_ce_timezone, "ATLANTIC",
                                     sizeof("ATLANTIC") - 1, 32);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_851
  case 252: {
    zend_declare_class_constant_long(date_ce_timezone, "AUSTRALIA",
                                     sizeof("AUSTRALIA") - 1, 64);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_852
  case 253: {
    zend_declare_class_constant_long(date_ce_timezone, "EUROPE",
                                     sizeof("EUROPE") - 1, 128);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_853
  case 254: {
    zend_declare_class_constant_long(date_ce_timezone, "INDIAN",
                                     sizeof("INDIAN") - 1, 256);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_854
  case 255: {
    zend_declare_class_constant_long(date_ce_timezone, "PACIFIC",
                                     sizeof("PACIFIC") - 1, 512);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_855
  case 256: {
    zend_declare_class_constant_long(date_ce_timezone, "PER_COUNTRY",
                                     sizeof("PER_COUNTRY") - 1, 4096);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_856
  case 257: {
    zend_declare_class_constant_long(date_ce_timezone, "UTC", sizeof("UTC") - 1,
                                     1024);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_857
  case 258: {
    zend_declare_class_constant_stringl(date_ce_date, "ATOM",
                                        sizeof("ATOM") - 1, "Y-m-d\\TH:i:sP",
                                        sizeof("Y-m-d\\TH:i:sP") - 1);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_858
  case 259: {
    zend_declare_class_constant_stringl(
        date_ce_date, "COOKIE", sizeof("COOKIE") - 1, "l, d-M-y H:i:s T",
        sizeof("l, d-M-y H:i:s T") - 1);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_859
  case 260: {
    zend_declare_class_constant_stringl(date_ce_date, "ISO8601",
                                        sizeof("ISO8601") - 1, "Y-m-d\\TH:i:sO",
                                        sizeof("Y-m-d\\TH:i:sO") - 1);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_860
  case 261: {
    zend_declare_class_constant_stringl(
        date_ce_date, "RFC1036", sizeof("RFC1036") - 1, "D, d M y H:i:s O",
        sizeof("D, d M y H:i:s O") - 1);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_861
  case 262: {
    zend_declare_class_constant_stringl(
        date_ce_date, "RFC1123", sizeof("RFC1123") - 1, "D, d M Y H:i:s O",
        sizeof("D, d M Y H:i:s O") - 1);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_862
  case 263: {
    zend_declare_class_constant_stringl(
        date_ce_date, "RFC2822", sizeof("RFC2822") - 1, "D, d M Y H:i:s O",
        sizeof("D, d M Y H:i:s O") - 1);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_863
  case 264: {
    zend_declare_class_constant_stringl(date_ce_date, "RFC3339",
                                        sizeof("RFC3339") - 1, "Y-m-d\\TH:i:sP",
                                        sizeof("Y-m-d\\TH:i:sP") - 1);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_864
  case 265: {
    zend_declare_class_constant_stringl(
        date_ce_date, "RFC822", sizeof("RFC822") - 1, "D, d M y H:i:s O",
        sizeof("D, d M y H:i:s O") - 1);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_865
  case 266: {
    zend_declare_class_constant_stringl(
        date_ce_date, "RFC850", sizeof("RFC850") - 1, "l, d-M-y H:i:s T",
        sizeof("l, d-M-y H:i:s T") - 1);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_866
  case 267: {
    zend_declare_class_constant_stringl(date_ce_date, "RSS", sizeof("RSS") - 1,
                                        "D, d M Y H:i:s O",
                                        sizeof("D, d M Y H:i:s O") - 1);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_867
  case 268: {
    zend_declare_class_constant_stringl(date_ce_date, "W3C", sizeof("W3C") - 1,
                                        "Y-m-d\\TH:i:sP",
                                        sizeof("Y-m-d\\TH:i:sP") - 1);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_868
  case 269: {
    zend_error((1 << 0L),
               "An iterator cannot be used with foreach by reference");
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_869
  case 270: {
    zend_error((1 << 3L), "A non well formed numeric value encountered");
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_870
  case 271: {
    zend_hash_destroy((date_globals.tzcache));
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_871
  case 272: {
    zval_addref_p((return_value));
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_872
  case 273: {
    zval_addref_p((this_ptr));
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_873
  case 274: {
    zval_from_error_container((return_value), (date_globals.last_errors));
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_874
  case 275: {
    zval_from_error_container((this_ptr), (date_globals.last_errors));
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_875
  case 276: {
    zval_set_refcount_p((return_value), 0);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_876
  case 277: {
    zval_set_refcount_p((return_value), 1);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_877
  case 278: {
    zval_set_refcount_p((this_ptr), 0);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_878
  case 279: {
    zval_set_refcount_p((this_ptr), 1);
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_879
  case 280: {
    zval_unset_isref_p((return_value));
    RETVAL_STRING(string, 0);

    break;
  }
#endif
#ifdef COMPILE_880
  case 281: {
    zval_unset_isref_p((this_ptr));
    RETVAL_STRING(string, 0);

    break;
  }
#endif
  }
}
/* }}} */

PHPAPI char *php_format_date(char *format, int format_len, time_t ts,
                             int localtime TSRMLS_DC) /* {{{ */
{
  timelib_time *t;
  timelib_tzinfo *tzi;
  char *string;

  // prophet generated patch
  switch (__choose("__ID5")) {
  case 0: {
    t = timelib_time_ctor();

    break;
  }
#ifdef COMPILE_881
  case 1: {
    ((date_globals.tzcache)) = (HashTable *)_emalloc(
        (sizeof(HashTable)), "ext/date/php_date.c", 822, ((void *)0), 0);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_882
  case 2: {
    (date_globals.last_errors) = ((void *)0);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_883
  case 3: {
    (date_globals.timezone) = ((void *)0);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_884
  case 4: {
    (date_globals.timezone) = _estrndup(
        (zone), (zone_len), "ext/date/php_date.c", 3945, ((void *)0), 0);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_885
  case 5: {
    (date_globals.tzcache) = ((void *)0);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_886
  case 6: {
    (executor_globals.argument_stack) =
        zend_vm_stack_new_page(((16 * 1024) - 16));
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_887
  case 7: {
    (format) = date_format(format, format_len, t, localtime);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_888
  case 8: {
    (format)++;
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_889
  case 9: {
    (string) = date_format(format, format_len, t, localtime);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_890
  case 10: {
    (string)++;
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_891
  case 11: {
    (t) = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_892
  case 12: {
    (t) = timelib_time_ctor();
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_893
  case 13: {
    (t)->tz_info = tzi;
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_894
  case 14: {
    (t)->zone_type = 3;
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_895
  case 15: {
    (tzi) = ((void *)0);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_896
  case 16: {
    (tzi) = get_timezone_info();
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_897
  case 17: {
    _efree(((date_globals.timezone)), "ext/date/php_date.c", 3942, ((void *)0),
           0);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_898
  case 18: {
    _efree(((date_globals.timezone)), "ext/date/php_date.c", 614, ((void *)0),
           0);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_899
  case 19: {
    _efree(((date_globals.timezone)), "ext/date/php_date.c", 628, ((void *)0),
           0);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_900
  case 20: {
    _efree(((date_globals.tzcache)), "ext/date/php_date.c", 633, ((void *)0),
           0);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_901
  case 21: {
    _efree(((format)), "ext/date/php_date.c", 1413, ((void *)0), 0);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_902
  case 22: {
    _efree(((format)), "ext/date/php_date.c", 1654, ((void *)0), 0);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_903
  case 23: {
    _efree(((format)), "ext/date/php_date.c", 2536, ((void *)0), 0);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_904
  case 24: {
    _efree(((string)), "ext/date/php_date.c", 1413, ((void *)0), 0);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_905
  case 25: {
    _efree(((string)), "ext/date/php_date.c", 1654, ((void *)0), 0);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_906
  case 26: {
    _efree(((string)), "ext/date/php_date.c", 2536, ((void *)0), 0);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_907
  case 27: {
    _zend_hash_init(((date_globals.tzcache)), (4), (((void *)0)),
                    (_php_date_tzinfo_dtor), (0), "ext/date/php_date.c", 823);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_908
  case 28: {
    date_ce_period->get_iterator = date_object_period_get_iterator;
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_909
  case 29: {
    date_ce_period->iterator_funcs.funcs = &date_period_it_funcs;
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_910
  case 30: {
    date_object_handlers_date.clone_obj = date_object_clone_date;
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_911
  case 31: {
    date_object_handlers_date.compare_objects = date_object_compare_date;
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_912
  case 32: {
    date_object_handlers_date.get_properties = date_object_get_properties;
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_913
  case 33: {
    date_object_handlers_interval.clone_obj = date_object_clone_interval;
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_914
  case 34: {
    date_object_handlers_interval.get_properties =
        date_object_get_properties_interval;
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_915
  case 35: {
    date_object_handlers_interval.get_property_ptr_ptr = ((void *)0);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_916
  case 36: {
    date_object_handlers_interval.read_property = date_interval_read_property;
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_917
  case 37: {
    date_object_handlers_interval.write_property = date_interval_write_property;
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_918
  case 38: {
    date_object_handlers_period.clone_obj = date_object_clone_period;
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_919
  case 39: {
    date_object_handlers_timezone.clone_obj = date_object_clone_timezone;
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_920
  case 40: {
    date_register_classes();
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_921
  case 41: {
    exit(1);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_922
  case 42: {
    if (!(date_globals.tzcache)) {
      ((date_globals.tzcache)) = (HashTable *)_emalloc(
          (sizeof(HashTable)), "ext/date/php_date.c", 822, ((void *)0), 0);
      _zend_hash_init(((date_globals.tzcache)), (4), (((void *)0)),
                      (_php_date_tzinfo_dtor), (0), "ext/date/php_date.c", 823);
    }
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_923
  case 43: {
    if ((date_globals.last_errors)) {
      timelib_error_container_dtor((date_globals.last_errors));
      (date_globals.last_errors) = ((void *)0);
    }
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_924
  case 44: {
    if ((date_globals.last_errors)) {
      timelib_error_container_dtor((date_globals.last_errors));
    }
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_925
  case 45: {
    if ((date_globals.timezone) && (strlen((date_globals.timezone)) > 0)) {
      return (date_globals.timezone);
    }
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_926
  case 46: {
    if ((date_globals.timezone)) {
      _efree(((date_globals.timezone)), "ext/date/php_date.c", 3942,
             ((void *)0), 0);
      (date_globals.timezone) = ((void *)0);
    }
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_927
  case 47: {
    if ((date_globals.timezone)) {
      _efree(((date_globals.timezone)), "ext/date/php_date.c", 614, ((void *)0),
             0);
    }
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_928
  case 48: {
    if ((date_globals.timezone)) {
      _efree(((date_globals.timezone)), "ext/date/php_date.c", 628, ((void *)0),
             0);
    }
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_929
  case 49: {
    if ((date_globals.tzcache)) {
      zend_hash_destroy((date_globals.tzcache));
      _efree(((date_globals.tzcache)), "ext/date/php_date.c", 633, ((void *)0),
             0);
      (date_globals.tzcache) = ((void *)0);
    }
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_930
  case 50: {
    if (localtime) {
      tzi = get_timezone_info();
      t->tz_info = tzi;
      t->zone_type = 3;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = ((void *)0);
      timelib_unixtime2gmt(t, ts);
    }
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_931
  case 51: {
    memcpy(&date_object_handlers_date, zend_get_std_object_handlers(),
           sizeof(zend_object_handlers));
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_932
  case 52: {
    memcpy(&date_object_handlers_interval, zend_get_std_object_handlers(),
           sizeof(zend_object_handlers));
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_933
  case 53: {
    memcpy(&date_object_handlers_period, zend_get_std_object_handlers(),
           sizeof(zend_object_handlers));
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_934
  case 54: {
    memcpy(&date_object_handlers_timezone, zend_get_std_object_handlers(),
           sizeof(zend_object_handlers));
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_935
  case 55: {
    memset(t, 0, sizeof(*(t)));
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_936
  case 56: {
    php_date_global_timezone_db = ((void *)0);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_937
  case 57: {
    php_date_global_timezone_db_enabled = 0;
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_938
  case 58: {
    php_date_global_timezone_db_enabled = 1;
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_939
  case 59: {
    php_error_docref0(
        ((void *)0), (1 << 0L),
        "Timezone database is corrupt - this should *never* happen!");
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_940
  case 60: {
    php_error_docref0(((void *)0), (1 << 13L),
                      "The is_dst parameter is deprecated");
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_941
  case 61: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "Can only do this for zones with ID for now");
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_942
  case 62: {
    php_error_docref0(((void *)0), (1 << 1L), "Failed to parse interval (%s)",
                      (format));
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_943
  case 63: {
    php_error_docref0(((void *)0), (1 << 1L), "Failed to parse interval (%s)",
                      (string));
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_944
  case 64: {
    php_error_docref0(
        ((void *)0), (1 << 1L),
        "It is not safe to rely on the system's timezone settings. You are "
        "*required* to use the date.timezone setting or the "
        "date_default_timezone_set() function. In case you used any of those "
        "methods and you are still getting this warning, you most likely "
        "misspelled the timezone identifier. We had to select 'UTC' because "
        "your platform doesn't provide functionality for the guessing "
        "algorithm");
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_945
  case 65: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "Only non-special relative time specifications are "
                      "supported for subtraction");
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_946
  case 66: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The DateInterval object has not been correctly "
                      "initialized by its constructor");
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_947
  case 67: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The DateTime object has not been correctly initialized "
                      "by its constructor");
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_948
  case 68: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The DateTimeZone object has not been correctly "
                      "initialized by its constructor");
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_949
  case 69: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The ISO interval '%s' did not contain a start date.",
                      (format));
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_950
  case 70: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The ISO interval '%s' did not contain a start date.",
                      (string));
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_951
  case 71: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The ISO interval '%s' did not contain an end date or a "
                      "recurrence count.",
                      (format));
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_952
  case 72: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The ISO interval '%s' did not contain an end date or a "
                      "recurrence count.",
                      (string));
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_953
  case 73: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The ISO interval '%s' did not contain an interval.",
                      (format));
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_954
  case 74: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The ISO interval '%s' did not contain an interval.",
                      (string));
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_955
  case 75: {
    php_error_docref0(
        ((void *)0), (1 << 1L),
        "This constructor accepts either (DateTime, DateInterval, int) OR "
        "(DateTime, DateInterval, DateTime) OR (string) as arguments.");
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_956
  case 76: {
    php_error_docref0(((void *)0), (1 << 1L), "Unknown or bad format (%s)",
                      (format));
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_957
  case 77: {
    php_error_docref0(((void *)0), (1 << 1L), "Unknown or bad format (%s)",
                      (string));
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_958
  case 78: {
    php_error_docref0(((void *)0), (1 << 1L), "Unknown or bad timezone (%s)",
                      (format));
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_959
  case 79: {
    php_error_docref0(((void *)0), (1 << 1L), "Unknown or bad timezone (%s)",
                      (string));
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_960
  case 80: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "Unrecognized date format token.");
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_961
  case 81: {
    php_error_docref0(
        ((void *)0), (1 << 1L),
        "Wrong return format given, pick one of SUNFUNCS_RET_TIMESTAMP, "
        "SUNFUNCS_RET_STRING or SUNFUNCS_RET_DOUBLE");
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_962
  case 82: {
    php_error_docref0(((void *)0), (1 << 1L), "idate format is one char");
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_963
  case 83: {
    php_error_docref0(
        ((void *)0), (1 << 3L),
        "A two-letter ISO 3166-1 compatible country code is expected");
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_964
  case 84: {
    php_error_docref0(((void *)0), (1 << 3L), "Timezone ID '%s' is invalid",
                      (format));
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_965
  case 85: {
    php_error_docref0(((void *)0), (1 << 3L), "Timezone ID '%s' is invalid",
                      (string));
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_966
  case 86: {
    php_info_print_table_end();
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_967
  case 87: {
    php_info_print_table_row(2, "Timezone Database",
                             php_date_global_timezone_db_enabled ? "external"
                                                                 : "internal");
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_968
  case 88: {
    php_info_print_table_row(2, "date/time support", "enabled");
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_969
  case 89: {
    php_info_print_table_start();
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_970
  case 90: {
    string = date_format((format), format_len, t, localtime);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_971
  case 91: {
    string = date_format((string), format_len, t, localtime);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_972
  case 92: {
    string = date_format(format, format_len, (t), localtime);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_973
  case 93: {
    string = date_format(format, format_len, t, localtime);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_974
  case 94: {
    t = timelib_time_ctor();
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_975
  case 95: {
    t->tz_info = (tzi);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_976
  case 96: {
    t->tz_info = tzi;
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_977
  case 97: {
    t->zone_type = 3;
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_978
  case 98: {
    timelib_error_container_dtor((date_globals.last_errors));
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_979
  case 99: {
    timelib_time_dtor((t));
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_980
  case 100: {
    timelib_time_dtor(t);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_981
  case 101: {
    timelib_unixtime2gmt((t), (timelib_sll)time(((void *)0)));
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_982
  case 102: {
    timelib_unixtime2gmt((t), ts);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_983
  case 103: {
    timelib_unixtime2gmt(t, ts);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_984
  case 104: {
    timelib_unixtime2local((t), (timelib_sll)time(((void *)0)));
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_985
  case 105: {
    timelib_unixtime2local((t), ts);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_986
  case 106: {
    timelib_unixtime2local(t, ts);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_987
  case 107: {
    timelib_update_from_sse((t));
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_988
  case 108: {
    timelib_update_ts((t), ((void *)0));
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_989
  case 109: {
    tzi = ((void *)0);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_990
  case 110: {
    tzi = get_timezone_info();
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_991
  case 111: {
    zend_class_implements(date_ce_period, 1, zend_ce_traversable);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_992
  case 112: {
    zend_declare_class_constant_long(date_ce_period, "EXCLUDE_START_DATE",
                                     sizeof("EXCLUDE_START_DATE") - 1, 1);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_993
  case 113: {
    zend_declare_class_constant_long(date_ce_timezone, "AFRICA",
                                     sizeof("AFRICA") - 1, 1);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_994
  case 114: {
    zend_declare_class_constant_long(date_ce_timezone, "ALL", sizeof("ALL") - 1,
                                     2047);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_995
  case 115: {
    zend_declare_class_constant_long(date_ce_timezone, "ALL_WITH_BC",
                                     sizeof("ALL_WITH_BC") - 1, 4095);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_996
  case 116: {
    zend_declare_class_constant_long(date_ce_timezone, "AMERICA",
                                     sizeof("AMERICA") - 1, 2);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_997
  case 117: {
    zend_declare_class_constant_long(date_ce_timezone, "ANTARCTICA",
                                     sizeof("ANTARCTICA") - 1, 4);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_998
  case 118: {
    zend_declare_class_constant_long(date_ce_timezone, "ARCTIC",
                                     sizeof("ARCTIC") - 1, 8);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_999
  case 119: {
    zend_declare_class_constant_long(date_ce_timezone, "ASIA",
                                     sizeof("ASIA") - 1, 16);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1000
  case 120: {
    zend_declare_class_constant_long(date_ce_timezone, "ATLANTIC",
                                     sizeof("ATLANTIC") - 1, 32);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1001
  case 121: {
    zend_declare_class_constant_long(date_ce_timezone, "AUSTRALIA",
                                     sizeof("AUSTRALIA") - 1, 64);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1002
  case 122: {
    zend_declare_class_constant_long(date_ce_timezone, "EUROPE",
                                     sizeof("EUROPE") - 1, 128);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1003
  case 123: {
    zend_declare_class_constant_long(date_ce_timezone, "INDIAN",
                                     sizeof("INDIAN") - 1, 256);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1004
  case 124: {
    zend_declare_class_constant_long(date_ce_timezone, "PACIFIC",
                                     sizeof("PACIFIC") - 1, 512);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1005
  case 125: {
    zend_declare_class_constant_long(date_ce_timezone, "PER_COUNTRY",
                                     sizeof("PER_COUNTRY") - 1, 4096);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1006
  case 126: {
    zend_declare_class_constant_long(date_ce_timezone, "UTC", sizeof("UTC") - 1,
                                     1024);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1007
  case 127: {
    zend_declare_class_constant_stringl(date_ce_date, "ATOM",
                                        sizeof("ATOM") - 1, "Y-m-d\\TH:i:sP",
                                        sizeof("Y-m-d\\TH:i:sP") - 1);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1008
  case 128: {
    zend_declare_class_constant_stringl(
        date_ce_date, "COOKIE", sizeof("COOKIE") - 1, "l, d-M-y H:i:s T",
        sizeof("l, d-M-y H:i:s T") - 1);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1009
  case 129: {
    zend_declare_class_constant_stringl(date_ce_date, "ISO8601",
                                        sizeof("ISO8601") - 1, "Y-m-d\\TH:i:sO",
                                        sizeof("Y-m-d\\TH:i:sO") - 1);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1010
  case 130: {
    zend_declare_class_constant_stringl(
        date_ce_date, "RFC1036", sizeof("RFC1036") - 1, "D, d M y H:i:s O",
        sizeof("D, d M y H:i:s O") - 1);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1011
  case 131: {
    zend_declare_class_constant_stringl(
        date_ce_date, "RFC1123", sizeof("RFC1123") - 1, "D, d M Y H:i:s O",
        sizeof("D, d M Y H:i:s O") - 1);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1012
  case 132: {
    zend_declare_class_constant_stringl(
        date_ce_date, "RFC2822", sizeof("RFC2822") - 1, "D, d M Y H:i:s O",
        sizeof("D, d M Y H:i:s O") - 1);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1013
  case 133: {
    zend_declare_class_constant_stringl(date_ce_date, "RFC3339",
                                        sizeof("RFC3339") - 1, "Y-m-d\\TH:i:sP",
                                        sizeof("Y-m-d\\TH:i:sP") - 1);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1014
  case 134: {
    zend_declare_class_constant_stringl(
        date_ce_date, "RFC822", sizeof("RFC822") - 1, "D, d M y H:i:s O",
        sizeof("D, d M y H:i:s O") - 1);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1015
  case 135: {
    zend_declare_class_constant_stringl(
        date_ce_date, "RFC850", sizeof("RFC850") - 1, "l, d-M-y H:i:s T",
        sizeof("l, d-M-y H:i:s T") - 1);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1016
  case 136: {
    zend_declare_class_constant_stringl(date_ce_date, "RSS", sizeof("RSS") - 1,
                                        "D, d M Y H:i:s O",
                                        sizeof("D, d M Y H:i:s O") - 1);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1017
  case 137: {
    zend_declare_class_constant_stringl(date_ce_date, "W3C", sizeof("W3C") - 1,
                                        "Y-m-d\\TH:i:sP",
                                        sizeof("Y-m-d\\TH:i:sP") - 1);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1018
  case 138: {
    zend_error((1 << 0L),
               "An iterator cannot be used with foreach by reference");
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1019
  case 139: {
    zend_error((1 << 3L), "A non well formed numeric value encountered");
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1020
  case 140: {
    zend_hash_destroy((date_globals.tzcache));
    t = timelib_time_ctor();

    break;
  }
#endif
  }

  // prophet generated patch
  switch (__choose("__ID6")) {
  case 0: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#ifdef COMPILE_1021
  case 1: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1022
  case 2: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      ((date_globals.tzcache)) = (HashTable *)_emalloc(
          (sizeof(HashTable)), "ext/date/php_date.c", 822, ((void *)0), 0);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1023
  case 3: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      (date_globals.last_errors) = ((void *)0);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1024
  case 4: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      (date_globals.timezone) = ((void *)0);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1025
  case 5: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      (date_globals.timezone) = _estrndup(
          (zone), (zone_len), "ext/date/php_date.c", 3945, ((void *)0), 0);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1026
  case 6: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      (date_globals.tzcache) = ((void *)0);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1027
  case 7: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      (executor_globals.argument_stack) =
          zend_vm_stack_new_page(((16 * 1024) - 16));
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1028
  case 8: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      (format) = date_format(format, format_len, t, localtime);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1029
  case 9: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      (format)++;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1030
  case 10: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      (string) = date_format(format, format_len, t, localtime);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1031
  case 11: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      (string)++;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1032
  case 12: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      (t) = timelib_time_ctor();
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1033
  case 13: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      (t)->tz_info = tzi;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1034
  case 14: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      (t)->zone_type = 3;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1035
  case 15: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      (tzi) = ((void *)0);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1036
  case 16: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      (tzi) = get_timezone_info();
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1037
  case 17: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      Debug(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1038
  case 18: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      _efree(((date_globals.timezone)), "ext/date/php_date.c", 3942,
             ((void *)0), 0);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1039
  case 19: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      _efree(((date_globals.timezone)), "ext/date/php_date.c", 614, ((void *)0),
             0);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1040
  case 20: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      _efree(((date_globals.timezone)), "ext/date/php_date.c", 628, ((void *)0),
             0);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1041
  case 21: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      _efree(((date_globals.tzcache)), "ext/date/php_date.c", 633, ((void *)0),
             0);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1042
  case 22: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      _efree(((format)), "ext/date/php_date.c", 1413, ((void *)0), 0);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1043
  case 23: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      _efree(((format)), "ext/date/php_date.c", 1654, ((void *)0), 0);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1044
  case 24: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      _efree(((format)), "ext/date/php_date.c", 2536, ((void *)0), 0);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1045
  case 25: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      _efree(((string)), "ext/date/php_date.c", 1413, ((void *)0), 0);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1046
  case 26: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      _efree(((string)), "ext/date/php_date.c", 1654, ((void *)0), 0);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1047
  case 27: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      _efree(((string)), "ext/date/php_date.c", 2536, ((void *)0), 0);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1048
  case 28: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      _zend_hash_init(((date_globals.tzcache)), (4), (((void *)0)),
                      (_php_date_tzinfo_dtor), (0), "ext/date/php_date.c", 823);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1049
  case 29: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      date_ce_period->get_iterator = date_object_period_get_iterator;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1050
  case 30: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      date_ce_period->iterator_funcs.funcs = &date_period_it_funcs;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1051
  case 31: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      date_object_handlers_date.clone_obj = date_object_clone_date;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1052
  case 32: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      date_object_handlers_date.compare_objects = date_object_compare_date;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1053
  case 33: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      date_object_handlers_date.get_properties = date_object_get_properties;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1054
  case 34: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      date_object_handlers_interval.clone_obj = date_object_clone_interval;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1055
  case 35: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      date_object_handlers_interval.get_properties =
          date_object_get_properties_interval;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1056
  case 36: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      date_object_handlers_interval.get_property_ptr_ptr = ((void *)0);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1057
  case 37: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      date_object_handlers_interval.read_property = date_interval_read_property;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1058
  case 38: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      date_object_handlers_interval.write_property =
          date_interval_write_property;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1059
  case 39: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      date_object_handlers_period.clone_obj = date_object_clone_period;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1060
  case 40: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      date_object_handlers_timezone.clone_obj = date_object_clone_timezone;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1061
  case 41: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      date_register_classes();
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1062
  case 42: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      exit(1);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1063
  case 43: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      if (!(date_globals.tzcache)) {
        ((date_globals.tzcache)) = (HashTable *)_emalloc(
            (sizeof(HashTable)), "ext/date/php_date.c", 822, ((void *)0), 0);
        _zend_hash_init(((date_globals.tzcache)), (4), (((void *)0)),
                        (_php_date_tzinfo_dtor), (0), "ext/date/php_date.c",
                        823);
      }
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1064
  case 44: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      if ((date_globals.last_errors)) {
        timelib_error_container_dtor((date_globals.last_errors));
        (date_globals.last_errors) = ((void *)0);
      }
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1065
  case 45: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      if ((date_globals.last_errors)) {
        timelib_error_container_dtor((date_globals.last_errors));
      }
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1066
  case 46: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      if ((date_globals.timezone) && (strlen((date_globals.timezone)) > 0)) {
        return (date_globals.timezone);
      }
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1067
  case 47: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      if ((date_globals.timezone)) {
        _efree(((date_globals.timezone)), "ext/date/php_date.c", 3942,
               ((void *)0), 0);
        (date_globals.timezone) = ((void *)0);
      }
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1068
  case 48: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      if ((date_globals.timezone)) {
        _efree(((date_globals.timezone)), "ext/date/php_date.c", 614,
               ((void *)0), 0);
      }
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1069
  case 49: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      if ((date_globals.timezone)) {
        _efree(((date_globals.timezone)), "ext/date/php_date.c", 628,
               ((void *)0), 0);
      }
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1070
  case 50: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      if ((date_globals.tzcache)) {
        zend_hash_destroy((date_globals.tzcache));
        _efree(((date_globals.tzcache)), "ext/date/php_date.c", 633,
               ((void *)0), 0);
        (date_globals.tzcache) = ((void *)0);
      }
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1071
  case 51: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      if (localtime) {
        tzi = get_timezone_info();
        t->tz_info = tzi;
        t->zone_type = 3;
        timelib_unixtime2local(t, ts);
      } else {
        tzi = ((void *)0);
        timelib_unixtime2gmt(t, ts);
      }
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1072
  case 52: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      memcpy(&date_object_handlers_date, zend_get_std_object_handlers(),
             sizeof(zend_object_handlers));
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1073
  case 53: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      memcpy(&date_object_handlers_interval, zend_get_std_object_handlers(),
             sizeof(zend_object_handlers));
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1074
  case 54: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      memcpy(&date_object_handlers_period, zend_get_std_object_handlers(),
             sizeof(zend_object_handlers));
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1075
  case 55: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      memcpy(&date_object_handlers_timezone, zend_get_std_object_handlers(),
             sizeof(zend_object_handlers));
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1076
  case 56: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      memset(t, 0, sizeof(*(t)));
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1077
  case 57: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      php_date_global_timezone_db = ((void *)0);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1078
  case 58: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      php_date_global_timezone_db_enabled = 0;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1079
  case 59: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      php_date_global_timezone_db_enabled = 1;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1080
  case 60: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      php_error_docref0(
          ((void *)0), (1 << 0L),
          "Timezone database is corrupt - this should *never* happen!");
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1081
  case 61: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      php_error_docref0(((void *)0), (1 << 13L),
                        "The is_dst parameter is deprecated");
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1082
  case 62: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      php_error_docref0(((void *)0), (1 << 1L),
                        "Can only do this for zones with ID for now");
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1083
  case 63: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      php_error_docref0(((void *)0), (1 << 1L), "Failed to parse interval (%s)",
                        (format));
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1084
  case 64: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      php_error_docref0(((void *)0), (1 << 1L), "Failed to parse interval (%s)",
                        (string));
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1085
  case 65: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      php_error_docref0(
          ((void *)0), (1 << 1L),
          "It is not safe to rely on the system's timezone settings. You are "
          "*required* to use the date.timezone setting or the "
          "date_default_timezone_set() function. In case you used any of those "
          "methods and you are still getting this warning, you most likely "
          "misspelled the timezone identifier. We had to select 'UTC' because "
          "your platform doesn't provide functionality for the guessing "
          "algorithm");
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1086
  case 66: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      php_error_docref0(((void *)0), (1 << 1L),
                        "Only non-special relative time specifications are "
                        "supported for subtraction");
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1087
  case 67: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      php_error_docref0(((void *)0), (1 << 1L),
                        "The DateInterval object has not been correctly "
                        "initialized by its constructor");
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1088
  case 68: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      php_error_docref0(((void *)0), (1 << 1L),
                        "The DateTime object has not been correctly "
                        "initialized by its constructor");
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1089
  case 69: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      php_error_docref0(((void *)0), (1 << 1L),
                        "The DateTimeZone object has not been correctly "
                        "initialized by its constructor");
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1090
  case 70: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      php_error_docref0(((void *)0), (1 << 1L),
                        "The ISO interval '%s' did not contain a start date.",
                        (format));
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1091
  case 71: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      php_error_docref0(((void *)0), (1 << 1L),
                        "The ISO interval '%s' did not contain a start date.",
                        (string));
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1092
  case 72: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      php_error_docref0(((void *)0), (1 << 1L),
                        "The ISO interval '%s' did not contain an end date or "
                        "a recurrence count.",
                        (format));
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1093
  case 73: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      php_error_docref0(((void *)0), (1 << 1L),
                        "The ISO interval '%s' did not contain an end date or "
                        "a recurrence count.",
                        (string));
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1094
  case 74: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      php_error_docref0(((void *)0), (1 << 1L),
                        "The ISO interval '%s' did not contain an interval.",
                        (format));
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1095
  case 75: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      php_error_docref0(((void *)0), (1 << 1L),
                        "The ISO interval '%s' did not contain an interval.",
                        (string));
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1096
  case 76: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      php_error_docref0(
          ((void *)0), (1 << 1L),
          "This constructor accepts either (DateTime, DateInterval, int) OR "
          "(DateTime, DateInterval, DateTime) OR (string) as arguments.");
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1097
  case 77: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      php_error_docref0(((void *)0), (1 << 1L), "Unknown or bad format (%s)",
                        (format));
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1098
  case 78: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      php_error_docref0(((void *)0), (1 << 1L), "Unknown or bad format (%s)",
                        (string));
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1099
  case 79: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      php_error_docref0(((void *)0), (1 << 1L), "Unknown or bad timezone (%s)",
                        (format));
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1100
  case 80: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      php_error_docref0(((void *)0), (1 << 1L), "Unknown or bad timezone (%s)",
                        (string));
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1101
  case 81: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      php_error_docref0(((void *)0), (1 << 1L),
                        "Unrecognized date format token.");
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1102
  case 82: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      php_error_docref0(
          ((void *)0), (1 << 1L),
          "Wrong return format given, pick one of SUNFUNCS_RET_TIMESTAMP, "
          "SUNFUNCS_RET_STRING or SUNFUNCS_RET_DOUBLE");
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1103
  case 83: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      php_error_docref0(((void *)0), (1 << 1L), "idate format is one char");
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1104
  case 84: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      php_error_docref0(
          ((void *)0), (1 << 3L),
          "A two-letter ISO 3166-1 compatible country code is expected");
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1105
  case 85: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      php_error_docref0(((void *)0), (1 << 3L), "Timezone ID '%s' is invalid",
                        (format));
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1106
  case 86: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      php_error_docref0(((void *)0), (1 << 3L), "Timezone ID '%s' is invalid",
                        (string));
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1107
  case 87: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      php_info_print_table_end();
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1108
  case 88: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      php_info_print_table_row(
          2, "Timezone Database",
          php_date_global_timezone_db_enabled ? "external" : "internal");
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1109
  case 89: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      php_info_print_table_row(2, "date/time support", "enabled");
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1110
  case 90: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      php_info_print_table_start();
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1111
  case 91: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      php_printf(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1112
  case 92: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      printf(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1113
  case 93: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      scanf(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1114
  case 94: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      string = date_format((format), format_len, t, localtime);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1115
  case 95: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      string = date_format((string), format_len, t, localtime);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1116
  case 96: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      string = date_format(format, format_len, (t), localtime);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1117
  case 97: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      string = date_format(format, format_len, t, localtime);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1118
  case 98: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      t = timelib_time_ctor();
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1119
  case 99: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      t->tz_info = (tzi);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1120
  case 100: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      t->tz_info = tzi;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1121
  case 101: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      t->zone_type = 3;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1122
  case 102: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_error_container_dtor((date_globals.last_errors));
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1123
  case 103: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_time_dtor((t));
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1124
  case 104: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_time_dtor(t);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1125
  case 105: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2gmt((t), (timelib_sll)time(((void *)0)));
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1126
  case 106: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2gmt((t), ts);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1127
  case 107: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2gmt(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1128
  case 108: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2gmt(t, ts);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1129
  case 109: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local((t), (timelib_sll)time(((void *)0)));
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1130
  case 110: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local((t), ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1131
  case 111: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local((t), ts);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1132
  case 112: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1133
  case 113: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_update_from_sse((t));
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1134
  case 114: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_update_ts((t), ((void *)0));
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1135
  case 115: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      tzi = ((void *)0);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1136
  case 116: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      tzi = get_timezone_info();
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1137
  case 117: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      wprintf(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1138
  case 118: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      wscanf(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1139
  case 119: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      zend_class_implements(date_ce_period, 1, zend_ce_traversable);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1140
  case 120: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      zend_debug_alloc_output(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1141
  case 121: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      zend_declare_class_constant_long(date_ce_period, "EXCLUDE_START_DATE",
                                       sizeof("EXCLUDE_START_DATE") - 1, 1);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1142
  case 122: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      zend_declare_class_constant_long(date_ce_timezone, "AFRICA",
                                       sizeof("AFRICA") - 1, 1);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1143
  case 123: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      zend_declare_class_constant_long(date_ce_timezone, "ALL",
                                       sizeof("ALL") - 1, 2047);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1144
  case 124: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      zend_declare_class_constant_long(date_ce_timezone, "ALL_WITH_BC",
                                       sizeof("ALL_WITH_BC") - 1, 4095);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1145
  case 125: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      zend_declare_class_constant_long(date_ce_timezone, "AMERICA",
                                       sizeof("AMERICA") - 1, 2);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1146
  case 126: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      zend_declare_class_constant_long(date_ce_timezone, "ANTARCTICA",
                                       sizeof("ANTARCTICA") - 1, 4);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1147
  case 127: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      zend_declare_class_constant_long(date_ce_timezone, "ARCTIC",
                                       sizeof("ARCTIC") - 1, 8);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1148
  case 128: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      zend_declare_class_constant_long(date_ce_timezone, "ASIA",
                                       sizeof("ASIA") - 1, 16);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1149
  case 129: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      zend_declare_class_constant_long(date_ce_timezone, "ATLANTIC",
                                       sizeof("ATLANTIC") - 1, 32);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1150
  case 130: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      zend_declare_class_constant_long(date_ce_timezone, "AUSTRALIA",
                                       sizeof("AUSTRALIA") - 1, 64);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1151
  case 131: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      zend_declare_class_constant_long(date_ce_timezone, "EUROPE",
                                       sizeof("EUROPE") - 1, 128);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1152
  case 132: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      zend_declare_class_constant_long(date_ce_timezone, "INDIAN",
                                       sizeof("INDIAN") - 1, 256);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1153
  case 133: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      zend_declare_class_constant_long(date_ce_timezone, "PACIFIC",
                                       sizeof("PACIFIC") - 1, 512);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1154
  case 134: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      zend_declare_class_constant_long(date_ce_timezone, "PER_COUNTRY",
                                       sizeof("PER_COUNTRY") - 1, 4096);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1155
  case 135: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      zend_declare_class_constant_long(date_ce_timezone, "UTC",
                                       sizeof("UTC") - 1, 1024);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1156
  case 136: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      zend_declare_class_constant_stringl(date_ce_date, "ATOM",
                                          sizeof("ATOM") - 1, "Y-m-d\\TH:i:sP",
                                          sizeof("Y-m-d\\TH:i:sP") - 1);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1157
  case 137: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      zend_declare_class_constant_stringl(
          date_ce_date, "COOKIE", sizeof("COOKIE") - 1, "l, d-M-y H:i:s T",
          sizeof("l, d-M-y H:i:s T") - 1);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1158
  case 138: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      zend_declare_class_constant_stringl(
          date_ce_date, "ISO8601", sizeof("ISO8601") - 1, "Y-m-d\\TH:i:sO",
          sizeof("Y-m-d\\TH:i:sO") - 1);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1159
  case 139: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      zend_declare_class_constant_stringl(
          date_ce_date, "RFC1036", sizeof("RFC1036") - 1, "D, d M y H:i:s O",
          sizeof("D, d M y H:i:s O") - 1);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1160
  case 140: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      zend_declare_class_constant_stringl(
          date_ce_date, "RFC1123", sizeof("RFC1123") - 1, "D, d M Y H:i:s O",
          sizeof("D, d M Y H:i:s O") - 1);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1161
  case 141: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      zend_declare_class_constant_stringl(
          date_ce_date, "RFC2822", sizeof("RFC2822") - 1, "D, d M Y H:i:s O",
          sizeof("D, d M Y H:i:s O") - 1);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1162
  case 142: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      zend_declare_class_constant_stringl(
          date_ce_date, "RFC3339", sizeof("RFC3339") - 1, "Y-m-d\\TH:i:sP",
          sizeof("Y-m-d\\TH:i:sP") - 1);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1163
  case 143: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      zend_declare_class_constant_stringl(
          date_ce_date, "RFC822", sizeof("RFC822") - 1, "D, d M y H:i:s O",
          sizeof("D, d M y H:i:s O") - 1);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1164
  case 144: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      zend_declare_class_constant_stringl(
          date_ce_date, "RFC850", sizeof("RFC850") - 1, "l, d-M-y H:i:s T",
          sizeof("l, d-M-y H:i:s T") - 1);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1165
  case 145: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      zend_declare_class_constant_stringl(date_ce_date, "RSS",
                                          sizeof("RSS") - 1, "D, d M Y H:i:s O",
                                          sizeof("D, d M Y H:i:s O") - 1);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1166
  case 146: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      zend_declare_class_constant_stringl(date_ce_date, "W3C",
                                          sizeof("W3C") - 1, "Y-m-d\\TH:i:sP",
                                          sizeof("Y-m-d\\TH:i:sP") - 1);
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1167
  case 147: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      zend_error((1 << 0L),
                 "An iterator cannot be used with foreach by reference");
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1168
  case 148: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      zend_error((1 << 3L), "A non well formed numeric value encountered");
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1169
  case 149: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      zend_hash_destroy((date_globals.tzcache));
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1170
  case 150: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1171
  case 151: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      ((date_globals.tzcache)) = (HashTable *)_emalloc(
          (sizeof(HashTable)), "ext/date/php_date.c", 822, ((void *)0), 0);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1172
  case 152: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      (date_globals.last_errors) = ((void *)0);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1173
  case 153: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      (date_globals.timezone) = ((void *)0);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1174
  case 154: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      (date_globals.timezone) = _estrndup(
          (zone), (zone_len), "ext/date/php_date.c", 3945, ((void *)0), 0);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1175
  case 155: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      (date_globals.tzcache) = ((void *)0);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1176
  case 156: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      (executor_globals.argument_stack) =
          zend_vm_stack_new_page(((16 * 1024) - 16));
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1177
  case 157: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      (format) = date_format(format, format_len, t, localtime);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1178
  case 158: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      (format)++;
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1179
  case 159: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      (string) = date_format(format, format_len, t, localtime);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1180
  case 160: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      (string)++;
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1181
  case 161: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      (t) = timelib_time_ctor();
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1182
  case 162: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      (t)->tz_info = tzi;
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1183
  case 163: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      (t)->zone_type = 3;
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1184
  case 164: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      (tzi) = ((void *)0);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1185
  case 165: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      (tzi) = ((void *)0);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1186
  case 166: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      (tzi) = get_timezone_info();
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1187
  case 167: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      _efree(((date_globals.timezone)), "ext/date/php_date.c", 3942,
             ((void *)0), 0);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1188
  case 168: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      _efree(((date_globals.timezone)), "ext/date/php_date.c", 614, ((void *)0),
             0);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1189
  case 169: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      _efree(((date_globals.timezone)), "ext/date/php_date.c", 628, ((void *)0),
             0);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1190
  case 170: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      _efree(((date_globals.tzcache)), "ext/date/php_date.c", 633, ((void *)0),
             0);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1191
  case 171: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      _efree(((format)), "ext/date/php_date.c", 1413, ((void *)0), 0);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1192
  case 172: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      _efree(((format)), "ext/date/php_date.c", 1654, ((void *)0), 0);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1193
  case 173: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      _efree(((format)), "ext/date/php_date.c", 2536, ((void *)0), 0);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1194
  case 174: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      _efree(((string)), "ext/date/php_date.c", 1413, ((void *)0), 0);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1195
  case 175: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      _efree(((string)), "ext/date/php_date.c", 1654, ((void *)0), 0);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1196
  case 176: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      _efree(((string)), "ext/date/php_date.c", 2536, ((void *)0), 0);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1197
  case 177: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      _zend_hash_init(((date_globals.tzcache)), (4), (((void *)0)),
                      (_php_date_tzinfo_dtor), (0), "ext/date/php_date.c", 823);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1198
  case 178: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      date_ce_period->get_iterator = date_object_period_get_iterator;
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1199
  case 179: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      date_ce_period->iterator_funcs.funcs = &date_period_it_funcs;
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1200
  case 180: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      date_object_handlers_date.clone_obj = date_object_clone_date;
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1201
  case 181: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      date_object_handlers_date.compare_objects = date_object_compare_date;
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1202
  case 182: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      date_object_handlers_date.get_properties = date_object_get_properties;
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1203
  case 183: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      date_object_handlers_interval.clone_obj = date_object_clone_interval;
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1204
  case 184: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      date_object_handlers_interval.get_properties =
          date_object_get_properties_interval;
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1205
  case 185: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      date_object_handlers_interval.get_property_ptr_ptr = ((void *)0);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1206
  case 186: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      date_object_handlers_interval.read_property = date_interval_read_property;
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1207
  case 187: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      date_object_handlers_interval.write_property =
          date_interval_write_property;
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1208
  case 188: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      date_object_handlers_period.clone_obj = date_object_clone_period;
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1209
  case 189: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      date_object_handlers_timezone.clone_obj = date_object_clone_timezone;
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1210
  case 190: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      date_register_classes();
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1211
  case 191: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      exit(1);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1212
  case 192: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      if (!(date_globals.tzcache)) {
        ((date_globals.tzcache)) = (HashTable *)_emalloc(
            (sizeof(HashTable)), "ext/date/php_date.c", 822, ((void *)0), 0);
        _zend_hash_init(((date_globals.tzcache)), (4), (((void *)0)),
                        (_php_date_tzinfo_dtor), (0), "ext/date/php_date.c",
                        823);
      }
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1213
  case 193: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      if ((date_globals.last_errors)) {
        timelib_error_container_dtor((date_globals.last_errors));
        (date_globals.last_errors) = ((void *)0);
      }
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1214
  case 194: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      if ((date_globals.last_errors)) {
        timelib_error_container_dtor((date_globals.last_errors));
      }
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1215
  case 195: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      if ((date_globals.timezone) && (strlen((date_globals.timezone)) > 0)) {
        return (date_globals.timezone);
      }
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1216
  case 196: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      if ((date_globals.timezone)) {
        _efree(((date_globals.timezone)), "ext/date/php_date.c", 3942,
               ((void *)0), 0);
        (date_globals.timezone) = ((void *)0);
      }
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1217
  case 197: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      if ((date_globals.timezone)) {
        _efree(((date_globals.timezone)), "ext/date/php_date.c", 614,
               ((void *)0), 0);
      }
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1218
  case 198: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      if ((date_globals.timezone)) {
        _efree(((date_globals.timezone)), "ext/date/php_date.c", 628,
               ((void *)0), 0);
      }
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1219
  case 199: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      if ((date_globals.tzcache)) {
        zend_hash_destroy((date_globals.tzcache));
        _efree(((date_globals.tzcache)), "ext/date/php_date.c", 633,
               ((void *)0), 0);
        (date_globals.tzcache) = ((void *)0);
      }
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1220
  case 200: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      if (localtime) {
        tzi = get_timezone_info();
        t->tz_info = tzi;
        t->zone_type = 3;
        timelib_unixtime2local(t, ts);
      } else {
        tzi = ((void *)0);
        timelib_unixtime2gmt(t, ts);
      }
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1221
  case 201: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      memcpy(&date_object_handlers_date, zend_get_std_object_handlers(),
             sizeof(zend_object_handlers));
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1222
  case 202: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      memcpy(&date_object_handlers_interval, zend_get_std_object_handlers(),
             sizeof(zend_object_handlers));
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1223
  case 203: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      memcpy(&date_object_handlers_period, zend_get_std_object_handlers(),
             sizeof(zend_object_handlers));
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1224
  case 204: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      memcpy(&date_object_handlers_timezone, zend_get_std_object_handlers(),
             sizeof(zend_object_handlers));
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1225
  case 205: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      php_date_global_timezone_db = ((void *)0);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1226
  case 206: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      php_date_global_timezone_db_enabled = 0;
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1227
  case 207: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      php_date_global_timezone_db_enabled = 1;
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1228
  case 208: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      php_error_docref0(
          ((void *)0), (1 << 0L),
          "Timezone database is corrupt - this should *never* happen!");
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1229
  case 209: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      php_error_docref0(((void *)0), (1 << 13L),
                        "The is_dst parameter is deprecated");
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1230
  case 210: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      php_error_docref0(((void *)0), (1 << 1L),
                        "Can only do this for zones with ID for now");
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1231
  case 211: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      php_error_docref0(((void *)0), (1 << 1L), "Failed to parse interval (%s)",
                        (format));
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1232
  case 212: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      php_error_docref0(((void *)0), (1 << 1L), "Failed to parse interval (%s)",
                        (string));
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1233
  case 213: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      php_error_docref0(
          ((void *)0), (1 << 1L),
          "It is not safe to rely on the system's timezone settings. You are "
          "*required* to use the date.timezone setting or the "
          "date_default_timezone_set() function. In case you used any of those "
          "methods and you are still getting this warning, you most likely "
          "misspelled the timezone identifier. We had to select 'UTC' because "
          "your platform doesn't provide functionality for the guessing "
          "algorithm");
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1234
  case 214: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      php_error_docref0(((void *)0), (1 << 1L),
                        "Only non-special relative time specifications are "
                        "supported for subtraction");
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1235
  case 215: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      php_error_docref0(((void *)0), (1 << 1L),
                        "The DateInterval object has not been correctly "
                        "initialized by its constructor");
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1236
  case 216: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      php_error_docref0(((void *)0), (1 << 1L),
                        "The DateTime object has not been correctly "
                        "initialized by its constructor");
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1237
  case 217: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      php_error_docref0(((void *)0), (1 << 1L),
                        "The DateTimeZone object has not been correctly "
                        "initialized by its constructor");
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1238
  case 218: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      php_error_docref0(((void *)0), (1 << 1L),
                        "The ISO interval '%s' did not contain a start date.",
                        (format));
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1239
  case 219: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      php_error_docref0(((void *)0), (1 << 1L),
                        "The ISO interval '%s' did not contain a start date.",
                        (string));
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1240
  case 220: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      php_error_docref0(((void *)0), (1 << 1L),
                        "The ISO interval '%s' did not contain an end date or "
                        "a recurrence count.",
                        (format));
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1241
  case 221: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      php_error_docref0(((void *)0), (1 << 1L),
                        "The ISO interval '%s' did not contain an end date or "
                        "a recurrence count.",
                        (string));
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1242
  case 222: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      php_error_docref0(((void *)0), (1 << 1L),
                        "The ISO interval '%s' did not contain an interval.",
                        (format));
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1243
  case 223: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      php_error_docref0(((void *)0), (1 << 1L),
                        "The ISO interval '%s' did not contain an interval.",
                        (string));
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1244
  case 224: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      php_error_docref0(
          ((void *)0), (1 << 1L),
          "This constructor accepts either (DateTime, DateInterval, int) OR "
          "(DateTime, DateInterval, DateTime) OR (string) as arguments.");
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1245
  case 225: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      php_error_docref0(((void *)0), (1 << 1L), "Unknown or bad format (%s)",
                        (format));
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1246
  case 226: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      php_error_docref0(((void *)0), (1 << 1L), "Unknown or bad format (%s)",
                        (string));
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1247
  case 227: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      php_error_docref0(((void *)0), (1 << 1L), "Unknown or bad timezone (%s)",
                        (format));
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1248
  case 228: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      php_error_docref0(((void *)0), (1 << 1L), "Unknown or bad timezone (%s)",
                        (string));
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1249
  case 229: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      php_error_docref0(((void *)0), (1 << 1L),
                        "Unrecognized date format token.");
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1250
  case 230: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      php_error_docref0(
          ((void *)0), (1 << 1L),
          "Wrong return format given, pick one of SUNFUNCS_RET_TIMESTAMP, "
          "SUNFUNCS_RET_STRING or SUNFUNCS_RET_DOUBLE");
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1251
  case 231: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      php_error_docref0(((void *)0), (1 << 1L), "idate format is one char");
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1252
  case 232: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      php_error_docref0(
          ((void *)0), (1 << 3L),
          "A two-letter ISO 3166-1 compatible country code is expected");
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1253
  case 233: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      php_error_docref0(((void *)0), (1 << 3L), "Timezone ID '%s' is invalid",
                        (format));
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1254
  case 234: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      php_error_docref0(((void *)0), (1 << 3L), "Timezone ID '%s' is invalid",
                        (string));
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1255
  case 235: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      php_info_print_table_end();
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1256
  case 236: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      php_info_print_table_row(
          2, "Timezone Database",
          php_date_global_timezone_db_enabled ? "external" : "internal");
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1257
  case 237: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      php_info_print_table_row(2, "date/time support", "enabled");
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1258
  case 238: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      php_info_print_table_start();
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1259
  case 239: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      string = date_format((format), format_len, t, localtime);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1260
  case 240: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      string = date_format((string), format_len, t, localtime);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1261
  case 241: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      string = date_format(format, format_len, (t), localtime);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1262
  case 242: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      string = date_format(format, format_len, t, localtime);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1263
  case 243: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      t = timelib_time_ctor();
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1264
  case 244: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      t->tz_info = (tzi);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1265
  case 245: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      t->tz_info = tzi;
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1266
  case 246: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      t->zone_type = 3;
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1267
  case 247: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      timelib_error_container_dtor((date_globals.last_errors));
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1268
  case 248: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      timelib_time_dtor((t));
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1269
  case 249: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      timelib_time_dtor(t);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1270
  case 250: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      timelib_unixtime2gmt((t), (timelib_sll)time(((void *)0)));
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1271
  case 251: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      timelib_unixtime2gmt((t), ts);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1272
  case 252: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      timelib_unixtime2gmt(t, ts);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1273
  case 253: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      timelib_unixtime2local((t), (timelib_sll)time(((void *)0)));
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1274
  case 254: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      timelib_unixtime2local((t), ts);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1275
  case 255: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      timelib_unixtime2local(t, ts);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1276
  case 256: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      timelib_update_from_sse((t));
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1277
  case 257: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      timelib_update_ts((t), ((void *)0));
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1278
  case 258: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = ((void *)0);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1279
  case 259: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = get_timezone_info();
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1280
  case 260: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      zend_class_implements(date_ce_period, 1, zend_ce_traversable);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1281
  case 261: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      zend_declare_class_constant_long(date_ce_period, "EXCLUDE_START_DATE",
                                       sizeof("EXCLUDE_START_DATE") - 1, 1);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1282
  case 262: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      zend_declare_class_constant_long(date_ce_timezone, "AFRICA",
                                       sizeof("AFRICA") - 1, 1);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1283
  case 263: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      zend_declare_class_constant_long(date_ce_timezone, "ALL",
                                       sizeof("ALL") - 1, 2047);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1284
  case 264: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      zend_declare_class_constant_long(date_ce_timezone, "ALL_WITH_BC",
                                       sizeof("ALL_WITH_BC") - 1, 4095);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1285
  case 265: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      zend_declare_class_constant_long(date_ce_timezone, "AMERICA",
                                       sizeof("AMERICA") - 1, 2);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1286
  case 266: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      zend_declare_class_constant_long(date_ce_timezone, "ANTARCTICA",
                                       sizeof("ANTARCTICA") - 1, 4);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1287
  case 267: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      zend_declare_class_constant_long(date_ce_timezone, "ARCTIC",
                                       sizeof("ARCTIC") - 1, 8);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1288
  case 268: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      zend_declare_class_constant_long(date_ce_timezone, "ASIA",
                                       sizeof("ASIA") - 1, 16);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1289
  case 269: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      zend_declare_class_constant_long(date_ce_timezone, "ATLANTIC",
                                       sizeof("ATLANTIC") - 1, 32);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1290
  case 270: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      zend_declare_class_constant_long(date_ce_timezone, "AUSTRALIA",
                                       sizeof("AUSTRALIA") - 1, 64);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1291
  case 271: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      zend_declare_class_constant_long(date_ce_timezone, "EUROPE",
                                       sizeof("EUROPE") - 1, 128);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1292
  case 272: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      zend_declare_class_constant_long(date_ce_timezone, "INDIAN",
                                       sizeof("INDIAN") - 1, 256);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1293
  case 273: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      zend_declare_class_constant_long(date_ce_timezone, "PACIFIC",
                                       sizeof("PACIFIC") - 1, 512);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1294
  case 274: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      zend_declare_class_constant_long(date_ce_timezone, "PER_COUNTRY",
                                       sizeof("PER_COUNTRY") - 1, 4096);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1295
  case 275: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      zend_declare_class_constant_long(date_ce_timezone, "UTC",
                                       sizeof("UTC") - 1, 1024);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1296
  case 276: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      zend_declare_class_constant_stringl(date_ce_date, "ATOM",
                                          sizeof("ATOM") - 1, "Y-m-d\\TH:i:sP",
                                          sizeof("Y-m-d\\TH:i:sP") - 1);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1297
  case 277: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      zend_declare_class_constant_stringl(
          date_ce_date, "COOKIE", sizeof("COOKIE") - 1, "l, d-M-y H:i:s T",
          sizeof("l, d-M-y H:i:s T") - 1);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1298
  case 278: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      zend_declare_class_constant_stringl(
          date_ce_date, "ISO8601", sizeof("ISO8601") - 1, "Y-m-d\\TH:i:sO",
          sizeof("Y-m-d\\TH:i:sO") - 1);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1299
  case 279: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      zend_declare_class_constant_stringl(
          date_ce_date, "RFC1036", sizeof("RFC1036") - 1, "D, d M y H:i:s O",
          sizeof("D, d M y H:i:s O") - 1);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1300
  case 280: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      zend_declare_class_constant_stringl(
          date_ce_date, "RFC1123", sizeof("RFC1123") - 1, "D, d M Y H:i:s O",
          sizeof("D, d M Y H:i:s O") - 1);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1301
  case 281: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      zend_declare_class_constant_stringl(
          date_ce_date, "RFC2822", sizeof("RFC2822") - 1, "D, d M Y H:i:s O",
          sizeof("D, d M Y H:i:s O") - 1);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1302
  case 282: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      zend_declare_class_constant_stringl(
          date_ce_date, "RFC3339", sizeof("RFC3339") - 1, "Y-m-d\\TH:i:sP",
          sizeof("Y-m-d\\TH:i:sP") - 1);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1303
  case 283: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      zend_declare_class_constant_stringl(
          date_ce_date, "RFC822", sizeof("RFC822") - 1, "D, d M y H:i:s O",
          sizeof("D, d M y H:i:s O") - 1);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1304
  case 284: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      zend_declare_class_constant_stringl(
          date_ce_date, "RFC850", sizeof("RFC850") - 1, "l, d-M-y H:i:s T",
          sizeof("l, d-M-y H:i:s T") - 1);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1305
  case 285: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      zend_declare_class_constant_stringl(date_ce_date, "RSS",
                                          sizeof("RSS") - 1, "D, d M Y H:i:s O",
                                          sizeof("D, d M Y H:i:s O") - 1);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1306
  case 286: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      zend_declare_class_constant_stringl(date_ce_date, "W3C",
                                          sizeof("W3C") - 1, "Y-m-d\\TH:i:sP",
                                          sizeof("Y-m-d\\TH:i:sP") - 1);
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1307
  case 287: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      zend_error((1 << 0L),
                 "An iterator cannot be used with foreach by reference");
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1308
  case 288: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      zend_error((1 << 3L), "A non well formed numeric value encountered");
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1309
  case 289: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      zend_hash_destroy((date_globals.tzcache));
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1310
  case 290: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1311
  case 291: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      ((date_globals.tzcache)) = (HashTable *)_emalloc(
          (sizeof(HashTable)), "ext/date/php_date.c", 822, ((void *)0), 0);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1312
  case 292: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      (date_globals.last_errors) = ((void *)0);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1313
  case 293: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      (date_globals.timezone) = ((void *)0);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1314
  case 294: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      (date_globals.timezone) = _estrndup(
          (zone), (zone_len), "ext/date/php_date.c", 3945, ((void *)0), 0);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1315
  case 295: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      (date_globals.tzcache) = ((void *)0);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1316
  case 296: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      (executor_globals.argument_stack) =
          zend_vm_stack_new_page(((16 * 1024) - 16));
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1317
  case 297: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      (format) = date_format(format, format_len, t, localtime);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1318
  case 298: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      (format)++;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1319
  case 299: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      (string) = date_format(format, format_len, t, localtime);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1320
  case 300: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      (string)++;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1321
  case 301: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      (t) = timelib_time_ctor();
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1322
  case 302: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      (t)->tz_info = tzi;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1323
  case 303: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      (t)->zone_type = 3;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1324
  case 304: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      (tzi) = ((void *)0);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1325
  case 305: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      (tzi) = get_timezone_info();
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1326
  case 306: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      Debug(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1327
  case 307: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      _efree(((date_globals.timezone)), "ext/date/php_date.c", 3942,
             ((void *)0), 0);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1328
  case 308: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      _efree(((date_globals.timezone)), "ext/date/php_date.c", 614, ((void *)0),
             0);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1329
  case 309: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      _efree(((date_globals.timezone)), "ext/date/php_date.c", 628, ((void *)0),
             0);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1330
  case 310: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      _efree(((date_globals.tzcache)), "ext/date/php_date.c", 633, ((void *)0),
             0);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1331
  case 311: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      _efree(((format)), "ext/date/php_date.c", 1413, ((void *)0), 0);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1332
  case 312: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      _efree(((format)), "ext/date/php_date.c", 1654, ((void *)0), 0);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1333
  case 313: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      _efree(((format)), "ext/date/php_date.c", 2536, ((void *)0), 0);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1334
  case 314: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      _efree(((string)), "ext/date/php_date.c", 1413, ((void *)0), 0);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1335
  case 315: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      _efree(((string)), "ext/date/php_date.c", 1654, ((void *)0), 0);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1336
  case 316: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      _efree(((string)), "ext/date/php_date.c", 2536, ((void *)0), 0);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1337
  case 317: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      _zend_hash_init(((date_globals.tzcache)), (4), (((void *)0)),
                      (_php_date_tzinfo_dtor), (0), "ext/date/php_date.c", 823);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1338
  case 318: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      date_ce_period->get_iterator = date_object_period_get_iterator;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1339
  case 319: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      date_ce_period->iterator_funcs.funcs = &date_period_it_funcs;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1340
  case 320: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      date_object_handlers_date.clone_obj = date_object_clone_date;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1341
  case 321: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      date_object_handlers_date.compare_objects = date_object_compare_date;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1342
  case 322: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      date_object_handlers_date.get_properties = date_object_get_properties;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1343
  case 323: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      date_object_handlers_interval.clone_obj = date_object_clone_interval;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1344
  case 324: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      date_object_handlers_interval.get_properties =
          date_object_get_properties_interval;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1345
  case 325: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      date_object_handlers_interval.get_property_ptr_ptr = ((void *)0);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1346
  case 326: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      date_object_handlers_interval.read_property = date_interval_read_property;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1347
  case 327: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      date_object_handlers_interval.write_property =
          date_interval_write_property;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1348
  case 328: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      date_object_handlers_period.clone_obj = date_object_clone_period;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1349
  case 329: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      date_object_handlers_timezone.clone_obj = date_object_clone_timezone;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1350
  case 330: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      date_register_classes();
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1351
  case 331: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      exit(1);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1352
  case 332: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      if (!(date_globals.tzcache)) {
        ((date_globals.tzcache)) = (HashTable *)_emalloc(
            (sizeof(HashTable)), "ext/date/php_date.c", 822, ((void *)0), 0);
        _zend_hash_init(((date_globals.tzcache)), (4), (((void *)0)),
                        (_php_date_tzinfo_dtor), (0), "ext/date/php_date.c",
                        823);
      }
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1353
  case 333: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      if ((date_globals.last_errors)) {
        timelib_error_container_dtor((date_globals.last_errors));
        (date_globals.last_errors) = ((void *)0);
      }
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1354
  case 334: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      if ((date_globals.last_errors)) {
        timelib_error_container_dtor((date_globals.last_errors));
      }
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1355
  case 335: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      if ((date_globals.timezone) && (strlen((date_globals.timezone)) > 0)) {
        return (date_globals.timezone);
      }
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1356
  case 336: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      if ((date_globals.timezone)) {
        _efree(((date_globals.timezone)), "ext/date/php_date.c", 3942,
               ((void *)0), 0);
        (date_globals.timezone) = ((void *)0);
      }
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1357
  case 337: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      if ((date_globals.timezone)) {
        _efree(((date_globals.timezone)), "ext/date/php_date.c", 614,
               ((void *)0), 0);
      }
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1358
  case 338: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      if ((date_globals.timezone)) {
        _efree(((date_globals.timezone)), "ext/date/php_date.c", 628,
               ((void *)0), 0);
      }
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1359
  case 339: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      if ((date_globals.tzcache)) {
        zend_hash_destroy((date_globals.tzcache));
        _efree(((date_globals.tzcache)), "ext/date/php_date.c", 633,
               ((void *)0), 0);
        (date_globals.tzcache) = ((void *)0);
      }
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1360
  case 340: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      if (localtime) {
        tzi = get_timezone_info();
        t->tz_info = tzi;
        t->zone_type = 3;
        timelib_unixtime2local(t, ts);
      } else {
        tzi = ((void *)0);
        timelib_unixtime2gmt(t, ts);
      }
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1361
  case 341: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      memcpy(&date_object_handlers_date, zend_get_std_object_handlers(),
             sizeof(zend_object_handlers));
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1362
  case 342: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      memcpy(&date_object_handlers_interval, zend_get_std_object_handlers(),
             sizeof(zend_object_handlers));
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1363
  case 343: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      memcpy(&date_object_handlers_period, zend_get_std_object_handlers(),
             sizeof(zend_object_handlers));
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1364
  case 344: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      memcpy(&date_object_handlers_timezone, zend_get_std_object_handlers(),
             sizeof(zend_object_handlers));
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1365
  case 345: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      memset(t, 0, sizeof(*(t)));
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1366
  case 346: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      php_date_global_timezone_db = ((void *)0);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1367
  case 347: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      php_date_global_timezone_db_enabled = 0;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1368
  case 348: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      php_date_global_timezone_db_enabled = 1;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1369
  case 349: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      php_error_docref0(
          ((void *)0), (1 << 0L),
          "Timezone database is corrupt - this should *never* happen!");
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1370
  case 350: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      php_error_docref0(((void *)0), (1 << 13L),
                        "The is_dst parameter is deprecated");
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1371
  case 351: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      php_error_docref0(((void *)0), (1 << 1L),
                        "Can only do this for zones with ID for now");
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1372
  case 352: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      php_error_docref0(((void *)0), (1 << 1L), "Failed to parse interval (%s)",
                        (format));
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1373
  case 353: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      php_error_docref0(((void *)0), (1 << 1L), "Failed to parse interval (%s)",
                        (string));
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1374
  case 354: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      php_error_docref0(
          ((void *)0), (1 << 1L),
          "It is not safe to rely on the system's timezone settings. You are "
          "*required* to use the date.timezone setting or the "
          "date_default_timezone_set() function. In case you used any of those "
          "methods and you are still getting this warning, you most likely "
          "misspelled the timezone identifier. We had to select 'UTC' because "
          "your platform doesn't provide functionality for the guessing "
          "algorithm");
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1375
  case 355: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      php_error_docref0(((void *)0), (1 << 1L),
                        "Only non-special relative time specifications are "
                        "supported for subtraction");
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1376
  case 356: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      php_error_docref0(((void *)0), (1 << 1L),
                        "The DateInterval object has not been correctly "
                        "initialized by its constructor");
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1377
  case 357: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      php_error_docref0(((void *)0), (1 << 1L),
                        "The DateTime object has not been correctly "
                        "initialized by its constructor");
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1378
  case 358: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      php_error_docref0(((void *)0), (1 << 1L),
                        "The DateTimeZone object has not been correctly "
                        "initialized by its constructor");
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1379
  case 359: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      php_error_docref0(((void *)0), (1 << 1L),
                        "The ISO interval '%s' did not contain a start date.",
                        (format));
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1380
  case 360: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      php_error_docref0(((void *)0), (1 << 1L),
                        "The ISO interval '%s' did not contain a start date.",
                        (string));
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1381
  case 361: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      php_error_docref0(((void *)0), (1 << 1L),
                        "The ISO interval '%s' did not contain an end date or "
                        "a recurrence count.",
                        (format));
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1382
  case 362: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      php_error_docref0(((void *)0), (1 << 1L),
                        "The ISO interval '%s' did not contain an end date or "
                        "a recurrence count.",
                        (string));
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1383
  case 363: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      php_error_docref0(((void *)0), (1 << 1L),
                        "The ISO interval '%s' did not contain an interval.",
                        (format));
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1384
  case 364: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      php_error_docref0(((void *)0), (1 << 1L),
                        "The ISO interval '%s' did not contain an interval.",
                        (string));
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1385
  case 365: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      php_error_docref0(
          ((void *)0), (1 << 1L),
          "This constructor accepts either (DateTime, DateInterval, int) OR "
          "(DateTime, DateInterval, DateTime) OR (string) as arguments.");
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1386
  case 366: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      php_error_docref0(((void *)0), (1 << 1L), "Unknown or bad format (%s)",
                        (format));
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1387
  case 367: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      php_error_docref0(((void *)0), (1 << 1L), "Unknown or bad format (%s)",
                        (string));
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1388
  case 368: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      php_error_docref0(((void *)0), (1 << 1L), "Unknown or bad timezone (%s)",
                        (format));
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1389
  case 369: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      php_error_docref0(((void *)0), (1 << 1L), "Unknown or bad timezone (%s)",
                        (string));
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1390
  case 370: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      php_error_docref0(((void *)0), (1 << 1L),
                        "Unrecognized date format token.");
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1391
  case 371: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      php_error_docref0(
          ((void *)0), (1 << 1L),
          "Wrong return format given, pick one of SUNFUNCS_RET_TIMESTAMP, "
          "SUNFUNCS_RET_STRING or SUNFUNCS_RET_DOUBLE");
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1392
  case 372: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      php_error_docref0(((void *)0), (1 << 1L), "idate format is one char");
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1393
  case 373: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      php_error_docref0(
          ((void *)0), (1 << 3L),
          "A two-letter ISO 3166-1 compatible country code is expected");
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1394
  case 374: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      php_error_docref0(((void *)0), (1 << 3L), "Timezone ID '%s' is invalid",
                        (format));
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1395
  case 375: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      php_error_docref0(((void *)0), (1 << 3L), "Timezone ID '%s' is invalid",
                        (string));
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1396
  case 376: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      php_info_print_table_end();
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1397
  case 377: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      php_info_print_table_row(
          2, "Timezone Database",
          php_date_global_timezone_db_enabled ? "external" : "internal");
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1398
  case 378: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      php_info_print_table_row(2, "date/time support", "enabled");
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1399
  case 379: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      php_info_print_table_start();
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1400
  case 380: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      php_printf(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1401
  case 381: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      printf(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1402
  case 382: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      scanf(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1403
  case 383: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      string = date_format((format), format_len, t, localtime);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1404
  case 384: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      string = date_format((string), format_len, t, localtime);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1405
  case 385: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      string = date_format(format, format_len, (t), localtime);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1406
  case 386: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      string = date_format(format, format_len, t, localtime);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1407
  case 387: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      t = timelib_time_ctor();
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1408
  case 388: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      t->tz_info = (tzi);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1409
  case 389: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      t->tz_info = tzi;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1410
  case 390: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      t->zone_type = 3;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1411
  case 391: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_error_container_dtor((date_globals.last_errors));
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1412
  case 392: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_time_dtor((t));
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1413
  case 393: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_time_dtor(t);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1414
  case 394: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt((t), (timelib_sll)time(((void *)0)));
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1415
  case 395: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt((t), ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1416
  case 396: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt((t), ts);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1417
  case 397: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1418
  case 398: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2local((t), (timelib_sll)time(((void *)0)));
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1419
  case 399: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2local((t), ts);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1420
  case 400: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2local(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1421
  case 401: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2local(t, ts);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1422
  case 402: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_update_from_sse((t));
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1423
  case 403: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_update_ts((t), ((void *)0));
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1424
  case 404: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      tzi = ((void *)0);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1425
  case 405: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      tzi = get_timezone_info();
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1426
  case 406: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      wprintf(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1427
  case 407: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      wscanf(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1428
  case 408: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      zend_class_implements(date_ce_period, 1, zend_ce_traversable);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1429
  case 409: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      zend_debug_alloc_output(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1430
  case 410: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      zend_declare_class_constant_long(date_ce_period, "EXCLUDE_START_DATE",
                                       sizeof("EXCLUDE_START_DATE") - 1, 1);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1431
  case 411: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      zend_declare_class_constant_long(date_ce_timezone, "AFRICA",
                                       sizeof("AFRICA") - 1, 1);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1432
  case 412: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      zend_declare_class_constant_long(date_ce_timezone, "ALL",
                                       sizeof("ALL") - 1, 2047);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1433
  case 413: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      zend_declare_class_constant_long(date_ce_timezone, "ALL_WITH_BC",
                                       sizeof("ALL_WITH_BC") - 1, 4095);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1434
  case 414: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      zend_declare_class_constant_long(date_ce_timezone, "AMERICA",
                                       sizeof("AMERICA") - 1, 2);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1435
  case 415: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      zend_declare_class_constant_long(date_ce_timezone, "ANTARCTICA",
                                       sizeof("ANTARCTICA") - 1, 4);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1436
  case 416: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      zend_declare_class_constant_long(date_ce_timezone, "ARCTIC",
                                       sizeof("ARCTIC") - 1, 8);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1437
  case 417: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      zend_declare_class_constant_long(date_ce_timezone, "ASIA",
                                       sizeof("ASIA") - 1, 16);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1438
  case 418: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      zend_declare_class_constant_long(date_ce_timezone, "ATLANTIC",
                                       sizeof("ATLANTIC") - 1, 32);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1439
  case 419: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      zend_declare_class_constant_long(date_ce_timezone, "AUSTRALIA",
                                       sizeof("AUSTRALIA") - 1, 64);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1440
  case 420: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      zend_declare_class_constant_long(date_ce_timezone, "EUROPE",
                                       sizeof("EUROPE") - 1, 128);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1441
  case 421: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      zend_declare_class_constant_long(date_ce_timezone, "INDIAN",
                                       sizeof("INDIAN") - 1, 256);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1442
  case 422: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      zend_declare_class_constant_long(date_ce_timezone, "PACIFIC",
                                       sizeof("PACIFIC") - 1, 512);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1443
  case 423: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      zend_declare_class_constant_long(date_ce_timezone, "PER_COUNTRY",
                                       sizeof("PER_COUNTRY") - 1, 4096);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1444
  case 424: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      zend_declare_class_constant_long(date_ce_timezone, "UTC",
                                       sizeof("UTC") - 1, 1024);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1445
  case 425: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      zend_declare_class_constant_stringl(date_ce_date, "ATOM",
                                          sizeof("ATOM") - 1, "Y-m-d\\TH:i:sP",
                                          sizeof("Y-m-d\\TH:i:sP") - 1);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1446
  case 426: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      zend_declare_class_constant_stringl(
          date_ce_date, "COOKIE", sizeof("COOKIE") - 1, "l, d-M-y H:i:s T",
          sizeof("l, d-M-y H:i:s T") - 1);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1447
  case 427: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      zend_declare_class_constant_stringl(
          date_ce_date, "ISO8601", sizeof("ISO8601") - 1, "Y-m-d\\TH:i:sO",
          sizeof("Y-m-d\\TH:i:sO") - 1);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1448
  case 428: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      zend_declare_class_constant_stringl(
          date_ce_date, "RFC1036", sizeof("RFC1036") - 1, "D, d M y H:i:s O",
          sizeof("D, d M y H:i:s O") - 1);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1449
  case 429: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      zend_declare_class_constant_stringl(
          date_ce_date, "RFC1123", sizeof("RFC1123") - 1, "D, d M Y H:i:s O",
          sizeof("D, d M Y H:i:s O") - 1);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1450
  case 430: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      zend_declare_class_constant_stringl(
          date_ce_date, "RFC2822", sizeof("RFC2822") - 1, "D, d M Y H:i:s O",
          sizeof("D, d M Y H:i:s O") - 1);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1451
  case 431: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      zend_declare_class_constant_stringl(
          date_ce_date, "RFC3339", sizeof("RFC3339") - 1, "Y-m-d\\TH:i:sP",
          sizeof("Y-m-d\\TH:i:sP") - 1);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1452
  case 432: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      zend_declare_class_constant_stringl(
          date_ce_date, "RFC822", sizeof("RFC822") - 1, "D, d M y H:i:s O",
          sizeof("D, d M y H:i:s O") - 1);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1453
  case 433: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      zend_declare_class_constant_stringl(
          date_ce_date, "RFC850", sizeof("RFC850") - 1, "l, d-M-y H:i:s T",
          sizeof("l, d-M-y H:i:s T") - 1);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1454
  case 434: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      zend_declare_class_constant_stringl(date_ce_date, "RSS",
                                          sizeof("RSS") - 1, "D, d M Y H:i:s O",
                                          sizeof("D, d M Y H:i:s O") - 1);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1455
  case 435: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      zend_declare_class_constant_stringl(date_ce_date, "W3C",
                                          sizeof("W3C") - 1, "Y-m-d\\TH:i:sP",
                                          sizeof("Y-m-d\\TH:i:sP") - 1);
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1456
  case 436: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      zend_error((1 << 0L),
                 "An iterator cannot be used with foreach by reference");
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1457
  case 437: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      zend_error((1 << 3L), "A non well formed numeric value encountered");
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1458
  case 438: {
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      zend_hash_destroy((date_globals.tzcache));
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1459
  case 439: {
    ((date_globals.tzcache)) = (HashTable *)_emalloc(
        (sizeof(HashTable)), "ext/date/php_date.c", 822, ((void *)0), 0);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1460
  case 440: {
    (date_globals.last_errors) = ((void *)0);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1461
  case 441: {
    (date_globals.timezone) = ((void *)0);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1462
  case 442: {
    (date_globals.timezone) = _estrndup(
        (zone), (zone_len), "ext/date/php_date.c", 3945, ((void *)0), 0);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1463
  case 443: {
    (date_globals.tzcache) = ((void *)0);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1464
  case 444: {
    (executor_globals.argument_stack) =
        zend_vm_stack_new_page(((16 * 1024) - 16));
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1465
  case 445: {
    (format) = date_format(format, format_len, t, localtime);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1466
  case 446: {
    (format)++;
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1467
  case 447: {
    (string) = date_format(format, format_len, t, localtime);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1468
  case 448: {
    (string)++;
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1469
  case 449: {
    (t) = timelib_time_ctor();
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1470
  case 450: {
    (t)->tz_info = tzi;
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1471
  case 451: {
    (t)->zone_type = 3;
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1472
  case 452: {
    (tzi) = ((void *)0);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1473
  case 453: {
    (tzi) = get_timezone_info();
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1474
  case 454: {
    _efree(((date_globals.timezone)), "ext/date/php_date.c", 3942, ((void *)0),
           0);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1475
  case 455: {
    _efree(((date_globals.timezone)), "ext/date/php_date.c", 614, ((void *)0),
           0);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1476
  case 456: {
    _efree(((date_globals.timezone)), "ext/date/php_date.c", 628, ((void *)0),
           0);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1477
  case 457: {
    _efree(((date_globals.tzcache)), "ext/date/php_date.c", 633, ((void *)0),
           0);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1478
  case 458: {
    _efree(((format)), "ext/date/php_date.c", 1413, ((void *)0), 0);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1479
  case 459: {
    _efree(((format)), "ext/date/php_date.c", 1654, ((void *)0), 0);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1480
  case 460: {
    _efree(((format)), "ext/date/php_date.c", 2536, ((void *)0), 0);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1481
  case 461: {
    _efree(((string)), "ext/date/php_date.c", 1413, ((void *)0), 0);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1482
  case 462: {
    _efree(((string)), "ext/date/php_date.c", 1654, ((void *)0), 0);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1483
  case 463: {
    _efree(((string)), "ext/date/php_date.c", 2536, ((void *)0), 0);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1484
  case 464: {
    _zend_hash_init(((date_globals.tzcache)), (4), (((void *)0)),
                    (_php_date_tzinfo_dtor), (0), "ext/date/php_date.c", 823);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1485
  case 465: {
    date_ce_period->get_iterator = date_object_period_get_iterator;
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1486
  case 466: {
    date_ce_period->iterator_funcs.funcs = &date_period_it_funcs;
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1487
  case 467: {
    date_object_handlers_date.clone_obj = date_object_clone_date;
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1488
  case 468: {
    date_object_handlers_date.compare_objects = date_object_compare_date;
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1489
  case 469: {
    date_object_handlers_date.get_properties = date_object_get_properties;
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1490
  case 470: {
    date_object_handlers_interval.clone_obj = date_object_clone_interval;
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1491
  case 471: {
    date_object_handlers_interval.get_properties =
        date_object_get_properties_interval;
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1492
  case 472: {
    date_object_handlers_interval.get_property_ptr_ptr = ((void *)0);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1493
  case 473: {
    date_object_handlers_interval.read_property = date_interval_read_property;
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1494
  case 474: {
    date_object_handlers_interval.write_property = date_interval_write_property;
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1495
  case 475: {
    date_object_handlers_period.clone_obj = date_object_clone_period;
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1496
  case 476: {
    date_object_handlers_timezone.clone_obj = date_object_clone_timezone;
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1497
  case 477: {
    date_register_classes();
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1498
  case 478: {
    exit(1);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1499
  case 479: {
    if (!(date_globals.tzcache)) {
      ((date_globals.tzcache)) = (HashTable *)_emalloc(
          (sizeof(HashTable)), "ext/date/php_date.c", 822, ((void *)0), 0);
      _zend_hash_init(((date_globals.tzcache)), (4), (((void *)0)),
                      (_php_date_tzinfo_dtor), (0), "ext/date/php_date.c", 823);
    }
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1500
  case 480: {
    if ((date_globals.last_errors)) {
      timelib_error_container_dtor((date_globals.last_errors));
      (date_globals.last_errors) = ((void *)0);
    }
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1501
  case 481: {
    if ((date_globals.last_errors)) {
      timelib_error_container_dtor((date_globals.last_errors));
    }
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1502
  case 482: {
    if ((date_globals.timezone) && (strlen((date_globals.timezone)) > 0)) {
      return (date_globals.timezone);
    }
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1503
  case 483: {
    if ((date_globals.timezone)) {
      _efree(((date_globals.timezone)), "ext/date/php_date.c", 3942,
             ((void *)0), 0);
      (date_globals.timezone) = ((void *)0);
    }
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1504
  case 484: {
    if ((date_globals.timezone)) {
      _efree(((date_globals.timezone)), "ext/date/php_date.c", 614, ((void *)0),
             0);
    }
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1505
  case 485: {
    if ((date_globals.timezone)) {
      _efree(((date_globals.timezone)), "ext/date/php_date.c", 628, ((void *)0),
             0);
    }
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1506
  case 486: {
    if ((date_globals.tzcache)) {
      zend_hash_destroy((date_globals.tzcache));
      _efree(((date_globals.tzcache)), "ext/date/php_date.c", 633, ((void *)0),
             0);
      (date_globals.tzcache) = ((void *)0);
    }
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1507
  case 487: {
    if (localtime) {
      tzi = get_timezone_info();
      t->tz_info = tzi;
      t->zone_type = 3;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = ((void *)0);
      timelib_unixtime2gmt(t, ts);
    }
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1508
  case 488: {
    memcpy(&date_object_handlers_date, zend_get_std_object_handlers(),
           sizeof(zend_object_handlers));
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1509
  case 489: {
    memcpy(&date_object_handlers_interval, zend_get_std_object_handlers(),
           sizeof(zend_object_handlers));
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1510
  case 490: {
    memcpy(&date_object_handlers_period, zend_get_std_object_handlers(),
           sizeof(zend_object_handlers));
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1511
  case 491: {
    memcpy(&date_object_handlers_timezone, zend_get_std_object_handlers(),
           sizeof(zend_object_handlers));
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1512
  case 492: {
    memset(t, 0, sizeof(*(t)));
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1513
  case 493: {
    php_date_global_timezone_db = ((void *)0);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1514
  case 494: {
    php_date_global_timezone_db_enabled = 0;
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1515
  case 495: {
    php_date_global_timezone_db_enabled = 1;
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1516
  case 496: {
    php_error_docref0(
        ((void *)0), (1 << 0L),
        "Timezone database is corrupt - this should *never* happen!");
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1517
  case 497: {
    php_error_docref0(((void *)0), (1 << 13L),
                      "The is_dst parameter is deprecated");
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1518
  case 498: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "Can only do this for zones with ID for now");
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1519
  case 499: {
    php_error_docref0(((void *)0), (1 << 1L), "Failed to parse interval (%s)",
                      (format));
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1520
  case 500: {
    php_error_docref0(((void *)0), (1 << 1L), "Failed to parse interval (%s)",
                      (string));
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1521
  case 501: {
    php_error_docref0(
        ((void *)0), (1 << 1L),
        "It is not safe to rely on the system's timezone settings. You are "
        "*required* to use the date.timezone setting or the "
        "date_default_timezone_set() function. In case you used any of those "
        "methods and you are still getting this warning, you most likely "
        "misspelled the timezone identifier. We had to select 'UTC' because "
        "your platform doesn't provide functionality for the guessing "
        "algorithm");
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1522
  case 502: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "Only non-special relative time specifications are "
                      "supported for subtraction");
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1523
  case 503: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The DateInterval object has not been correctly "
                      "initialized by its constructor");
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1524
  case 504: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The DateTime object has not been correctly initialized "
                      "by its constructor");
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1525
  case 505: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The DateTimeZone object has not been correctly "
                      "initialized by its constructor");
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1526
  case 506: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The ISO interval '%s' did not contain a start date.",
                      (format));
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1527
  case 507: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The ISO interval '%s' did not contain a start date.",
                      (string));
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1528
  case 508: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The ISO interval '%s' did not contain an end date or a "
                      "recurrence count.",
                      (format));
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1529
  case 509: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The ISO interval '%s' did not contain an end date or a "
                      "recurrence count.",
                      (string));
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1530
  case 510: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The ISO interval '%s' did not contain an interval.",
                      (format));
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1531
  case 511: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The ISO interval '%s' did not contain an interval.",
                      (string));
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1532
  case 512: {
    php_error_docref0(
        ((void *)0), (1 << 1L),
        "This constructor accepts either (DateTime, DateInterval, int) OR "
        "(DateTime, DateInterval, DateTime) OR (string) as arguments.");
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1533
  case 513: {
    php_error_docref0(((void *)0), (1 << 1L), "Unknown or bad format (%s)",
                      (format));
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1534
  case 514: {
    php_error_docref0(((void *)0), (1 << 1L), "Unknown or bad format (%s)",
                      (string));
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1535
  case 515: {
    php_error_docref0(((void *)0), (1 << 1L), "Unknown or bad timezone (%s)",
                      (format));
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1536
  case 516: {
    php_error_docref0(((void *)0), (1 << 1L), "Unknown or bad timezone (%s)",
                      (string));
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1537
  case 517: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "Unrecognized date format token.");
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1538
  case 518: {
    php_error_docref0(
        ((void *)0), (1 << 1L),
        "Wrong return format given, pick one of SUNFUNCS_RET_TIMESTAMP, "
        "SUNFUNCS_RET_STRING or SUNFUNCS_RET_DOUBLE");
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1539
  case 519: {
    php_error_docref0(((void *)0), (1 << 1L), "idate format is one char");
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1540
  case 520: {
    php_error_docref0(
        ((void *)0), (1 << 3L),
        "A two-letter ISO 3166-1 compatible country code is expected");
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1541
  case 521: {
    php_error_docref0(((void *)0), (1 << 3L), "Timezone ID '%s' is invalid",
                      (format));
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1542
  case 522: {
    php_error_docref0(((void *)0), (1 << 3L), "Timezone ID '%s' is invalid",
                      (string));
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1543
  case 523: {
    php_info_print_table_end();
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1544
  case 524: {
    php_info_print_table_row(2, "Timezone Database",
                             php_date_global_timezone_db_enabled ? "external"
                                                                 : "internal");
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1545
  case 525: {
    php_info_print_table_row(2, "date/time support", "enabled");
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1546
  case 526: {
    php_info_print_table_start();
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1547
  case 527: {
    string = date_format((format), format_len, t, localtime);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1548
  case 528: {
    string = date_format((string), format_len, t, localtime);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1549
  case 529: {
    string = date_format(format, format_len, (t), localtime);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1550
  case 530: {
    string = date_format(format, format_len, t, localtime);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1551
  case 531: {
    t = timelib_time_ctor();
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1552
  case 532: {
    t->tz_info = (tzi);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1553
  case 533: {
    t->tz_info = tzi;
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1554
  case 534: {
    t->zone_type = 3;
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1555
  case 535: {
    timelib_error_container_dtor((date_globals.last_errors));
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1556
  case 536: {
    timelib_time_dtor((t));
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1557
  case 537: {
    timelib_time_dtor(t);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1558
  case 538: {
    timelib_unixtime2gmt((t), (timelib_sll)time(((void *)0)));
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1559
  case 539: {
    timelib_unixtime2gmt((t), ts);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1560
  case 540: {
    timelib_unixtime2gmt(t, ts);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1561
  case 541: {
    timelib_unixtime2local((t), (timelib_sll)time(((void *)0)));
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1562
  case 542: {
    timelib_unixtime2local((t), ts);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1563
  case 543: {
    timelib_unixtime2local(t, ts);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1564
  case 544: {
    timelib_update_from_sse((t));
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1565
  case 545: {
    timelib_update_ts((t), ((void *)0));
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1566
  case 546: {
    tzi = ((void *)0);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1567
  case 547: {
    tzi = get_timezone_info();
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1568
  case 548: {
    zend_class_implements(date_ce_period, 1, zend_ce_traversable);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1569
  case 549: {
    zend_declare_class_constant_long(date_ce_period, "EXCLUDE_START_DATE",
                                     sizeof("EXCLUDE_START_DATE") - 1, 1);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1570
  case 550: {
    zend_declare_class_constant_long(date_ce_timezone, "AFRICA",
                                     sizeof("AFRICA") - 1, 1);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1571
  case 551: {
    zend_declare_class_constant_long(date_ce_timezone, "ALL", sizeof("ALL") - 1,
                                     2047);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1572
  case 552: {
    zend_declare_class_constant_long(date_ce_timezone, "ALL_WITH_BC",
                                     sizeof("ALL_WITH_BC") - 1, 4095);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1573
  case 553: {
    zend_declare_class_constant_long(date_ce_timezone, "AMERICA",
                                     sizeof("AMERICA") - 1, 2);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1574
  case 554: {
    zend_declare_class_constant_long(date_ce_timezone, "ANTARCTICA",
                                     sizeof("ANTARCTICA") - 1, 4);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1575
  case 555: {
    zend_declare_class_constant_long(date_ce_timezone, "ARCTIC",
                                     sizeof("ARCTIC") - 1, 8);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1576
  case 556: {
    zend_declare_class_constant_long(date_ce_timezone, "ASIA",
                                     sizeof("ASIA") - 1, 16);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1577
  case 557: {
    zend_declare_class_constant_long(date_ce_timezone, "ATLANTIC",
                                     sizeof("ATLANTIC") - 1, 32);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1578
  case 558: {
    zend_declare_class_constant_long(date_ce_timezone, "AUSTRALIA",
                                     sizeof("AUSTRALIA") - 1, 64);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1579
  case 559: {
    zend_declare_class_constant_long(date_ce_timezone, "EUROPE",
                                     sizeof("EUROPE") - 1, 128);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1580
  case 560: {
    zend_declare_class_constant_long(date_ce_timezone, "INDIAN",
                                     sizeof("INDIAN") - 1, 256);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1581
  case 561: {
    zend_declare_class_constant_long(date_ce_timezone, "PACIFIC",
                                     sizeof("PACIFIC") - 1, 512);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1582
  case 562: {
    zend_declare_class_constant_long(date_ce_timezone, "PER_COUNTRY",
                                     sizeof("PER_COUNTRY") - 1, 4096);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1583
  case 563: {
    zend_declare_class_constant_long(date_ce_timezone, "UTC", sizeof("UTC") - 1,
                                     1024);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1584
  case 564: {
    zend_declare_class_constant_stringl(date_ce_date, "ATOM",
                                        sizeof("ATOM") - 1, "Y-m-d\\TH:i:sP",
                                        sizeof("Y-m-d\\TH:i:sP") - 1);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1585
  case 565: {
    zend_declare_class_constant_stringl(
        date_ce_date, "COOKIE", sizeof("COOKIE") - 1, "l, d-M-y H:i:s T",
        sizeof("l, d-M-y H:i:s T") - 1);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1586
  case 566: {
    zend_declare_class_constant_stringl(date_ce_date, "ISO8601",
                                        sizeof("ISO8601") - 1, "Y-m-d\\TH:i:sO",
                                        sizeof("Y-m-d\\TH:i:sO") - 1);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1587
  case 567: {
    zend_declare_class_constant_stringl(
        date_ce_date, "RFC1036", sizeof("RFC1036") - 1, "D, d M y H:i:s O",
        sizeof("D, d M y H:i:s O") - 1);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1588
  case 568: {
    zend_declare_class_constant_stringl(
        date_ce_date, "RFC1123", sizeof("RFC1123") - 1, "D, d M Y H:i:s O",
        sizeof("D, d M Y H:i:s O") - 1);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1589
  case 569: {
    zend_declare_class_constant_stringl(
        date_ce_date, "RFC2822", sizeof("RFC2822") - 1, "D, d M Y H:i:s O",
        sizeof("D, d M Y H:i:s O") - 1);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1590
  case 570: {
    zend_declare_class_constant_stringl(date_ce_date, "RFC3339",
                                        sizeof("RFC3339") - 1, "Y-m-d\\TH:i:sP",
                                        sizeof("Y-m-d\\TH:i:sP") - 1);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1591
  case 571: {
    zend_declare_class_constant_stringl(
        date_ce_date, "RFC822", sizeof("RFC822") - 1, "D, d M y H:i:s O",
        sizeof("D, d M y H:i:s O") - 1);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1592
  case 572: {
    zend_declare_class_constant_stringl(
        date_ce_date, "RFC850", sizeof("RFC850") - 1, "l, d-M-y H:i:s T",
        sizeof("l, d-M-y H:i:s T") - 1);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1593
  case 573: {
    zend_declare_class_constant_stringl(date_ce_date, "RSS", sizeof("RSS") - 1,
                                        "D, d M Y H:i:s O",
                                        sizeof("D, d M Y H:i:s O") - 1);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1594
  case 574: {
    zend_declare_class_constant_stringl(date_ce_date, "W3C", sizeof("W3C") - 1,
                                        "Y-m-d\\TH:i:sP",
                                        sizeof("Y-m-d\\TH:i:sP") - 1);
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1595
  case 575: {
    zend_error((1 << 0L),
               "An iterator cannot be used with foreach by reference");
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1596
  case 576: {
    zend_error((1 << 3L), "A non well formed numeric value encountered");
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_1597
  case 577: {
    zend_hash_destroy((date_globals.tzcache));
    if (localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
  }

  // prophet generated patch
  switch (__choose("__ID7")) {
  case 0: {
    string = date_format(format, format_len, t, localtime);

    break;
  }
#ifdef COMPILE_1598
  case 1: {
    ((date_globals.tzcache)) = (HashTable *)_emalloc(
        (sizeof(HashTable)), "ext/date/php_date.c", 822, ((void *)0), 0);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1599
  case 2: {
    (date_globals.last_errors) = ((void *)0);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1600
  case 3: {
    (date_globals.timezone) = ((void *)0);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1601
  case 4: {
    (date_globals.timezone) = _estrndup(
        (zone), (zone_len), "ext/date/php_date.c", 3945, ((void *)0), 0);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1602
  case 5: {
    (date_globals.tzcache) = ((void *)0);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1603
  case 6: {
    (executor_globals.argument_stack) =
        zend_vm_stack_new_page(((16 * 1024) - 16));
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1604
  case 7: {
    (format) = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1605
  case 8: {
    (format) = date_format(format, format_len, t, localtime);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1606
  case 9: {
    (format)++;
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1607
  case 10: {
    (string) = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1608
  case 11: {
    (string) = date_format(format, format_len, t, localtime);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1609
  case 12: {
    (string)++;
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1610
  case 13: {
    (t) = timelib_time_ctor();
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1611
  case 14: {
    (t)->tz_info = tzi;
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1612
  case 15: {
    (t)->zone_type = 3;
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1613
  case 16: {
    (tzi) = ((void *)0);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1614
  case 17: {
    (tzi) = get_timezone_info();
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1615
  case 18: {
    _efree(((date_globals.timezone)), "ext/date/php_date.c", 3942, ((void *)0),
           0);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1616
  case 19: {
    _efree(((date_globals.timezone)), "ext/date/php_date.c", 614, ((void *)0),
           0);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1617
  case 20: {
    _efree(((date_globals.timezone)), "ext/date/php_date.c", 628, ((void *)0),
           0);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1618
  case 21: {
    _efree(((date_globals.tzcache)), "ext/date/php_date.c", 633, ((void *)0),
           0);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1619
  case 22: {
    _efree(((format)), "ext/date/php_date.c", 1413, ((void *)0), 0);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1620
  case 23: {
    _efree(((format)), "ext/date/php_date.c", 1654, ((void *)0), 0);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1621
  case 24: {
    _efree(((format)), "ext/date/php_date.c", 2536, ((void *)0), 0);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1622
  case 25: {
    _efree(((string)), "ext/date/php_date.c", 1413, ((void *)0), 0);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1623
  case 26: {
    _efree(((string)), "ext/date/php_date.c", 1654, ((void *)0), 0);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1624
  case 27: {
    _efree(((string)), "ext/date/php_date.c", 2536, ((void *)0), 0);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1625
  case 28: {
    _zend_hash_init(((date_globals.tzcache)), (4), (((void *)0)),
                    (_php_date_tzinfo_dtor), (0), "ext/date/php_date.c", 823);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1626
  case 29: {
    date_ce_period->get_iterator = date_object_period_get_iterator;
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1627
  case 30: {
    date_ce_period->iterator_funcs.funcs = &date_period_it_funcs;
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1628
  case 31: {
    date_object_handlers_date.clone_obj = date_object_clone_date;
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1629
  case 32: {
    date_object_handlers_date.compare_objects = date_object_compare_date;
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1630
  case 33: {
    date_object_handlers_date.get_properties = date_object_get_properties;
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1631
  case 34: {
    date_object_handlers_interval.clone_obj = date_object_clone_interval;
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1632
  case 35: {
    date_object_handlers_interval.get_properties =
        date_object_get_properties_interval;
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1633
  case 36: {
    date_object_handlers_interval.get_property_ptr_ptr = ((void *)0);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1634
  case 37: {
    date_object_handlers_interval.read_property = date_interval_read_property;
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1635
  case 38: {
    date_object_handlers_interval.write_property = date_interval_write_property;
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1636
  case 39: {
    date_object_handlers_period.clone_obj = date_object_clone_period;
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1637
  case 40: {
    date_object_handlers_timezone.clone_obj = date_object_clone_timezone;
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1638
  case 41: {
    date_register_classes();
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1639
  case 42: {
    exit(1);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1640
  case 43: {
    if (!(date_globals.tzcache)) {
      ((date_globals.tzcache)) = (HashTable *)_emalloc(
          (sizeof(HashTable)), "ext/date/php_date.c", 822, ((void *)0), 0);
      _zend_hash_init(((date_globals.tzcache)), (4), (((void *)0)),
                      (_php_date_tzinfo_dtor), (0), "ext/date/php_date.c", 823);
    }
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1641
  case 44: {
    if ((date_globals.last_errors)) {
      timelib_error_container_dtor((date_globals.last_errors));
      (date_globals.last_errors) = ((void *)0);
    }
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1642
  case 45: {
    if ((date_globals.last_errors)) {
      timelib_error_container_dtor((date_globals.last_errors));
    }
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1643
  case 46: {
    if ((date_globals.timezone) && (strlen((date_globals.timezone)) > 0)) {
      return (date_globals.timezone);
    }
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1644
  case 47: {
    if ((date_globals.timezone)) {
      _efree(((date_globals.timezone)), "ext/date/php_date.c", 3942,
             ((void *)0), 0);
      (date_globals.timezone) = ((void *)0);
    }
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1645
  case 48: {
    if ((date_globals.timezone)) {
      _efree(((date_globals.timezone)), "ext/date/php_date.c", 614, ((void *)0),
             0);
    }
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1646
  case 49: {
    if ((date_globals.timezone)) {
      _efree(((date_globals.timezone)), "ext/date/php_date.c", 628, ((void *)0),
             0);
    }
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1647
  case 50: {
    if ((date_globals.tzcache)) {
      zend_hash_destroy((date_globals.tzcache));
      _efree(((date_globals.tzcache)), "ext/date/php_date.c", 633, ((void *)0),
             0);
      (date_globals.tzcache) = ((void *)0);
    }
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1648
  case 51: {
    if (localtime) {
      tzi = get_timezone_info();
      t->tz_info = tzi;
      t->zone_type = 3;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = ((void *)0);
      timelib_unixtime2gmt(t, ts);
    }
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1649
  case 52: {
    memcpy(&date_object_handlers_date, zend_get_std_object_handlers(),
           sizeof(zend_object_handlers));
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1650
  case 53: {
    memcpy(&date_object_handlers_interval, zend_get_std_object_handlers(),
           sizeof(zend_object_handlers));
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1651
  case 54: {
    memcpy(&date_object_handlers_period, zend_get_std_object_handlers(),
           sizeof(zend_object_handlers));
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1652
  case 55: {
    memcpy(&date_object_handlers_timezone, zend_get_std_object_handlers(),
           sizeof(zend_object_handlers));
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1653
  case 56: {
    memset(t, 0, sizeof(*(t)));
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1654
  case 57: {
    php_date_global_timezone_db = ((void *)0);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1655
  case 58: {
    php_date_global_timezone_db_enabled = 0;
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1656
  case 59: {
    php_date_global_timezone_db_enabled = 1;
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1657
  case 60: {
    php_error_docref0(
        ((void *)0), (1 << 0L),
        "Timezone database is corrupt - this should *never* happen!");
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1658
  case 61: {
    php_error_docref0(((void *)0), (1 << 13L),
                      "The is_dst parameter is deprecated");
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1659
  case 62: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "Can only do this for zones with ID for now");
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1660
  case 63: {
    php_error_docref0(((void *)0), (1 << 1L), "Failed to parse interval (%s)",
                      (format));
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1661
  case 64: {
    php_error_docref0(((void *)0), (1 << 1L), "Failed to parse interval (%s)",
                      (string));
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1662
  case 65: {
    php_error_docref0(
        ((void *)0), (1 << 1L),
        "It is not safe to rely on the system's timezone settings. You are "
        "*required* to use the date.timezone setting or the "
        "date_default_timezone_set() function. In case you used any of those "
        "methods and you are still getting this warning, you most likely "
        "misspelled the timezone identifier. We had to select 'UTC' because "
        "your platform doesn't provide functionality for the guessing "
        "algorithm");
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1663
  case 66: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "Only non-special relative time specifications are "
                      "supported for subtraction");
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1664
  case 67: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The DateInterval object has not been correctly "
                      "initialized by its constructor");
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1665
  case 68: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The DateTime object has not been correctly initialized "
                      "by its constructor");
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1666
  case 69: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The DateTimeZone object has not been correctly "
                      "initialized by its constructor");
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1667
  case 70: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The ISO interval '%s' did not contain a start date.",
                      (format));
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1668
  case 71: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The ISO interval '%s' did not contain a start date.",
                      (string));
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1669
  case 72: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The ISO interval '%s' did not contain an end date or a "
                      "recurrence count.",
                      (format));
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1670
  case 73: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The ISO interval '%s' did not contain an end date or a "
                      "recurrence count.",
                      (string));
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1671
  case 74: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The ISO interval '%s' did not contain an interval.",
                      (format));
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1672
  case 75: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The ISO interval '%s' did not contain an interval.",
                      (string));
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1673
  case 76: {
    php_error_docref0(
        ((void *)0), (1 << 1L),
        "This constructor accepts either (DateTime, DateInterval, int) OR "
        "(DateTime, DateInterval, DateTime) OR (string) as arguments.");
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1674
  case 77: {
    php_error_docref0(((void *)0), (1 << 1L), "Unknown or bad format (%s)",
                      (format));
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1675
  case 78: {
    php_error_docref0(((void *)0), (1 << 1L), "Unknown or bad format (%s)",
                      (string));
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1676
  case 79: {
    php_error_docref0(((void *)0), (1 << 1L), "Unknown or bad timezone (%s)",
                      (format));
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1677
  case 80: {
    php_error_docref0(((void *)0), (1 << 1L), "Unknown or bad timezone (%s)",
                      (string));
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1678
  case 81: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "Unrecognized date format token.");
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1679
  case 82: {
    php_error_docref0(
        ((void *)0), (1 << 1L),
        "Wrong return format given, pick one of SUNFUNCS_RET_TIMESTAMP, "
        "SUNFUNCS_RET_STRING or SUNFUNCS_RET_DOUBLE");
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1680
  case 83: {
    php_error_docref0(((void *)0), (1 << 1L), "idate format is one char");
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1681
  case 84: {
    php_error_docref0(
        ((void *)0), (1 << 3L),
        "A two-letter ISO 3166-1 compatible country code is expected");
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1682
  case 85: {
    php_error_docref0(((void *)0), (1 << 3L), "Timezone ID '%s' is invalid",
                      (format));
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1683
  case 86: {
    php_error_docref0(((void *)0), (1 << 3L), "Timezone ID '%s' is invalid",
                      (string));
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1684
  case 87: {
    php_info_print_table_end();
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1685
  case 88: {
    php_info_print_table_row(2, "Timezone Database",
                             php_date_global_timezone_db_enabled ? "external"
                                                                 : "internal");
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1686
  case 89: {
    php_info_print_table_row(2, "date/time support", "enabled");
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1687
  case 90: {
    php_info_print_table_start();
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1688
  case 91: {
    string = date_format((format), format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1689
  case 92: {
    string = date_format((format), format_len, t, localtime);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1690
  case 93: {
    string = date_format((string), format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1691
  case 94: {
    string = date_format((string), format_len, t, localtime);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1692
  case 95: {
    string = date_format(format, format_len, (t), localtime);

    break;
  }
#endif
#ifdef COMPILE_1693
  case 96: {
    string = date_format(format, format_len, (t), localtime);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1694
  case 97: {
    string = date_format(format, format_len, t, localtime);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1695
  case 98: {
    t = timelib_time_ctor();
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1696
  case 99: {
    t->tz_info = (tzi);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1697
  case 100: {
    t->tz_info = tzi;
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1698
  case 101: {
    t->zone_type = 3;
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1699
  case 102: {
    timelib_error_container_dtor((date_globals.last_errors));
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1700
  case 103: {
    timelib_time_dtor((t));
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1701
  case 104: {
    timelib_time_dtor(t);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1702
  case 105: {
    timelib_unixtime2gmt((t), (timelib_sll)time(((void *)0)));
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1703
  case 106: {
    timelib_unixtime2gmt((t), ts);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1704
  case 107: {
    timelib_unixtime2gmt(t, ts);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1705
  case 108: {
    timelib_unixtime2local((t), (timelib_sll)time(((void *)0)));
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1706
  case 109: {
    timelib_unixtime2local((t), ts);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1707
  case 110: {
    timelib_unixtime2local(t, ts);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1708
  case 111: {
    timelib_update_from_sse((t));
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1709
  case 112: {
    timelib_update_ts((t), ((void *)0));
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1710
  case 113: {
    tzi = ((void *)0);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1711
  case 114: {
    tzi = get_timezone_info();
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1712
  case 115: {
    zend_class_implements(date_ce_period, 1, zend_ce_traversable);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1713
  case 116: {
    zend_declare_class_constant_long(date_ce_period, "EXCLUDE_START_DATE",
                                     sizeof("EXCLUDE_START_DATE") - 1, 1);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1714
  case 117: {
    zend_declare_class_constant_long(date_ce_timezone, "AFRICA",
                                     sizeof("AFRICA") - 1, 1);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1715
  case 118: {
    zend_declare_class_constant_long(date_ce_timezone, "ALL", sizeof("ALL") - 1,
                                     2047);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1716
  case 119: {
    zend_declare_class_constant_long(date_ce_timezone, "ALL_WITH_BC",
                                     sizeof("ALL_WITH_BC") - 1, 4095);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1717
  case 120: {
    zend_declare_class_constant_long(date_ce_timezone, "AMERICA",
                                     sizeof("AMERICA") - 1, 2);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1718
  case 121: {
    zend_declare_class_constant_long(date_ce_timezone, "ANTARCTICA",
                                     sizeof("ANTARCTICA") - 1, 4);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1719
  case 122: {
    zend_declare_class_constant_long(date_ce_timezone, "ARCTIC",
                                     sizeof("ARCTIC") - 1, 8);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1720
  case 123: {
    zend_declare_class_constant_long(date_ce_timezone, "ASIA",
                                     sizeof("ASIA") - 1, 16);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1721
  case 124: {
    zend_declare_class_constant_long(date_ce_timezone, "ATLANTIC",
                                     sizeof("ATLANTIC") - 1, 32);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1722
  case 125: {
    zend_declare_class_constant_long(date_ce_timezone, "AUSTRALIA",
                                     sizeof("AUSTRALIA") - 1, 64);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1723
  case 126: {
    zend_declare_class_constant_long(date_ce_timezone, "EUROPE",
                                     sizeof("EUROPE") - 1, 128);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1724
  case 127: {
    zend_declare_class_constant_long(date_ce_timezone, "INDIAN",
                                     sizeof("INDIAN") - 1, 256);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1725
  case 128: {
    zend_declare_class_constant_long(date_ce_timezone, "PACIFIC",
                                     sizeof("PACIFIC") - 1, 512);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1726
  case 129: {
    zend_declare_class_constant_long(date_ce_timezone, "PER_COUNTRY",
                                     sizeof("PER_COUNTRY") - 1, 4096);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1727
  case 130: {
    zend_declare_class_constant_long(date_ce_timezone, "UTC", sizeof("UTC") - 1,
                                     1024);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1728
  case 131: {
    zend_declare_class_constant_stringl(date_ce_date, "ATOM",
                                        sizeof("ATOM") - 1, "Y-m-d\\TH:i:sP",
                                        sizeof("Y-m-d\\TH:i:sP") - 1);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1729
  case 132: {
    zend_declare_class_constant_stringl(
        date_ce_date, "COOKIE", sizeof("COOKIE") - 1, "l, d-M-y H:i:s T",
        sizeof("l, d-M-y H:i:s T") - 1);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1730
  case 133: {
    zend_declare_class_constant_stringl(date_ce_date, "ISO8601",
                                        sizeof("ISO8601") - 1, "Y-m-d\\TH:i:sO",
                                        sizeof("Y-m-d\\TH:i:sO") - 1);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1731
  case 134: {
    zend_declare_class_constant_stringl(
        date_ce_date, "RFC1036", sizeof("RFC1036") - 1, "D, d M y H:i:s O",
        sizeof("D, d M y H:i:s O") - 1);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1732
  case 135: {
    zend_declare_class_constant_stringl(
        date_ce_date, "RFC1123", sizeof("RFC1123") - 1, "D, d M Y H:i:s O",
        sizeof("D, d M Y H:i:s O") - 1);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1733
  case 136: {
    zend_declare_class_constant_stringl(
        date_ce_date, "RFC2822", sizeof("RFC2822") - 1, "D, d M Y H:i:s O",
        sizeof("D, d M Y H:i:s O") - 1);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1734
  case 137: {
    zend_declare_class_constant_stringl(date_ce_date, "RFC3339",
                                        sizeof("RFC3339") - 1, "Y-m-d\\TH:i:sP",
                                        sizeof("Y-m-d\\TH:i:sP") - 1);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1735
  case 138: {
    zend_declare_class_constant_stringl(
        date_ce_date, "RFC822", sizeof("RFC822") - 1, "D, d M y H:i:s O",
        sizeof("D, d M y H:i:s O") - 1);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1736
  case 139: {
    zend_declare_class_constant_stringl(
        date_ce_date, "RFC850", sizeof("RFC850") - 1, "l, d-M-y H:i:s T",
        sizeof("l, d-M-y H:i:s T") - 1);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1737
  case 140: {
    zend_declare_class_constant_stringl(date_ce_date, "RSS", sizeof("RSS") - 1,
                                        "D, d M Y H:i:s O",
                                        sizeof("D, d M Y H:i:s O") - 1);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1738
  case 141: {
    zend_declare_class_constant_stringl(date_ce_date, "W3C", sizeof("W3C") - 1,
                                        "Y-m-d\\TH:i:sP",
                                        sizeof("Y-m-d\\TH:i:sP") - 1);
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1739
  case 142: {
    zend_error((1 << 0L),
               "An iterator cannot be used with foreach by reference");
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1740
  case 143: {
    zend_error((1 << 3L), "A non well formed numeric value encountered");
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
#ifdef COMPILE_1741
  case 144: {
    zend_hash_destroy((date_globals.tzcache));
    string = date_format(format, format_len, t, localtime);

    break;
  }
#endif
  }

  // prophet generated patch
  switch (__choose("__ID8")) {
  case 0: {
    timelib_time_dtor(t);

    break;
  }
#ifdef COMPILE_1742
  case 1: {
    ((date_globals.tzcache)) = (HashTable *)_emalloc(
        (sizeof(HashTable)), "ext/date/php_date.c", 822, ((void *)0), 0);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1743
  case 2: {
    (date_globals.last_errors) = ((void *)0);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1744
  case 3: {
    (date_globals.timezone) = ((void *)0);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1745
  case 4: {
    (date_globals.timezone) = _estrndup(
        (zone), (zone_len), "ext/date/php_date.c", 3945, ((void *)0), 0);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1746
  case 5: {
    (date_globals.tzcache) = ((void *)0);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1747
  case 6: {
    (executor_globals.argument_stack) =
        zend_vm_stack_new_page(((16 * 1024) - 16));
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1748
  case 7: {
    (format) = date_format(format, format_len, t, localtime);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1749
  case 8: {
    (format)++;
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1750
  case 9: {
    (string) = date_format(format, format_len, t, localtime);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1751
  case 10: {
    (string)++;
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1752
  case 11: {
    (t) = timelib_time_ctor();
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1753
  case 12: {
    (t)->tz_info = tzi;
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1754
  case 13: {
    (t)->zone_type = 3;
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1755
  case 14: {
    (tzi) = ((void *)0);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1756
  case 15: {
    (tzi) = get_timezone_info();
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1757
  case 16: {
    _efree(((date_globals.timezone)), "ext/date/php_date.c", 3942, ((void *)0),
           0);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1758
  case 17: {
    _efree(((date_globals.timezone)), "ext/date/php_date.c", 614, ((void *)0),
           0);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1759
  case 18: {
    _efree(((date_globals.timezone)), "ext/date/php_date.c", 628, ((void *)0),
           0);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1760
  case 19: {
    _efree(((date_globals.tzcache)), "ext/date/php_date.c", 633, ((void *)0),
           0);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1761
  case 20: {
    _efree(((format)), "ext/date/php_date.c", 1413, ((void *)0), 0);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1762
  case 21: {
    _efree(((format)), "ext/date/php_date.c", 1654, ((void *)0), 0);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1763
  case 22: {
    _efree(((format)), "ext/date/php_date.c", 2536, ((void *)0), 0);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1764
  case 23: {
    _efree(((string)), "ext/date/php_date.c", 1413, ((void *)0), 0);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1765
  case 24: {
    _efree(((string)), "ext/date/php_date.c", 1654, ((void *)0), 0);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1766
  case 25: {
    _efree(((string)), "ext/date/php_date.c", 2536, ((void *)0), 0);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1767
  case 26: {
    _zend_hash_init(((date_globals.tzcache)), (4), (((void *)0)),
                    (_php_date_tzinfo_dtor), (0), "ext/date/php_date.c", 823);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1768
  case 27: {
    date_ce_period->get_iterator = date_object_period_get_iterator;
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1769
  case 28: {
    date_ce_period->iterator_funcs.funcs = &date_period_it_funcs;
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1770
  case 29: {
    date_object_handlers_date.clone_obj = date_object_clone_date;
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1771
  case 30: {
    date_object_handlers_date.compare_objects = date_object_compare_date;
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1772
  case 31: {
    date_object_handlers_date.get_properties = date_object_get_properties;
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1773
  case 32: {
    date_object_handlers_interval.clone_obj = date_object_clone_interval;
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1774
  case 33: {
    date_object_handlers_interval.get_properties =
        date_object_get_properties_interval;
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1775
  case 34: {
    date_object_handlers_interval.get_property_ptr_ptr = ((void *)0);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1776
  case 35: {
    date_object_handlers_interval.read_property = date_interval_read_property;
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1777
  case 36: {
    date_object_handlers_interval.write_property = date_interval_write_property;
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1778
  case 37: {
    date_object_handlers_period.clone_obj = date_object_clone_period;
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1779
  case 38: {
    date_object_handlers_timezone.clone_obj = date_object_clone_timezone;
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1780
  case 39: {
    date_register_classes();
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1781
  case 40: {
    exit(1);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1782
  case 41: {
    if (!(date_globals.tzcache)) {
      ((date_globals.tzcache)) = (HashTable *)_emalloc(
          (sizeof(HashTable)), "ext/date/php_date.c", 822, ((void *)0), 0);
      _zend_hash_init(((date_globals.tzcache)), (4), (((void *)0)),
                      (_php_date_tzinfo_dtor), (0), "ext/date/php_date.c", 823);
    }
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1783
  case 42: {
    if ((date_globals.last_errors)) {
      timelib_error_container_dtor((date_globals.last_errors));
      (date_globals.last_errors) = ((void *)0);
    }
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1784
  case 43: {
    if ((date_globals.last_errors)) {
      timelib_error_container_dtor((date_globals.last_errors));
    }
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1785
  case 44: {
    if ((date_globals.timezone) && (strlen((date_globals.timezone)) > 0)) {
      return (date_globals.timezone);
    }
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1786
  case 45: {
    if ((date_globals.timezone)) {
      _efree(((date_globals.timezone)), "ext/date/php_date.c", 3942,
             ((void *)0), 0);
      (date_globals.timezone) = ((void *)0);
    }
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1787
  case 46: {
    if ((date_globals.timezone)) {
      _efree(((date_globals.timezone)), "ext/date/php_date.c", 614, ((void *)0),
             0);
    }
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1788
  case 47: {
    if ((date_globals.timezone)) {
      _efree(((date_globals.timezone)), "ext/date/php_date.c", 628, ((void *)0),
             0);
    }
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1789
  case 48: {
    if ((date_globals.tzcache)) {
      zend_hash_destroy((date_globals.tzcache));
      _efree(((date_globals.tzcache)), "ext/date/php_date.c", 633, ((void *)0),
             0);
      (date_globals.tzcache) = ((void *)0);
    }
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1790
  case 49: {
    if (localtime) {
      tzi = get_timezone_info();
      t->tz_info = tzi;
      t->zone_type = 3;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = ((void *)0);
      timelib_unixtime2gmt(t, ts);
    }
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1791
  case 50: {
    memcpy(&date_object_handlers_date, zend_get_std_object_handlers(),
           sizeof(zend_object_handlers));
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1792
  case 51: {
    memcpy(&date_object_handlers_interval, zend_get_std_object_handlers(),
           sizeof(zend_object_handlers));
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1793
  case 52: {
    memcpy(&date_object_handlers_period, zend_get_std_object_handlers(),
           sizeof(zend_object_handlers));
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1794
  case 53: {
    memcpy(&date_object_handlers_timezone, zend_get_std_object_handlers(),
           sizeof(zend_object_handlers));
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1795
  case 54: {
    memset(t, 0, sizeof(*(t)));
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1796
  case 55: {
    php_date_global_timezone_db = ((void *)0);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1797
  case 56: {
    php_date_global_timezone_db_enabled = 0;
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1798
  case 57: {
    php_date_global_timezone_db_enabled = 1;
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1799
  case 58: {
    php_error_docref0(
        ((void *)0), (1 << 0L),
        "Timezone database is corrupt - this should *never* happen!");
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1800
  case 59: {
    php_error_docref0(((void *)0), (1 << 13L),
                      "The is_dst parameter is deprecated");
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1801
  case 60: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "Can only do this for zones with ID for now");
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1802
  case 61: {
    php_error_docref0(((void *)0), (1 << 1L), "Failed to parse interval (%s)",
                      (format));
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1803
  case 62: {
    php_error_docref0(((void *)0), (1 << 1L), "Failed to parse interval (%s)",
                      (string));
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1804
  case 63: {
    php_error_docref0(
        ((void *)0), (1 << 1L),
        "It is not safe to rely on the system's timezone settings. You are "
        "*required* to use the date.timezone setting or the "
        "date_default_timezone_set() function. In case you used any of those "
        "methods and you are still getting this warning, you most likely "
        "misspelled the timezone identifier. We had to select 'UTC' because "
        "your platform doesn't provide functionality for the guessing "
        "algorithm");
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1805
  case 64: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "Only non-special relative time specifications are "
                      "supported for subtraction");
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1806
  case 65: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The DateInterval object has not been correctly "
                      "initialized by its constructor");
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1807
  case 66: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The DateTime object has not been correctly initialized "
                      "by its constructor");
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1808
  case 67: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The DateTimeZone object has not been correctly "
                      "initialized by its constructor");
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1809
  case 68: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The ISO interval '%s' did not contain a start date.",
                      (format));
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1810
  case 69: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The ISO interval '%s' did not contain a start date.",
                      (string));
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1811
  case 70: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The ISO interval '%s' did not contain an end date or a "
                      "recurrence count.",
                      (format));
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1812
  case 71: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The ISO interval '%s' did not contain an end date or a "
                      "recurrence count.",
                      (string));
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1813
  case 72: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The ISO interval '%s' did not contain an interval.",
                      (format));
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1814
  case 73: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The ISO interval '%s' did not contain an interval.",
                      (string));
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1815
  case 74: {
    php_error_docref0(
        ((void *)0), (1 << 1L),
        "This constructor accepts either (DateTime, DateInterval, int) OR "
        "(DateTime, DateInterval, DateTime) OR (string) as arguments.");
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1816
  case 75: {
    php_error_docref0(((void *)0), (1 << 1L), "Unknown or bad format (%s)",
                      (format));
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1817
  case 76: {
    php_error_docref0(((void *)0), (1 << 1L), "Unknown or bad format (%s)",
                      (string));
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1818
  case 77: {
    php_error_docref0(((void *)0), (1 << 1L), "Unknown or bad timezone (%s)",
                      (format));
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1819
  case 78: {
    php_error_docref0(((void *)0), (1 << 1L), "Unknown or bad timezone (%s)",
                      (string));
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1820
  case 79: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "Unrecognized date format token.");
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1821
  case 80: {
    php_error_docref0(
        ((void *)0), (1 << 1L),
        "Wrong return format given, pick one of SUNFUNCS_RET_TIMESTAMP, "
        "SUNFUNCS_RET_STRING or SUNFUNCS_RET_DOUBLE");
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1822
  case 81: {
    php_error_docref0(((void *)0), (1 << 1L), "idate format is one char");
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1823
  case 82: {
    php_error_docref0(
        ((void *)0), (1 << 3L),
        "A two-letter ISO 3166-1 compatible country code is expected");
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1824
  case 83: {
    php_error_docref0(((void *)0), (1 << 3L), "Timezone ID '%s' is invalid",
                      (format));
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1825
  case 84: {
    php_error_docref0(((void *)0), (1 << 3L), "Timezone ID '%s' is invalid",
                      (string));
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1826
  case 85: {
    php_info_print_table_end();
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1827
  case 86: {
    php_info_print_table_row(2, "Timezone Database",
                             php_date_global_timezone_db_enabled ? "external"
                                                                 : "internal");
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1828
  case 87: {
    php_info_print_table_row(2, "date/time support", "enabled");
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1829
  case 88: {
    php_info_print_table_start();
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1830
  case 89: {
    string = date_format((format), format_len, t, localtime);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1831
  case 90: {
    string = date_format((string), format_len, t, localtime);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1832
  case 91: {
    string = date_format(format, format_len, (t), localtime);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1833
  case 92: {
    string = date_format(format, format_len, t, localtime);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1834
  case 93: {
    t = timelib_time_ctor();
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1835
  case 94: {
    t->tz_info = (tzi);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1836
  case 95: {
    t->tz_info = tzi;
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1837
  case 96: {
    t->zone_type = 3;
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1838
  case 97: {
    timelib_error_container_dtor((date_globals.last_errors));
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1839
  case 98: {
    timelib_get_current_offset(t);

    break;
  }
#endif
#ifdef COMPILE_1840
  case 99: {
    timelib_time_clone(t);

    break;
  }
#endif
#ifdef COMPILE_1841
  case 100: {
    timelib_time_dtor((t));

    break;
  }
#endif
#ifdef COMPILE_1842
  case 101: {
    timelib_time_dtor((t));
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1843
  case 102: {
    timelib_time_dtor(t);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1844
  case 103: {
    timelib_unixtime2gmt((t), (timelib_sll)time(((void *)0)));
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1845
  case 104: {
    timelib_unixtime2gmt((t), ts);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1846
  case 105: {
    timelib_unixtime2gmt(t, ts);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1847
  case 106: {
    timelib_unixtime2local((t), (timelib_sll)time(((void *)0)));
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1848
  case 107: {
    timelib_unixtime2local((t), ts);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1849
  case 108: {
    timelib_unixtime2local(t, ts);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1850
  case 109: {
    timelib_update_from_sse((t));
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1851
  case 110: {
    timelib_update_from_sse(t);

    break;
  }
#endif
#ifdef COMPILE_1852
  case 111: {
    timelib_update_ts((t), ((void *)0));
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1853
  case 112: {
    tzi = ((void *)0);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1854
  case 113: {
    tzi = get_timezone_info();
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1855
  case 114: {
    zend_class_implements(date_ce_period, 1, zend_ce_traversable);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1856
  case 115: {
    zend_declare_class_constant_long(date_ce_period, "EXCLUDE_START_DATE",
                                     sizeof("EXCLUDE_START_DATE") - 1, 1);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1857
  case 116: {
    zend_declare_class_constant_long(date_ce_timezone, "AFRICA",
                                     sizeof("AFRICA") - 1, 1);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1858
  case 117: {
    zend_declare_class_constant_long(date_ce_timezone, "ALL", sizeof("ALL") - 1,
                                     2047);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1859
  case 118: {
    zend_declare_class_constant_long(date_ce_timezone, "ALL_WITH_BC",
                                     sizeof("ALL_WITH_BC") - 1, 4095);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1860
  case 119: {
    zend_declare_class_constant_long(date_ce_timezone, "AMERICA",
                                     sizeof("AMERICA") - 1, 2);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1861
  case 120: {
    zend_declare_class_constant_long(date_ce_timezone, "ANTARCTICA",
                                     sizeof("ANTARCTICA") - 1, 4);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1862
  case 121: {
    zend_declare_class_constant_long(date_ce_timezone, "ARCTIC",
                                     sizeof("ARCTIC") - 1, 8);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1863
  case 122: {
    zend_declare_class_constant_long(date_ce_timezone, "ASIA",
                                     sizeof("ASIA") - 1, 16);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1864
  case 123: {
    zend_declare_class_constant_long(date_ce_timezone, "ATLANTIC",
                                     sizeof("ATLANTIC") - 1, 32);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1865
  case 124: {
    zend_declare_class_constant_long(date_ce_timezone, "AUSTRALIA",
                                     sizeof("AUSTRALIA") - 1, 64);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1866
  case 125: {
    zend_declare_class_constant_long(date_ce_timezone, "EUROPE",
                                     sizeof("EUROPE") - 1, 128);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1867
  case 126: {
    zend_declare_class_constant_long(date_ce_timezone, "INDIAN",
                                     sizeof("INDIAN") - 1, 256);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1868
  case 127: {
    zend_declare_class_constant_long(date_ce_timezone, "PACIFIC",
                                     sizeof("PACIFIC") - 1, 512);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1869
  case 128: {
    zend_declare_class_constant_long(date_ce_timezone, "PER_COUNTRY",
                                     sizeof("PER_COUNTRY") - 1, 4096);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1870
  case 129: {
    zend_declare_class_constant_long(date_ce_timezone, "UTC", sizeof("UTC") - 1,
                                     1024);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1871
  case 130: {
    zend_declare_class_constant_stringl(date_ce_date, "ATOM",
                                        sizeof("ATOM") - 1, "Y-m-d\\TH:i:sP",
                                        sizeof("Y-m-d\\TH:i:sP") - 1);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1872
  case 131: {
    zend_declare_class_constant_stringl(
        date_ce_date, "COOKIE", sizeof("COOKIE") - 1, "l, d-M-y H:i:s T",
        sizeof("l, d-M-y H:i:s T") - 1);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1873
  case 132: {
    zend_declare_class_constant_stringl(date_ce_date, "ISO8601",
                                        sizeof("ISO8601") - 1, "Y-m-d\\TH:i:sO",
                                        sizeof("Y-m-d\\TH:i:sO") - 1);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1874
  case 133: {
    zend_declare_class_constant_stringl(
        date_ce_date, "RFC1036", sizeof("RFC1036") - 1, "D, d M y H:i:s O",
        sizeof("D, d M y H:i:s O") - 1);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1875
  case 134: {
    zend_declare_class_constant_stringl(
        date_ce_date, "RFC1123", sizeof("RFC1123") - 1, "D, d M Y H:i:s O",
        sizeof("D, d M Y H:i:s O") - 1);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1876
  case 135: {
    zend_declare_class_constant_stringl(
        date_ce_date, "RFC2822", sizeof("RFC2822") - 1, "D, d M Y H:i:s O",
        sizeof("D, d M Y H:i:s O") - 1);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1877
  case 136: {
    zend_declare_class_constant_stringl(date_ce_date, "RFC3339",
                                        sizeof("RFC3339") - 1, "Y-m-d\\TH:i:sP",
                                        sizeof("Y-m-d\\TH:i:sP") - 1);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1878
  case 137: {
    zend_declare_class_constant_stringl(
        date_ce_date, "RFC822", sizeof("RFC822") - 1, "D, d M y H:i:s O",
        sizeof("D, d M y H:i:s O") - 1);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1879
  case 138: {
    zend_declare_class_constant_stringl(
        date_ce_date, "RFC850", sizeof("RFC850") - 1, "l, d-M-y H:i:s T",
        sizeof("l, d-M-y H:i:s T") - 1);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1880
  case 139: {
    zend_declare_class_constant_stringl(date_ce_date, "RSS", sizeof("RSS") - 1,
                                        "D, d M Y H:i:s O",
                                        sizeof("D, d M Y H:i:s O") - 1);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1881
  case 140: {
    zend_declare_class_constant_stringl(date_ce_date, "W3C", sizeof("W3C") - 1,
                                        "Y-m-d\\TH:i:sP",
                                        sizeof("Y-m-d\\TH:i:sP") - 1);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1882
  case 141: {
    zend_error((1 << 0L),
               "An iterator cannot be used with foreach by reference");
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1883
  case 142: {
    zend_error((1 << 3L), "A non well formed numeric value encountered");
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_1884
  case 143: {
    zend_hash_destroy((date_globals.tzcache));
    timelib_time_dtor(t);

    break;
  }
#endif
  }
  return string;
}
/* }}} */

/* {{{ php_idate
 */
PHPAPI int php_idate(char format, time_t ts, int localtime TSRMLS_DC) {
  timelib_time *t;
  timelib_tzinfo *tzi;
  int retval = -1;
  timelib_time_offset *offset = NULL;
  timelib_sll isoweek, isoyear;

  // prophet generated patch
  switch (__choose("__ID9")) {
  case 0: {
    t = timelib_time_ctor();

    break;
  }
#ifdef COMPILE_1885
  case 1: {
    ((date_globals.tzcache)) = (HashTable *)_emalloc(
        (sizeof(HashTable)), "ext/date/php_date.c", 822, ((void *)0), 0);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1886
  case 2: {
    (date_globals.last_errors) = ((void *)0);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1887
  case 3: {
    (date_globals.timezone) = ((void *)0);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1888
  case 4: {
    (date_globals.timezone) = _estrndup(
        (zone), (zone_len), "ext/date/php_date.c", 3945, ((void *)0), 0);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1889
  case 5: {
    (date_globals.tzcache) = ((void *)0);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1890
  case 6: {
    (executor_globals.argument_stack) =
        zend_vm_stack_new_page(((16 * 1024) - 16));
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1891
  case 7: {
    (offset) = timelib_get_time_zone_info(t->sse, t->tz_info);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1892
  case 8: {
    (offset) = timelib_time_offset_ctor();
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1893
  case 9: {
    (offset)->abbr = malloc(9);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1894
  case 10: {
    (offset)->abbr = strdup(t->tz_abbr);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1895
  case 11: {
    (offset)->is_dst = t->dst;
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1896
  case 12: {
    (offset)->leap_secs = 0;
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1897
  case 13: {
    (offset)->offset = (t->z - (t->dst * 60)) * -60;
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1898
  case 14: {
    (t) = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1899
  case 15: {
    (t) = timelib_time_ctor();
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1900
  case 16: {
    (t)->tz_info = tzi;
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1901
  case 17: {
    (t)->zone_type = 3;
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1902
  case 18: {
    (tzi) = ((void *)0);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1903
  case 19: {
    (tzi) = get_timezone_info();
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1904
  case 20: {
    _efree(((date_globals.timezone)), "ext/date/php_date.c", 3942, ((void *)0),
           0);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1905
  case 21: {
    _efree(((date_globals.timezone)), "ext/date/php_date.c", 614, ((void *)0),
           0);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1906
  case 22: {
    _efree(((date_globals.timezone)), "ext/date/php_date.c", 628, ((void *)0),
           0);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1907
  case 23: {
    _efree(((date_globals.tzcache)), "ext/date/php_date.c", 633, ((void *)0),
           0);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1908
  case 24: {
    _zend_hash_init(((date_globals.tzcache)), (4), (((void *)0)),
                    (_php_date_tzinfo_dtor), (0), "ext/date/php_date.c", 823);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1909
  case 25: {
    ap_php_snprintf((offset)->abbr, 9, "GMT%c%02d%02d",
                    !localtime ? ((offset->offset < 0) ? '-' : '+') : '+',
                    !localtime ? abs(offset->offset / 3600) : 0,
                    !localtime ? abs((offset->offset % 3600) / 60) : 0);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1910
  case 26: {
    ap_php_snprintf(offset->abbr, 9, "GMT%c%02d%02d",
                    !localtime ? (((offset)->offset < 0) ? '-' : '+') : '+',
                    !localtime ? abs(offset->offset / 3600) : 0,
                    !localtime ? abs((offset->offset % 3600) / 60) : 0);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1911
  case 27: {
    ap_php_snprintf(offset->abbr, 9, "GMT%c%02d%02d",
                    !localtime ? ((offset->offset < 0) ? '-' : '+') : '+',
                    !localtime ? abs((offset)->offset / 3600) : 0,
                    !localtime ? abs((offset->offset % 3600) / 60) : 0);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1912
  case 28: {
    ap_php_snprintf(offset->abbr, 9, "GMT%c%02d%02d",
                    !localtime ? ((offset->offset < 0) ? '-' : '+') : '+',
                    !localtime ? abs(offset->offset / 3600) : 0,
                    !localtime ? abs(((offset)->offset % 3600) / 60) : 0);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1913
  case 29: {
    ap_php_snprintf(offset->abbr, 9, "GMT%c%02d%02d",
                    !localtime ? ((offset->offset < 0) ? '-' : '+') : '+',
                    !localtime ? abs(offset->offset / 3600) : 0,
                    !localtime ? abs((offset->offset % 3600) / 60) : 0);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1914
  case 30: {
    date_ce_period->get_iterator = date_object_period_get_iterator;
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1915
  case 31: {
    date_ce_period->iterator_funcs.funcs = &date_period_it_funcs;
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1916
  case 32: {
    date_object_handlers_date.clone_obj = date_object_clone_date;
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1917
  case 33: {
    date_object_handlers_date.compare_objects = date_object_compare_date;
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1918
  case 34: {
    date_object_handlers_date.get_properties = date_object_get_properties;
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1919
  case 35: {
    date_object_handlers_interval.clone_obj = date_object_clone_interval;
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1920
  case 36: {
    date_object_handlers_interval.get_properties =
        date_object_get_properties_interval;
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1921
  case 37: {
    date_object_handlers_interval.get_property_ptr_ptr = ((void *)0);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1922
  case 38: {
    date_object_handlers_interval.read_property = date_interval_read_property;
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1923
  case 39: {
    date_object_handlers_interval.write_property = date_interval_write_property;
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1924
  case 40: {
    date_object_handlers_period.clone_obj = date_object_clone_period;
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1925
  case 41: {
    date_object_handlers_timezone.clone_obj = date_object_clone_timezone;
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1926
  case 42: {
    date_register_classes();
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1927
  case 43: {
    exit(1);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1928
  case 44: {
    if (!(date_globals.tzcache)) {
      ((date_globals.tzcache)) = (HashTable *)_emalloc(
          (sizeof(HashTable)), "ext/date/php_date.c", 822, ((void *)0), 0);
      _zend_hash_init(((date_globals.tzcache)), (4), (((void *)0)),
                      (_php_date_tzinfo_dtor), (0), "ext/date/php_date.c", 823);
    }
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1929
  case 45: {
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1930
  case 46: {
    if (!localtime) {
      tzi = get_timezone_info();
      t->tz_info = tzi;
      t->zone_type = 3;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = ((void *)0);
      timelib_unixtime2gmt(t, ts);
    }
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1931
  case 47: {
    if ((date_globals.last_errors)) {
      timelib_error_container_dtor((date_globals.last_errors));
      (date_globals.last_errors) = ((void *)0);
    }
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1932
  case 48: {
    if ((date_globals.last_errors)) {
      timelib_error_container_dtor((date_globals.last_errors));
    }
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1933
  case 49: {
    if ((date_globals.timezone) && (strlen((date_globals.timezone)) > 0)) {
      return (date_globals.timezone);
    }
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1934
  case 50: {
    if ((date_globals.timezone)) {
      _efree(((date_globals.timezone)), "ext/date/php_date.c", 3942,
             ((void *)0), 0);
      (date_globals.timezone) = ((void *)0);
    }
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1935
  case 51: {
    if ((date_globals.timezone)) {
      _efree(((date_globals.timezone)), "ext/date/php_date.c", 614, ((void *)0),
             0);
    }
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1936
  case 52: {
    if ((date_globals.timezone)) {
      _efree(((date_globals.timezone)), "ext/date/php_date.c", 628, ((void *)0),
             0);
    }
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1937
  case 53: {
    if ((date_globals.tzcache)) {
      zend_hash_destroy((date_globals.tzcache));
      _efree(((date_globals.tzcache)), "ext/date/php_date.c", 633, ((void *)0),
             0);
      (date_globals.tzcache) = ((void *)0);
    }
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1938
  case 54: {
    if (t->zone_type == 1) {
      offset = timelib_time_offset_ctor();
      offset->offset = (t->z - (t->dst * 60)) * -60;
      offset->leap_secs = 0;
      offset->is_dst = t->dst;
      offset->abbr = malloc(9);
      ap_php_snprintf(offset->abbr, 9, "GMT%c%02d%02d",
                      !localtime ? ((offset->offset < 0) ? '-' : '+') : '+',
                      !localtime ? abs(offset->offset / 3600) : 0,
                      !localtime ? abs((offset->offset % 3600) / 60) : 0);
    } else {
      offset = timelib_get_time_zone_info(t->sse, t->tz_info);
    }
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1939
  case 55: {
    memcpy(&date_object_handlers_date, zend_get_std_object_handlers(),
           sizeof(zend_object_handlers));
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1940
  case 56: {
    memcpy(&date_object_handlers_interval, zend_get_std_object_handlers(),
           sizeof(zend_object_handlers));
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1941
  case 57: {
    memcpy(&date_object_handlers_period, zend_get_std_object_handlers(),
           sizeof(zend_object_handlers));
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1942
  case 58: {
    memcpy(&date_object_handlers_timezone, zend_get_std_object_handlers(),
           sizeof(zend_object_handlers));
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1943
  case 59: {
    memset(t, 0, sizeof(*(t)));
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1944
  case 60: {
    offset = timelib_get_time_zone_info((t)->sse, t->tz_info);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1945
  case 61: {
    offset = timelib_get_time_zone_info(t->sse, (t)->tz_info);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1946
  case 62: {
    offset = timelib_get_time_zone_info(t->sse, t->tz_info);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1947
  case 63: {
    offset = timelib_time_offset_ctor();
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1948
  case 64: {
    offset->abbr = malloc(9);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1949
  case 65: {
    offset->abbr = strdup((t)->tz_abbr);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1950
  case 66: {
    offset->abbr = strdup(t->tz_abbr);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1951
  case 67: {
    offset->is_dst = (t)->dst;
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1952
  case 68: {
    offset->is_dst = t->dst;
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1953
  case 69: {
    offset->leap_secs = 0;
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1954
  case 70: {
    offset->offset = ((t)->z - (t->dst * 60)) * -60;
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1955
  case 71: {
    offset->offset = (t->z - ((t)->dst * 60)) * -60;
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1956
  case 72: {
    offset->offset = (t->z - (t->dst * 60)) * -60;
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1957
  case 73: {
    php_date_global_timezone_db = ((void *)0);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1958
  case 74: {
    php_date_global_timezone_db_enabled = 0;
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1959
  case 75: {
    php_date_global_timezone_db_enabled = 1;
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1960
  case 76: {
    php_error_docref0(
        ((void *)0), (1 << 0L),
        "Timezone database is corrupt - this should *never* happen!");
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1961
  case 77: {
    php_error_docref0(((void *)0), (1 << 13L),
                      "The is_dst parameter is deprecated");
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1962
  case 78: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "Can only do this for zones with ID for now");
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1963
  case 79: {
    php_error_docref0(
        ((void *)0), (1 << 1L),
        "It is not safe to rely on the system's timezone settings. You are "
        "*required* to use the date.timezone setting or the "
        "date_default_timezone_set() function. In case you used any of those "
        "methods and you are still getting this warning, you most likely "
        "misspelled the timezone identifier. We had to select 'UTC' because "
        "your platform doesn't provide functionality for the guessing "
        "algorithm");
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1964
  case 80: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "Only non-special relative time specifications are "
                      "supported for subtraction");
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1965
  case 81: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The DateInterval object has not been correctly "
                      "initialized by its constructor");
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1966
  case 82: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The DateTime object has not been correctly initialized "
                      "by its constructor");
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1967
  case 83: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The DateTimeZone object has not been correctly "
                      "initialized by its constructor");
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1968
  case 84: {
    php_error_docref0(
        ((void *)0), (1 << 1L),
        "This constructor accepts either (DateTime, DateInterval, int) OR "
        "(DateTime, DateInterval, DateTime) OR (string) as arguments.");
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1969
  case 85: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "Unrecognized date format token.");
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1970
  case 86: {
    php_error_docref0(
        ((void *)0), (1 << 1L),
        "Wrong return format given, pick one of SUNFUNCS_RET_TIMESTAMP, "
        "SUNFUNCS_RET_STRING or SUNFUNCS_RET_DOUBLE");
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1971
  case 87: {
    php_error_docref0(((void *)0), (1 << 1L), "idate format is one char");
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1972
  case 88: {
    php_error_docref0(
        ((void *)0), (1 << 3L),
        "A two-letter ISO 3166-1 compatible country code is expected");
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1973
  case 89: {
    php_info_print_table_end();
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1974
  case 90: {
    php_info_print_table_row(2, "Timezone Database",
                             php_date_global_timezone_db_enabled ? "external"
                                                                 : "internal");
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1975
  case 91: {
    php_info_print_table_row(2, "date/time support", "enabled");
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1976
  case 92: {
    php_info_print_table_start();
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1977
  case 93: {
    retval = retval % 1000;
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1978
  case 94: {
    t = timelib_time_ctor();
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1979
  case 95: {
    t->tz_info = (tzi);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1980
  case 96: {
    t->tz_info = tzi;
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1981
  case 97: {
    t->zone_type = 3;
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1982
  case 98: {
    timelib_error_container_dtor((date_globals.last_errors));
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1983
  case 99: {
    timelib_isoweek_from_date((t)->y, t->m, t->d, &isoweek, &isoyear);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1984
  case 100: {
    timelib_isoweek_from_date(t->y, (t)->m, t->d, &isoweek, &isoyear);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1985
  case 101: {
    timelib_isoweek_from_date(t->y, t->m, (t)->d, &isoweek, &isoyear);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1986
  case 102: {
    timelib_isoweek_from_date(t->y, t->m, t->d, &isoweek, &isoyear);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1987
  case 103: {
    timelib_time_dtor((t));
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1988
  case 104: {
    timelib_time_dtor(t);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1989
  case 105: {
    timelib_time_offset_dtor((offset));
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1990
  case 106: {
    timelib_time_offset_dtor(offset);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1991
  case 107: {
    timelib_unixtime2gmt((t), (timelib_sll)time(((void *)0)));
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1992
  case 108: {
    timelib_unixtime2gmt((t), ts);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1993
  case 109: {
    timelib_unixtime2gmt(t, ts);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1994
  case 110: {
    timelib_unixtime2local((t), (timelib_sll)time(((void *)0)));
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1995
  case 111: {
    timelib_unixtime2local((t), ts);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1996
  case 112: {
    timelib_unixtime2local(t, ts);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1997
  case 113: {
    timelib_update_from_sse((t));
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1998
  case 114: {
    timelib_update_ts((t), ((void *)0));
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_1999
  case 115: {
    tzi = ((void *)0);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_2000
  case 116: {
    tzi = get_timezone_info();
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_2001
  case 117: {
    zend_class_implements(date_ce_period, 1, zend_ce_traversable);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_2002
  case 118: {
    zend_declare_class_constant_long(date_ce_period, "EXCLUDE_START_DATE",
                                     sizeof("EXCLUDE_START_DATE") - 1, 1);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_2003
  case 119: {
    zend_declare_class_constant_long(date_ce_timezone, "AFRICA",
                                     sizeof("AFRICA") - 1, 1);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_2004
  case 120: {
    zend_declare_class_constant_long(date_ce_timezone, "ALL", sizeof("ALL") - 1,
                                     2047);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_2005
  case 121: {
    zend_declare_class_constant_long(date_ce_timezone, "ALL_WITH_BC",
                                     sizeof("ALL_WITH_BC") - 1, 4095);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_2006
  case 122: {
    zend_declare_class_constant_long(date_ce_timezone, "AMERICA",
                                     sizeof("AMERICA") - 1, 2);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_2007
  case 123: {
    zend_declare_class_constant_long(date_ce_timezone, "ANTARCTICA",
                                     sizeof("ANTARCTICA") - 1, 4);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_2008
  case 124: {
    zend_declare_class_constant_long(date_ce_timezone, "ARCTIC",
                                     sizeof("ARCTIC") - 1, 8);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_2009
  case 125: {
    zend_declare_class_constant_long(date_ce_timezone, "ASIA",
                                     sizeof("ASIA") - 1, 16);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_2010
  case 126: {
    zend_declare_class_constant_long(date_ce_timezone, "ATLANTIC",
                                     sizeof("ATLANTIC") - 1, 32);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_2011
  case 127: {
    zend_declare_class_constant_long(date_ce_timezone, "AUSTRALIA",
                                     sizeof("AUSTRALIA") - 1, 64);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_2012
  case 128: {
    zend_declare_class_constant_long(date_ce_timezone, "EUROPE",
                                     sizeof("EUROPE") - 1, 128);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_2013
  case 129: {
    zend_declare_class_constant_long(date_ce_timezone, "INDIAN",
                                     sizeof("INDIAN") - 1, 256);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_2014
  case 130: {
    zend_declare_class_constant_long(date_ce_timezone, "PACIFIC",
                                     sizeof("PACIFIC") - 1, 512);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_2015
  case 131: {
    zend_declare_class_constant_long(date_ce_timezone, "PER_COUNTRY",
                                     sizeof("PER_COUNTRY") - 1, 4096);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_2016
  case 132: {
    zend_declare_class_constant_long(date_ce_timezone, "UTC", sizeof("UTC") - 1,
                                     1024);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_2017
  case 133: {
    zend_declare_class_constant_stringl(date_ce_date, "ATOM",
                                        sizeof("ATOM") - 1, "Y-m-d\\TH:i:sP",
                                        sizeof("Y-m-d\\TH:i:sP") - 1);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_2018
  case 134: {
    zend_declare_class_constant_stringl(
        date_ce_date, "COOKIE", sizeof("COOKIE") - 1, "l, d-M-y H:i:s T",
        sizeof("l, d-M-y H:i:s T") - 1);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_2019
  case 135: {
    zend_declare_class_constant_stringl(date_ce_date, "ISO8601",
                                        sizeof("ISO8601") - 1, "Y-m-d\\TH:i:sO",
                                        sizeof("Y-m-d\\TH:i:sO") - 1);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_2020
  case 136: {
    zend_declare_class_constant_stringl(
        date_ce_date, "RFC1036", sizeof("RFC1036") - 1, "D, d M y H:i:s O",
        sizeof("D, d M y H:i:s O") - 1);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_2021
  case 137: {
    zend_declare_class_constant_stringl(
        date_ce_date, "RFC1123", sizeof("RFC1123") - 1, "D, d M Y H:i:s O",
        sizeof("D, d M Y H:i:s O") - 1);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_2022
  case 138: {
    zend_declare_class_constant_stringl(
        date_ce_date, "RFC2822", sizeof("RFC2822") - 1, "D, d M Y H:i:s O",
        sizeof("D, d M Y H:i:s O") - 1);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_2023
  case 139: {
    zend_declare_class_constant_stringl(date_ce_date, "RFC3339",
                                        sizeof("RFC3339") - 1, "Y-m-d\\TH:i:sP",
                                        sizeof("Y-m-d\\TH:i:sP") - 1);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_2024
  case 140: {
    zend_declare_class_constant_stringl(
        date_ce_date, "RFC822", sizeof("RFC822") - 1, "D, d M y H:i:s O",
        sizeof("D, d M y H:i:s O") - 1);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_2025
  case 141: {
    zend_declare_class_constant_stringl(
        date_ce_date, "RFC850", sizeof("RFC850") - 1, "l, d-M-y H:i:s T",
        sizeof("l, d-M-y H:i:s T") - 1);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_2026
  case 142: {
    zend_declare_class_constant_stringl(date_ce_date, "RSS", sizeof("RSS") - 1,
                                        "D, d M Y H:i:s O",
                                        sizeof("D, d M Y H:i:s O") - 1);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_2027
  case 143: {
    zend_declare_class_constant_stringl(date_ce_date, "W3C", sizeof("W3C") - 1,
                                        "Y-m-d\\TH:i:sP",
                                        sizeof("Y-m-d\\TH:i:sP") - 1);
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_2028
  case 144: {
    zend_error((1 << 0L),
               "An iterator cannot be used with foreach by reference");
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_2029
  case 145: {
    zend_error((1 << 3L), "A non well formed numeric value encountered");
    t = timelib_time_ctor();

    break;
  }
#endif
#ifdef COMPILE_2030
  case 146: {
    zend_hash_destroy((date_globals.tzcache));
    t = timelib_time_ctor();

    break;
  }
#endif
  }

  // prophet generated patch
  switch (__choose("__ID10")) {
  case 0: {
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#ifdef COMPILE_2031
  case 1: {
    ((date_globals.tzcache)) = (HashTable *)_emalloc(
        (sizeof(HashTable)), "ext/date/php_date.c", 822, ((void *)0), 0);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2032
  case 2: {
    (date_globals.last_errors) = ((void *)0);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2033
  case 3: {
    (date_globals.timezone) = ((void *)0);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2034
  case 4: {
    (date_globals.timezone) = _estrndup(
        (zone), (zone_len), "ext/date/php_date.c", 3945, ((void *)0), 0);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2035
  case 5: {
    (date_globals.tzcache) = ((void *)0);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2036
  case 6: {
    (executor_globals.argument_stack) =
        zend_vm_stack_new_page(((16 * 1024) - 16));
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2037
  case 7: {
    (offset) = timelib_get_time_zone_info(t->sse, t->tz_info);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2038
  case 8: {
    (offset) = timelib_time_offset_ctor();
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2039
  case 9: {
    (offset)->abbr = malloc(9);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2040
  case 10: {
    (offset)->abbr = strdup(t->tz_abbr);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2041
  case 11: {
    (offset)->is_dst = t->dst;
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2042
  case 12: {
    (offset)->leap_secs = 0;
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2043
  case 13: {
    (offset)->offset = (t->z - (t->dst * 60)) * -60;
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2044
  case 14: {
    (t) = timelib_time_ctor();
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2045
  case 15: {
    (t)->tz_info = tzi;
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2046
  case 16: {
    (t)->zone_type = 3;
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2047
  case 17: {
    (tzi) = ((void *)0);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2048
  case 18: {
    (tzi) = get_timezone_info();
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2049
  case 19: {
    _efree(((date_globals.timezone)), "ext/date/php_date.c", 3942, ((void *)0),
           0);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2050
  case 20: {
    _efree(((date_globals.timezone)), "ext/date/php_date.c", 614, ((void *)0),
           0);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2051
  case 21: {
    _efree(((date_globals.timezone)), "ext/date/php_date.c", 628, ((void *)0),
           0);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2052
  case 22: {
    _efree(((date_globals.tzcache)), "ext/date/php_date.c", 633, ((void *)0),
           0);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2053
  case 23: {
    _zend_hash_init(((date_globals.tzcache)), (4), (((void *)0)),
                    (_php_date_tzinfo_dtor), (0), "ext/date/php_date.c", 823);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2054
  case 24: {
    ap_php_snprintf((offset)->abbr, 9, "GMT%c%02d%02d",
                    !localtime ? ((offset->offset < 0) ? '-' : '+') : '+',
                    !localtime ? abs(offset->offset / 3600) : 0,
                    !localtime ? abs((offset->offset % 3600) / 60) : 0);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2055
  case 25: {
    ap_php_snprintf(offset->abbr, 9, "GMT%c%02d%02d",
                    !localtime ? (((offset)->offset < 0) ? '-' : '+') : '+',
                    !localtime ? abs(offset->offset / 3600) : 0,
                    !localtime ? abs((offset->offset % 3600) / 60) : 0);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2056
  case 26: {
    ap_php_snprintf(offset->abbr, 9, "GMT%c%02d%02d",
                    !localtime ? ((offset->offset < 0) ? '-' : '+') : '+',
                    !localtime ? abs((offset)->offset / 3600) : 0,
                    !localtime ? abs((offset->offset % 3600) / 60) : 0);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2057
  case 27: {
    ap_php_snprintf(offset->abbr, 9, "GMT%c%02d%02d",
                    !localtime ? ((offset->offset < 0) ? '-' : '+') : '+',
                    !localtime ? abs(offset->offset / 3600) : 0,
                    !localtime ? abs(((offset)->offset % 3600) / 60) : 0);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2058
  case 28: {
    ap_php_snprintf(offset->abbr, 9, "GMT%c%02d%02d",
                    !localtime ? ((offset->offset < 0) ? '-' : '+') : '+',
                    !localtime ? abs(offset->offset / 3600) : 0,
                    !localtime ? abs((offset->offset % 3600) / 60) : 0);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2059
  case 29: {
    date_ce_period->get_iterator = date_object_period_get_iterator;
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2060
  case 30: {
    date_ce_period->iterator_funcs.funcs = &date_period_it_funcs;
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2061
  case 31: {
    date_object_handlers_date.clone_obj = date_object_clone_date;
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2062
  case 32: {
    date_object_handlers_date.compare_objects = date_object_compare_date;
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2063
  case 33: {
    date_object_handlers_date.get_properties = date_object_get_properties;
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2064
  case 34: {
    date_object_handlers_interval.clone_obj = date_object_clone_interval;
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2065
  case 35: {
    date_object_handlers_interval.get_properties =
        date_object_get_properties_interval;
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2066
  case 36: {
    date_object_handlers_interval.get_property_ptr_ptr = ((void *)0);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2067
  case 37: {
    date_object_handlers_interval.read_property = date_interval_read_property;
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2068
  case 38: {
    date_object_handlers_interval.write_property = date_interval_write_property;
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2069
  case 39: {
    date_object_handlers_period.clone_obj = date_object_clone_period;
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2070
  case 40: {
    date_object_handlers_timezone.clone_obj = date_object_clone_timezone;
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2071
  case 41: {
    date_register_classes();
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2072
  case 42: {
    exit(1);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2073
  case 43: {
    if (!(date_globals.tzcache)) {
      ((date_globals.tzcache)) = (HashTable *)_emalloc(
          (sizeof(HashTable)), "ext/date/php_date.c", 822, ((void *)0), 0);
      _zend_hash_init(((date_globals.tzcache)), (4), (((void *)0)),
                      (_php_date_tzinfo_dtor), (0), "ext/date/php_date.c", 823);
    }
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2074
  case 44: {
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2075
  case 45: {
    if (!localtime) {
      tzi = get_timezone_info();
      t->tz_info = tzi;
      t->zone_type = 3;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = ((void *)0);
      timelib_unixtime2gmt(t, ts);
    }
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2076
  case 46: {
    if ((date_globals.last_errors)) {
      timelib_error_container_dtor((date_globals.last_errors));
      (date_globals.last_errors) = ((void *)0);
    }
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2077
  case 47: {
    if ((date_globals.last_errors)) {
      timelib_error_container_dtor((date_globals.last_errors));
    }
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2078
  case 48: {
    if ((date_globals.timezone) && (strlen((date_globals.timezone)) > 0)) {
      return (date_globals.timezone);
    }
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2079
  case 49: {
    if ((date_globals.timezone)) {
      _efree(((date_globals.timezone)), "ext/date/php_date.c", 3942,
             ((void *)0), 0);
      (date_globals.timezone) = ((void *)0);
    }
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2080
  case 50: {
    if ((date_globals.timezone)) {
      _efree(((date_globals.timezone)), "ext/date/php_date.c", 614, ((void *)0),
             0);
    }
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2081
  case 51: {
    if ((date_globals.timezone)) {
      _efree(((date_globals.timezone)), "ext/date/php_date.c", 628, ((void *)0),
             0);
    }
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2082
  case 52: {
    if ((date_globals.tzcache)) {
      zend_hash_destroy((date_globals.tzcache));
      _efree(((date_globals.tzcache)), "ext/date/php_date.c", 633, ((void *)0),
             0);
      (date_globals.tzcache) = ((void *)0);
    }
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2083
  case 53: {
    if (t->zone_type == 1) {
      offset = timelib_time_offset_ctor();
      offset->offset = (t->z - (t->dst * 60)) * -60;
      offset->leap_secs = 0;
      offset->is_dst = t->dst;
      offset->abbr = malloc(9);
      ap_php_snprintf(offset->abbr, 9, "GMT%c%02d%02d",
                      !localtime ? ((offset->offset < 0) ? '-' : '+') : '+',
                      !localtime ? abs(offset->offset / 3600) : 0,
                      !localtime ? abs((offset->offset % 3600) / 60) : 0);
    } else {
      offset = timelib_get_time_zone_info(t->sse, t->tz_info);
    }
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2084
  case 54: {
    memcpy(&date_object_handlers_date, zend_get_std_object_handlers(),
           sizeof(zend_object_handlers));
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2085
  case 55: {
    memcpy(&date_object_handlers_interval, zend_get_std_object_handlers(),
           sizeof(zend_object_handlers));
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2086
  case 56: {
    memcpy(&date_object_handlers_period, zend_get_std_object_handlers(),
           sizeof(zend_object_handlers));
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2087
  case 57: {
    memcpy(&date_object_handlers_timezone, zend_get_std_object_handlers(),
           sizeof(zend_object_handlers));
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2088
  case 58: {
    memset(t, 0, sizeof(*(t)));
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2089
  case 59: {
    offset = timelib_get_time_zone_info((t)->sse, t->tz_info);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2090
  case 60: {
    offset = timelib_get_time_zone_info(t->sse, (t)->tz_info);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2091
  case 61: {
    offset = timelib_get_time_zone_info(t->sse, t->tz_info);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2092
  case 62: {
    offset = timelib_time_offset_ctor();
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2093
  case 63: {
    offset->abbr = malloc(9);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2094
  case 64: {
    offset->abbr = strdup((t)->tz_abbr);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2095
  case 65: {
    offset->abbr = strdup(t->tz_abbr);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2096
  case 66: {
    offset->is_dst = (t)->dst;
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2097
  case 67: {
    offset->is_dst = t->dst;
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2098
  case 68: {
    offset->leap_secs = 0;
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2099
  case 69: {
    offset->offset = ((t)->z - (t->dst * 60)) * -60;
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2100
  case 70: {
    offset->offset = (t->z - ((t)->dst * 60)) * -60;
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2101
  case 71: {
    offset->offset = (t->z - (t->dst * 60)) * -60;
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2102
  case 72: {
    php_date_global_timezone_db = ((void *)0);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2103
  case 73: {
    php_date_global_timezone_db_enabled = 0;
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2104
  case 74: {
    php_date_global_timezone_db_enabled = 1;
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2105
  case 75: {
    php_error_docref0(
        ((void *)0), (1 << 0L),
        "Timezone database is corrupt - this should *never* happen!");
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2106
  case 76: {
    php_error_docref0(((void *)0), (1 << 13L),
                      "The is_dst parameter is deprecated");
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2107
  case 77: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "Can only do this for zones with ID for now");
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2108
  case 78: {
    php_error_docref0(
        ((void *)0), (1 << 1L),
        "It is not safe to rely on the system's timezone settings. You are "
        "*required* to use the date.timezone setting or the "
        "date_default_timezone_set() function. In case you used any of those "
        "methods and you are still getting this warning, you most likely "
        "misspelled the timezone identifier. We had to select 'UTC' because "
        "your platform doesn't provide functionality for the guessing "
        "algorithm");
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2109
  case 79: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "Only non-special relative time specifications are "
                      "supported for subtraction");
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2110
  case 80: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The DateInterval object has not been correctly "
                      "initialized by its constructor");
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2111
  case 81: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The DateTime object has not been correctly initialized "
                      "by its constructor");
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2112
  case 82: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The DateTimeZone object has not been correctly "
                      "initialized by its constructor");
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2113
  case 83: {
    php_error_docref0(
        ((void *)0), (1 << 1L),
        "This constructor accepts either (DateTime, DateInterval, int) OR "
        "(DateTime, DateInterval, DateTime) OR (string) as arguments.");
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2114
  case 84: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "Unrecognized date format token.");
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2115
  case 85: {
    php_error_docref0(
        ((void *)0), (1 << 1L),
        "Wrong return format given, pick one of SUNFUNCS_RET_TIMESTAMP, "
        "SUNFUNCS_RET_STRING or SUNFUNCS_RET_DOUBLE");
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2116
  case 86: {
    php_error_docref0(((void *)0), (1 << 1L), "idate format is one char");
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2117
  case 87: {
    php_error_docref0(
        ((void *)0), (1 << 3L),
        "A two-letter ISO 3166-1 compatible country code is expected");
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2118
  case 88: {
    php_info_print_table_end();
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2119
  case 89: {
    php_info_print_table_row(2, "Timezone Database",
                             php_date_global_timezone_db_enabled ? "external"
                                                                 : "internal");
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2120
  case 90: {
    php_info_print_table_row(2, "date/time support", "enabled");
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2121
  case 91: {
    php_info_print_table_start();
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2122
  case 92: {
    retval = retval % 1000;
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2123
  case 93: {
    t = timelib_time_ctor();
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2124
  case 94: {
    t->tz_info = (tzi);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2125
  case 95: {
    t->tz_info = tzi;
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2126
  case 96: {
    t->zone_type = 3;
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2127
  case 97: {
    timelib_error_container_dtor((date_globals.last_errors));
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2128
  case 98: {
    timelib_isoweek_from_date((t)->y, t->m, t->d, &isoweek, &isoyear);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2129
  case 99: {
    timelib_isoweek_from_date(t->y, (t)->m, t->d, &isoweek, &isoyear);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2130
  case 100: {
    timelib_isoweek_from_date(t->y, t->m, (t)->d, &isoweek, &isoyear);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2131
  case 101: {
    timelib_isoweek_from_date(t->y, t->m, t->d, &isoweek, &isoyear);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2132
  case 102: {
    timelib_time_dtor((t));
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2133
  case 103: {
    timelib_time_dtor(t);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2134
  case 104: {
    timelib_time_offset_dtor((offset));
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2135
  case 105: {
    timelib_time_offset_dtor(offset);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2136
  case 106: {
    timelib_unixtime2gmt((t), (timelib_sll)time(((void *)0)));
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2137
  case 107: {
    timelib_unixtime2gmt((t), ts);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2138
  case 108: {
    timelib_unixtime2gmt(t, ts);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2139
  case 109: {
    timelib_unixtime2local((t), (timelib_sll)time(((void *)0)));
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2140
  case 110: {
    timelib_unixtime2local((t), ts);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2141
  case 111: {
    timelib_unixtime2local(t, ts);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2142
  case 112: {
    timelib_update_from_sse((t));
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2143
  case 113: {
    timelib_update_ts((t), ((void *)0));
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2144
  case 114: {
    tzi = ((void *)0);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2145
  case 115: {
    tzi = get_timezone_info();
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2146
  case 116: {
    zend_class_implements(date_ce_period, 1, zend_ce_traversable);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2147
  case 117: {
    zend_declare_class_constant_long(date_ce_period, "EXCLUDE_START_DATE",
                                     sizeof("EXCLUDE_START_DATE") - 1, 1);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2148
  case 118: {
    zend_declare_class_constant_long(date_ce_timezone, "AFRICA",
                                     sizeof("AFRICA") - 1, 1);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2149
  case 119: {
    zend_declare_class_constant_long(date_ce_timezone, "ALL", sizeof("ALL") - 1,
                                     2047);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2150
  case 120: {
    zend_declare_class_constant_long(date_ce_timezone, "ALL_WITH_BC",
                                     sizeof("ALL_WITH_BC") - 1, 4095);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2151
  case 121: {
    zend_declare_class_constant_long(date_ce_timezone, "AMERICA",
                                     sizeof("AMERICA") - 1, 2);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2152
  case 122: {
    zend_declare_class_constant_long(date_ce_timezone, "ANTARCTICA",
                                     sizeof("ANTARCTICA") - 1, 4);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2153
  case 123: {
    zend_declare_class_constant_long(date_ce_timezone, "ARCTIC",
                                     sizeof("ARCTIC") - 1, 8);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2154
  case 124: {
    zend_declare_class_constant_long(date_ce_timezone, "ASIA",
                                     sizeof("ASIA") - 1, 16);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2155
  case 125: {
    zend_declare_class_constant_long(date_ce_timezone, "ATLANTIC",
                                     sizeof("ATLANTIC") - 1, 32);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2156
  case 126: {
    zend_declare_class_constant_long(date_ce_timezone, "AUSTRALIA",
                                     sizeof("AUSTRALIA") - 1, 64);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2157
  case 127: {
    zend_declare_class_constant_long(date_ce_timezone, "EUROPE",
                                     sizeof("EUROPE") - 1, 128);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2158
  case 128: {
    zend_declare_class_constant_long(date_ce_timezone, "INDIAN",
                                     sizeof("INDIAN") - 1, 256);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2159
  case 129: {
    zend_declare_class_constant_long(date_ce_timezone, "PACIFIC",
                                     sizeof("PACIFIC") - 1, 512);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2160
  case 130: {
    zend_declare_class_constant_long(date_ce_timezone, "PER_COUNTRY",
                                     sizeof("PER_COUNTRY") - 1, 4096);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2161
  case 131: {
    zend_declare_class_constant_long(date_ce_timezone, "UTC", sizeof("UTC") - 1,
                                     1024);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2162
  case 132: {
    zend_declare_class_constant_stringl(date_ce_date, "ATOM",
                                        sizeof("ATOM") - 1, "Y-m-d\\TH:i:sP",
                                        sizeof("Y-m-d\\TH:i:sP") - 1);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2163
  case 133: {
    zend_declare_class_constant_stringl(
        date_ce_date, "COOKIE", sizeof("COOKIE") - 1, "l, d-M-y H:i:s T",
        sizeof("l, d-M-y H:i:s T") - 1);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2164
  case 134: {
    zend_declare_class_constant_stringl(date_ce_date, "ISO8601",
                                        sizeof("ISO8601") - 1, "Y-m-d\\TH:i:sO",
                                        sizeof("Y-m-d\\TH:i:sO") - 1);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2165
  case 135: {
    zend_declare_class_constant_stringl(
        date_ce_date, "RFC1036", sizeof("RFC1036") - 1, "D, d M y H:i:s O",
        sizeof("D, d M y H:i:s O") - 1);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2166
  case 136: {
    zend_declare_class_constant_stringl(
        date_ce_date, "RFC1123", sizeof("RFC1123") - 1, "D, d M Y H:i:s O",
        sizeof("D, d M Y H:i:s O") - 1);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2167
  case 137: {
    zend_declare_class_constant_stringl(
        date_ce_date, "RFC2822", sizeof("RFC2822") - 1, "D, d M Y H:i:s O",
        sizeof("D, d M Y H:i:s O") - 1);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2168
  case 138: {
    zend_declare_class_constant_stringl(date_ce_date, "RFC3339",
                                        sizeof("RFC3339") - 1, "Y-m-d\\TH:i:sP",
                                        sizeof("Y-m-d\\TH:i:sP") - 1);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2169
  case 139: {
    zend_declare_class_constant_stringl(
        date_ce_date, "RFC822", sizeof("RFC822") - 1, "D, d M y H:i:s O",
        sizeof("D, d M y H:i:s O") - 1);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2170
  case 140: {
    zend_declare_class_constant_stringl(
        date_ce_date, "RFC850", sizeof("RFC850") - 1, "l, d-M-y H:i:s T",
        sizeof("l, d-M-y H:i:s T") - 1);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2171
  case 141: {
    zend_declare_class_constant_stringl(date_ce_date, "RSS", sizeof("RSS") - 1,
                                        "D, d M Y H:i:s O",
                                        sizeof("D, d M Y H:i:s O") - 1);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2172
  case 142: {
    zend_declare_class_constant_stringl(date_ce_date, "W3C", sizeof("W3C") - 1,
                                        "Y-m-d\\TH:i:sP",
                                        sizeof("Y-m-d\\TH:i:sP") - 1);
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2173
  case 143: {
    zend_error((1 << 0L),
               "An iterator cannot be used with foreach by reference");
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2174
  case 144: {
    zend_error((1 << 3L), "A non well formed numeric value encountered");
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
#ifdef COMPILE_2175
  case 145: {
    zend_hash_destroy((date_globals.tzcache));
    if (!localtime) {
      tzi = get_timezone_info(TSRMLS_C);
      t->tz_info = tzi;
      t->zone_type = TIMELIB_ZONETYPE_ID;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = NULL;
      timelib_unixtime2gmt(t, ts);
    }

    break;
  }
#endif
  }

  if (!localtime) {
    if (t->zone_type == TIMELIB_ZONETYPE_ABBR) {
      offset = timelib_time_offset_ctor();
      offset->offset = (t->z - (t->dst * 60)) * -60;
      offset->leap_secs = 0;
      offset->is_dst = t->dst;
      offset->abbr = strdup(t->tz_abbr);
    } else if (t->zone_type == TIMELIB_ZONETYPE_OFFSET) {
      offset = timelib_time_offset_ctor();
      offset->offset = (t->z - (t->dst * 60)) * -60;
      offset->leap_secs = 0;
      offset->is_dst = t->dst;
      offset->abbr = malloc(9); /* GMT�xxxx\0 */
      snprintf(offset->abbr, 9, "GMT%c%02d%02d",
               !localtime ? ((offset->offset < 0) ? '-' : '+') : '+',
               !localtime ? abs(offset->offset / 3600) : 0,
               !localtime ? abs((offset->offset % 3600) / 60) : 0);
    } else {
      offset = timelib_get_time_zone_info(t->sse, t->tz_info);
    }
  }

  timelib_isoweek_from_date(t->y, t->m, t->d, &isoweek, &isoyear);

  // prophet generated patch
  switch (__choose("__ID11")) {
  case 0: {
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#ifdef COMPILE_2176
  case 1: {
    ((date_globals.tzcache)) = (HashTable *)_emalloc(
        (sizeof(HashTable)), "ext/date/php_date.c", 822, ((void *)0), 0);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2177
  case 2: {
    (date_globals.last_errors) = ((void *)0);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2178
  case 3: {
    (date_globals.timezone) = ((void *)0);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2179
  case 4: {
    (date_globals.timezone) = _estrndup(
        (zone), (zone_len), "ext/date/php_date.c", 3945, ((void *)0), 0);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2180
  case 5: {
    (date_globals.tzcache) = ((void *)0);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2181
  case 6: {
    (executor_globals.argument_stack) =
        zend_vm_stack_new_page(((16 * 1024) - 16));
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2182
  case 7: {
    (offset) = timelib_get_time_zone_info(t->sse, t->tz_info);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2183
  case 8: {
    (offset) = timelib_time_offset_ctor();
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2184
  case 9: {
    (offset)->abbr = malloc(9);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2185
  case 10: {
    (offset)->abbr = strdup(t->tz_abbr);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2186
  case 11: {
    (offset)->is_dst = t->dst;
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2187
  case 12: {
    (offset)->leap_secs = 0;
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2188
  case 13: {
    (offset)->offset = (t->z - (t->dst * 60)) * -60;
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2189
  case 14: {
    (t) = timelib_time_ctor();
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2190
  case 15: {
    (t)->tz_info = tzi;
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2191
  case 16: {
    (t)->zone_type = 3;
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2192
  case 17: {
    (tzi) = ((void *)0);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2193
  case 18: {
    (tzi) = get_timezone_info();
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2194
  case 19: {
    _efree(((date_globals.timezone)), "ext/date/php_date.c", 3942, ((void *)0),
           0);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2195
  case 20: {
    _efree(((date_globals.timezone)), "ext/date/php_date.c", 614, ((void *)0),
           0);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2196
  case 21: {
    _efree(((date_globals.timezone)), "ext/date/php_date.c", 628, ((void *)0),
           0);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2197
  case 22: {
    _efree(((date_globals.tzcache)), "ext/date/php_date.c", 633, ((void *)0),
           0);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2198
  case 23: {
    _zend_hash_init(((date_globals.tzcache)), (4), (((void *)0)),
                    (_php_date_tzinfo_dtor), (0), "ext/date/php_date.c", 823);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2199
  case 24: {
    ap_php_snprintf((offset)->abbr, 9, "GMT%c%02d%02d",
                    !localtime ? ((offset->offset < 0) ? '-' : '+') : '+',
                    !localtime ? abs(offset->offset / 3600) : 0,
                    !localtime ? abs((offset->offset % 3600) / 60) : 0);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2200
  case 25: {
    ap_php_snprintf(offset->abbr, 9, "GMT%c%02d%02d",
                    !localtime ? (((offset)->offset < 0) ? '-' : '+') : '+',
                    !localtime ? abs(offset->offset / 3600) : 0,
                    !localtime ? abs((offset->offset % 3600) / 60) : 0);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2201
  case 26: {
    ap_php_snprintf(offset->abbr, 9, "GMT%c%02d%02d",
                    !localtime ? ((offset->offset < 0) ? '-' : '+') : '+',
                    !localtime ? abs((offset)->offset / 3600) : 0,
                    !localtime ? abs((offset->offset % 3600) / 60) : 0);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2202
  case 27: {
    ap_php_snprintf(offset->abbr, 9, "GMT%c%02d%02d",
                    !localtime ? ((offset->offset < 0) ? '-' : '+') : '+',
                    !localtime ? abs(offset->offset / 3600) : 0,
                    !localtime ? abs(((offset)->offset % 3600) / 60) : 0);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2203
  case 28: {
    ap_php_snprintf(offset->abbr, 9, "GMT%c%02d%02d",
                    !localtime ? ((offset->offset < 0) ? '-' : '+') : '+',
                    !localtime ? abs(offset->offset / 3600) : 0,
                    !localtime ? abs((offset->offset % 3600) / 60) : 0);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2204
  case 29: {
    date_ce_period->get_iterator = date_object_period_get_iterator;
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2205
  case 30: {
    date_ce_period->iterator_funcs.funcs = &date_period_it_funcs;
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2206
  case 31: {
    date_object_handlers_date.clone_obj = date_object_clone_date;
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2207
  case 32: {
    date_object_handlers_date.compare_objects = date_object_compare_date;
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2208
  case 33: {
    date_object_handlers_date.get_properties = date_object_get_properties;
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2209
  case 34: {
    date_object_handlers_interval.clone_obj = date_object_clone_interval;
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2210
  case 35: {
    date_object_handlers_interval.get_properties =
        date_object_get_properties_interval;
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2211
  case 36: {
    date_object_handlers_interval.get_property_ptr_ptr = ((void *)0);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2212
  case 37: {
    date_object_handlers_interval.read_property = date_interval_read_property;
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2213
  case 38: {
    date_object_handlers_interval.write_property = date_interval_write_property;
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2214
  case 39: {
    date_object_handlers_period.clone_obj = date_object_clone_period;
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2215
  case 40: {
    date_object_handlers_timezone.clone_obj = date_object_clone_timezone;
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2216
  case 41: {
    date_register_classes();
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2217
  case 42: {
    exit(1);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2218
  case 43: {
    if (!(date_globals.tzcache)) {
      ((date_globals.tzcache)) = (HashTable *)_emalloc(
          (sizeof(HashTable)), "ext/date/php_date.c", 822, ((void *)0), 0);
      _zend_hash_init(((date_globals.tzcache)), (4), (((void *)0)),
                      (_php_date_tzinfo_dtor), (0), "ext/date/php_date.c", 823);
    }
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2219
  case 44: {
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2220
  case 45: {
    if (!localtime) {
      tzi = get_timezone_info();
      t->tz_info = tzi;
      t->zone_type = 3;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = ((void *)0);
      timelib_unixtime2gmt(t, ts);
    }
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2221
  case 46: {
    if ((date_globals.last_errors)) {
      timelib_error_container_dtor((date_globals.last_errors));
      (date_globals.last_errors) = ((void *)0);
    }
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2222
  case 47: {
    if ((date_globals.last_errors)) {
      timelib_error_container_dtor((date_globals.last_errors));
    }
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2223
  case 48: {
    if ((date_globals.timezone) && (strlen((date_globals.timezone)) > 0)) {
      return (date_globals.timezone);
    }
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2224
  case 49: {
    if ((date_globals.timezone)) {
      _efree(((date_globals.timezone)), "ext/date/php_date.c", 3942,
             ((void *)0), 0);
      (date_globals.timezone) = ((void *)0);
    }
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2225
  case 50: {
    if ((date_globals.timezone)) {
      _efree(((date_globals.timezone)), "ext/date/php_date.c", 614, ((void *)0),
             0);
    }
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2226
  case 51: {
    if ((date_globals.timezone)) {
      _efree(((date_globals.timezone)), "ext/date/php_date.c", 628, ((void *)0),
             0);
    }
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2227
  case 52: {
    if ((date_globals.tzcache)) {
      zend_hash_destroy((date_globals.tzcache));
      _efree(((date_globals.tzcache)), "ext/date/php_date.c", 633, ((void *)0),
             0);
      (date_globals.tzcache) = ((void *)0);
    }
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2228
  case 53: {
    if (t->zone_type == 1) {
      offset = timelib_time_offset_ctor();
      offset->offset = (t->z - (t->dst * 60)) * -60;
      offset->leap_secs = 0;
      offset->is_dst = t->dst;
      offset->abbr = malloc(9);
      ap_php_snprintf(offset->abbr, 9, "GMT%c%02d%02d",
                      !localtime ? ((offset->offset < 0) ? '-' : '+') : '+',
                      !localtime ? abs(offset->offset / 3600) : 0,
                      !localtime ? abs((offset->offset % 3600) / 60) : 0);
    } else {
      offset = timelib_get_time_zone_info(t->sse, t->tz_info);
    }
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2229
  case 54: {
    memcpy(&date_object_handlers_date, zend_get_std_object_handlers(),
           sizeof(zend_object_handlers));
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2230
  case 55: {
    memcpy(&date_object_handlers_interval, zend_get_std_object_handlers(),
           sizeof(zend_object_handlers));
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2231
  case 56: {
    memcpy(&date_object_handlers_period, zend_get_std_object_handlers(),
           sizeof(zend_object_handlers));
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2232
  case 57: {
    memcpy(&date_object_handlers_timezone, zend_get_std_object_handlers(),
           sizeof(zend_object_handlers));
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2233
  case 58: {
    memset(offset, 0, sizeof(*(offset)));
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2234
  case 59: {
    memset(t, 0, sizeof(*(t)));
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2235
  case 60: {
    offset = timelib_get_time_zone_info((t)->sse, t->tz_info);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2236
  case 61: {
    offset = timelib_get_time_zone_info(t->sse, (t)->tz_info);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2237
  case 62: {
    offset = timelib_get_time_zone_info(t->sse, t->tz_info);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2238
  case 63: {
    offset = timelib_time_offset_ctor();
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2239
  case 64: {
    offset->abbr = malloc(9);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2240
  case 65: {
    offset->abbr = strdup((t)->tz_abbr);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2241
  case 66: {
    offset->abbr = strdup(t->tz_abbr);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2242
  case 67: {
    offset->is_dst = (t)->dst;
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2243
  case 68: {
    offset->is_dst = t->dst;
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2244
  case 69: {
    offset->leap_secs = 0;
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2245
  case 70: {
    offset->offset = ((t)->z - (t->dst * 60)) * -60;
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2246
  case 71: {
    offset->offset = (t->z - ((t)->dst * 60)) * -60;
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2247
  case 72: {
    offset->offset = (t->z - (t->dst * 60)) * -60;
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2248
  case 73: {
    php_date_global_timezone_db = ((void *)0);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2249
  case 74: {
    php_date_global_timezone_db_enabled = 0;
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2250
  case 75: {
    php_date_global_timezone_db_enabled = 1;
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2251
  case 76: {
    php_error_docref0(
        ((void *)0), (1 << 0L),
        "Timezone database is corrupt - this should *never* happen!");
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2252
  case 77: {
    php_error_docref0(((void *)0), (1 << 13L),
                      "The is_dst parameter is deprecated");
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2253
  case 78: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "Can only do this for zones with ID for now");
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2254
  case 79: {
    php_error_docref0(
        ((void *)0), (1 << 1L),
        "It is not safe to rely on the system's timezone settings. You are "
        "*required* to use the date.timezone setting or the "
        "date_default_timezone_set() function. In case you used any of those "
        "methods and you are still getting this warning, you most likely "
        "misspelled the timezone identifier. We had to select 'UTC' because "
        "your platform doesn't provide functionality for the guessing "
        "algorithm");
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2255
  case 80: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "Only non-special relative time specifications are "
                      "supported for subtraction");
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2256
  case 81: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The DateInterval object has not been correctly "
                      "initialized by its constructor");
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2257
  case 82: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The DateTime object has not been correctly initialized "
                      "by its constructor");
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2258
  case 83: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The DateTimeZone object has not been correctly "
                      "initialized by its constructor");
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2259
  case 84: {
    php_error_docref0(
        ((void *)0), (1 << 1L),
        "This constructor accepts either (DateTime, DateInterval, int) OR "
        "(DateTime, DateInterval, DateTime) OR (string) as arguments.");
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2260
  case 85: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "Unrecognized date format token.");
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2261
  case 86: {
    php_error_docref0(
        ((void *)0), (1 << 1L),
        "Wrong return format given, pick one of SUNFUNCS_RET_TIMESTAMP, "
        "SUNFUNCS_RET_STRING or SUNFUNCS_RET_DOUBLE");
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2262
  case 87: {
    php_error_docref0(((void *)0), (1 << 1L), "idate format is one char");
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2263
  case 88: {
    php_error_docref0(
        ((void *)0), (1 << 3L),
        "A two-letter ISO 3166-1 compatible country code is expected");
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2264
  case 89: {
    php_info_print_table_end();
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2265
  case 90: {
    php_info_print_table_row(2, "Timezone Database",
                             php_date_global_timezone_db_enabled ? "external"
                                                                 : "internal");
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2266
  case 91: {
    php_info_print_table_row(2, "date/time support", "enabled");
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2267
  case 92: {
    php_info_print_table_start();
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2268
  case 93: {
    retval = retval % 1000;
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2269
  case 94: {
    t = timelib_time_ctor();
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2270
  case 95: {
    t->tz_info = (tzi);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2271
  case 96: {
    t->tz_info = tzi;
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2272
  case 97: {
    t->zone_type = 3;
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2273
  case 98: {
    timelib_error_container_dtor((date_globals.last_errors));
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2274
  case 99: {
    timelib_isoweek_from_date((t)->y, t->m, t->d, &isoweek, &isoyear);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2275
  case 100: {
    timelib_isoweek_from_date(t->y, (t)->m, t->d, &isoweek, &isoyear);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2276
  case 101: {
    timelib_isoweek_from_date(t->y, t->m, (t)->d, &isoweek, &isoyear);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2277
  case 102: {
    timelib_isoweek_from_date(t->y, t->m, t->d, &isoweek, &isoyear);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2278
  case 103: {
    timelib_time_dtor((t));
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2279
  case 104: {
    timelib_time_dtor(t);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2280
  case 105: {
    timelib_time_offset_dtor((offset));
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2281
  case 106: {
    timelib_time_offset_dtor(offset);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2282
  case 107: {
    timelib_unixtime2gmt((t), (timelib_sll)time(((void *)0)));
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2283
  case 108: {
    timelib_unixtime2gmt((t), ts);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2284
  case 109: {
    timelib_unixtime2gmt(t, ts);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2285
  case 110: {
    timelib_unixtime2local((t), (timelib_sll)time(((void *)0)));
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2286
  case 111: {
    timelib_unixtime2local((t), ts);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2287
  case 112: {
    timelib_unixtime2local(t, ts);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2288
  case 113: {
    timelib_update_from_sse((t));
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2289
  case 114: {
    timelib_update_ts((t), ((void *)0));
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2290
  case 115: {
    tzi = ((void *)0);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2291
  case 116: {
    tzi = get_timezone_info();
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2292
  case 117: {
    zend_class_implements(date_ce_period, 1, zend_ce_traversable);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2293
  case 118: {
    zend_declare_class_constant_long(date_ce_period, "EXCLUDE_START_DATE",
                                     sizeof("EXCLUDE_START_DATE") - 1, 1);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2294
  case 119: {
    zend_declare_class_constant_long(date_ce_timezone, "AFRICA",
                                     sizeof("AFRICA") - 1, 1);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2295
  case 120: {
    zend_declare_class_constant_long(date_ce_timezone, "ALL", sizeof("ALL") - 1,
                                     2047);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2296
  case 121: {
    zend_declare_class_constant_long(date_ce_timezone, "ALL_WITH_BC",
                                     sizeof("ALL_WITH_BC") - 1, 4095);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2297
  case 122: {
    zend_declare_class_constant_long(date_ce_timezone, "AMERICA",
                                     sizeof("AMERICA") - 1, 2);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2298
  case 123: {
    zend_declare_class_constant_long(date_ce_timezone, "ANTARCTICA",
                                     sizeof("ANTARCTICA") - 1, 4);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2299
  case 124: {
    zend_declare_class_constant_long(date_ce_timezone, "ARCTIC",
                                     sizeof("ARCTIC") - 1, 8);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2300
  case 125: {
    zend_declare_class_constant_long(date_ce_timezone, "ASIA",
                                     sizeof("ASIA") - 1, 16);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2301
  case 126: {
    zend_declare_class_constant_long(date_ce_timezone, "ATLANTIC",
                                     sizeof("ATLANTIC") - 1, 32);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2302
  case 127: {
    zend_declare_class_constant_long(date_ce_timezone, "AUSTRALIA",
                                     sizeof("AUSTRALIA") - 1, 64);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2303
  case 128: {
    zend_declare_class_constant_long(date_ce_timezone, "EUROPE",
                                     sizeof("EUROPE") - 1, 128);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2304
  case 129: {
    zend_declare_class_constant_long(date_ce_timezone, "INDIAN",
                                     sizeof("INDIAN") - 1, 256);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2305
  case 130: {
    zend_declare_class_constant_long(date_ce_timezone, "PACIFIC",
                                     sizeof("PACIFIC") - 1, 512);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2306
  case 131: {
    zend_declare_class_constant_long(date_ce_timezone, "PER_COUNTRY",
                                     sizeof("PER_COUNTRY") - 1, 4096);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2307
  case 132: {
    zend_declare_class_constant_long(date_ce_timezone, "UTC", sizeof("UTC") - 1,
                                     1024);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2308
  case 133: {
    zend_declare_class_constant_stringl(date_ce_date, "ATOM",
                                        sizeof("ATOM") - 1, "Y-m-d\\TH:i:sP",
                                        sizeof("Y-m-d\\TH:i:sP") - 1);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2309
  case 134: {
    zend_declare_class_constant_stringl(
        date_ce_date, "COOKIE", sizeof("COOKIE") - 1, "l, d-M-y H:i:s T",
        sizeof("l, d-M-y H:i:s T") - 1);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2310
  case 135: {
    zend_declare_class_constant_stringl(date_ce_date, "ISO8601",
                                        sizeof("ISO8601") - 1, "Y-m-d\\TH:i:sO",
                                        sizeof("Y-m-d\\TH:i:sO") - 1);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2311
  case 136: {
    zend_declare_class_constant_stringl(
        date_ce_date, "RFC1036", sizeof("RFC1036") - 1, "D, d M y H:i:s O",
        sizeof("D, d M y H:i:s O") - 1);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2312
  case 137: {
    zend_declare_class_constant_stringl(
        date_ce_date, "RFC1123", sizeof("RFC1123") - 1, "D, d M Y H:i:s O",
        sizeof("D, d M Y H:i:s O") - 1);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2313
  case 138: {
    zend_declare_class_constant_stringl(
        date_ce_date, "RFC2822", sizeof("RFC2822") - 1, "D, d M Y H:i:s O",
        sizeof("D, d M Y H:i:s O") - 1);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2314
  case 139: {
    zend_declare_class_constant_stringl(date_ce_date, "RFC3339",
                                        sizeof("RFC3339") - 1, "Y-m-d\\TH:i:sP",
                                        sizeof("Y-m-d\\TH:i:sP") - 1);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2315
  case 140: {
    zend_declare_class_constant_stringl(
        date_ce_date, "RFC822", sizeof("RFC822") - 1, "D, d M y H:i:s O",
        sizeof("D, d M y H:i:s O") - 1);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2316
  case 141: {
    zend_declare_class_constant_stringl(
        date_ce_date, "RFC850", sizeof("RFC850") - 1, "l, d-M-y H:i:s T",
        sizeof("l, d-M-y H:i:s T") - 1);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2317
  case 142: {
    zend_declare_class_constant_stringl(date_ce_date, "RSS", sizeof("RSS") - 1,
                                        "D, d M Y H:i:s O",
                                        sizeof("D, d M Y H:i:s O") - 1);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2318
  case 143: {
    zend_declare_class_constant_stringl(date_ce_date, "W3C", sizeof("W3C") - 1,
                                        "Y-m-d\\TH:i:sP",
                                        sizeof("Y-m-d\\TH:i:sP") - 1);
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2319
  case 144: {
    zend_error((1 << 0L),
               "An iterator cannot be used with foreach by reference");
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2320
  case 145: {
    zend_error((1 << 3L), "A non well formed numeric value encountered");
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
#ifdef COMPILE_2321
  case 146: {
    zend_hash_destroy((date_globals.tzcache));
    switch (format) {
    /* day */
    case 'd':
    case 'j':
      retval = (int)t->d;
      break;

    case 'w':
      retval = (int)timelib_day_of_week(t->y, t->m, t->d);
      break;
    case 'z':
      retval = (int)timelib_day_of_year(t->y, t->m, t->d);
      break;

    /* week */
    case 'W':
      retval = (int)isoweek;
      break; /* iso weeknr */

    /* month */
    case 'm':
    case 'n':
      retval = (int)t->m;
      break;
    case 't':
      retval = (int)timelib_days_in_month(t->y, t->m);
      break;

    /* year */
    case 'L':
      retval = (int)timelib_is_leap((int)t->y);
      break;
    case 'y':
      retval = (int)(t->y % 100);
      break;
    case 'Y':
      retval = (int)t->y;
      break;

    /* Swatch Beat a.k.a. Internet Time */
    case 'B':
      retval = (((((long)t->sse) -
                  (((long)t->sse) - ((((long)t->sse) % 86400) + 3600))) *
                 10) /
                864);
      while (retval < 0) {
        retval += 1000;
      }
      retval = retval % 1000;
      break;

    /* time */
    case 'g':
    case 'h':
      retval = (int)((t->h % 12) ? (int)t->h % 12 : 12);
      break;
    case 'H':
    case 'G':
      retval = (int)t->h;
      break;
    case 'i':
      retval = (int)t->i;
      break;
    case 's':
      retval = (int)t->s;
      break;

    /* timezone */
    case 'I':
      retval = (int)(!localtime ? offset->is_dst : 0);
      break;
    case 'Z':
      retval = (int)(!localtime ? offset->offset : 0);
      break;

    case 'U':
      retval = (int)t->sse;
      break;
    }

    break;
  }
#endif
  }

  // prophet generated patch
  switch (__choose("__ID12")) {
  case 0: {
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#ifdef COMPILE_2322
  case 1: {
    ((date_globals.tzcache)) = (HashTable *)_emalloc(
        (sizeof(HashTable)), "ext/date/php_date.c", 822, ((void *)0), 0);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2323
  case 2: {
    (date_globals.last_errors) = ((void *)0);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2324
  case 3: {
    (date_globals.timezone) = ((void *)0);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2325
  case 4: {
    (date_globals.timezone) = _estrndup(
        (zone), (zone_len), "ext/date/php_date.c", 3945, ((void *)0), 0);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2326
  case 5: {
    (date_globals.tzcache) = ((void *)0);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2327
  case 6: {
    (executor_globals.argument_stack) =
        zend_vm_stack_new_page(((16 * 1024) - 16));
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2328
  case 7: {
    (offset) = timelib_get_time_zone_info(t->sse, t->tz_info);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2329
  case 8: {
    (offset) = timelib_time_offset_ctor();
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2330
  case 9: {
    (offset)->abbr = malloc(9);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2331
  case 10: {
    (offset)->abbr = strdup(t->tz_abbr);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2332
  case 11: {
    (offset)->is_dst = t->dst;
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2333
  case 12: {
    (offset)->leap_secs = 0;
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2334
  case 13: {
    (offset)->offset = (t->z - (t->dst * 60)) * -60;
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2335
  case 14: {
    (t) = timelib_time_ctor();
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2336
  case 15: {
    (t)->tz_info = tzi;
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2337
  case 16: {
    (t)->zone_type = 3;
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2338
  case 17: {
    (tzi) = ((void *)0);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2339
  case 18: {
    (tzi) = get_timezone_info();
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2340
  case 19: {
    _efree(((date_globals.timezone)), "ext/date/php_date.c", 3942, ((void *)0),
           0);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2341
  case 20: {
    _efree(((date_globals.timezone)), "ext/date/php_date.c", 614, ((void *)0),
           0);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2342
  case 21: {
    _efree(((date_globals.timezone)), "ext/date/php_date.c", 628, ((void *)0),
           0);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2343
  case 22: {
    _efree(((date_globals.tzcache)), "ext/date/php_date.c", 633, ((void *)0),
           0);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2344
  case 23: {
    _zend_hash_init(((date_globals.tzcache)), (4), (((void *)0)),
                    (_php_date_tzinfo_dtor), (0), "ext/date/php_date.c", 823);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2345
  case 24: {
    ap_php_snprintf((offset)->abbr, 9, "GMT%c%02d%02d",
                    !localtime ? ((offset->offset < 0) ? '-' : '+') : '+',
                    !localtime ? abs(offset->offset / 3600) : 0,
                    !localtime ? abs((offset->offset % 3600) / 60) : 0);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2346
  case 25: {
    ap_php_snprintf(offset->abbr, 9, "GMT%c%02d%02d",
                    !localtime ? (((offset)->offset < 0) ? '-' : '+') : '+',
                    !localtime ? abs(offset->offset / 3600) : 0,
                    !localtime ? abs((offset->offset % 3600) / 60) : 0);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2347
  case 26: {
    ap_php_snprintf(offset->abbr, 9, "GMT%c%02d%02d",
                    !localtime ? ((offset->offset < 0) ? '-' : '+') : '+',
                    !localtime ? abs((offset)->offset / 3600) : 0,
                    !localtime ? abs((offset->offset % 3600) / 60) : 0);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2348
  case 27: {
    ap_php_snprintf(offset->abbr, 9, "GMT%c%02d%02d",
                    !localtime ? ((offset->offset < 0) ? '-' : '+') : '+',
                    !localtime ? abs(offset->offset / 3600) : 0,
                    !localtime ? abs(((offset)->offset % 3600) / 60) : 0);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2349
  case 28: {
    ap_php_snprintf(offset->abbr, 9, "GMT%c%02d%02d",
                    !localtime ? ((offset->offset < 0) ? '-' : '+') : '+',
                    !localtime ? abs(offset->offset / 3600) : 0,
                    !localtime ? abs((offset->offset % 3600) / 60) : 0);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2350
  case 29: {
    date_ce_period->get_iterator = date_object_period_get_iterator;
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2351
  case 30: {
    date_ce_period->iterator_funcs.funcs = &date_period_it_funcs;
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2352
  case 31: {
    date_object_handlers_date.clone_obj = date_object_clone_date;
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2353
  case 32: {
    date_object_handlers_date.compare_objects = date_object_compare_date;
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2354
  case 33: {
    date_object_handlers_date.get_properties = date_object_get_properties;
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2355
  case 34: {
    date_object_handlers_interval.clone_obj = date_object_clone_interval;
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2356
  case 35: {
    date_object_handlers_interval.get_properties =
        date_object_get_properties_interval;
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2357
  case 36: {
    date_object_handlers_interval.get_property_ptr_ptr = ((void *)0);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2358
  case 37: {
    date_object_handlers_interval.read_property = date_interval_read_property;
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2359
  case 38: {
    date_object_handlers_interval.write_property = date_interval_write_property;
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2360
  case 39: {
    date_object_handlers_period.clone_obj = date_object_clone_period;
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2361
  case 40: {
    date_object_handlers_timezone.clone_obj = date_object_clone_timezone;
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2362
  case 41: {
    date_register_classes();
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2363
  case 42: {
    exit(1);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2364
  case 43: {
    if (!(date_globals.tzcache)) {
      ((date_globals.tzcache)) = (HashTable *)_emalloc(
          (sizeof(HashTable)), "ext/date/php_date.c", 822, ((void *)0), 0);
      _zend_hash_init(((date_globals.tzcache)), (4), (((void *)0)),
                      (_php_date_tzinfo_dtor), (0), "ext/date/php_date.c", 823);
    }
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2365
  case 44: {
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2366
  case 45: {
    if (!localtime) {
      tzi = get_timezone_info();
      t->tz_info = tzi;
      t->zone_type = 3;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = ((void *)0);
      timelib_unixtime2gmt(t, ts);
    }
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2367
  case 46: {
    if ((date_globals.last_errors)) {
      timelib_error_container_dtor((date_globals.last_errors));
      (date_globals.last_errors) = ((void *)0);
    }
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2368
  case 47: {
    if ((date_globals.last_errors)) {
      timelib_error_container_dtor((date_globals.last_errors));
    }
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2369
  case 48: {
    if ((date_globals.timezone) && (strlen((date_globals.timezone)) > 0)) {
      return (date_globals.timezone);
    }
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2370
  case 49: {
    if ((date_globals.timezone)) {
      _efree(((date_globals.timezone)), "ext/date/php_date.c", 3942,
             ((void *)0), 0);
      (date_globals.timezone) = ((void *)0);
    }
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2371
  case 50: {
    if ((date_globals.timezone)) {
      _efree(((date_globals.timezone)), "ext/date/php_date.c", 614, ((void *)0),
             0);
    }
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2372
  case 51: {
    if ((date_globals.timezone)) {
      _efree(((date_globals.timezone)), "ext/date/php_date.c", 628, ((void *)0),
             0);
    }
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2373
  case 52: {
    if ((date_globals.tzcache)) {
      zend_hash_destroy((date_globals.tzcache));
      _efree(((date_globals.tzcache)), "ext/date/php_date.c", 633, ((void *)0),
             0);
      (date_globals.tzcache) = ((void *)0);
    }
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2374
  case 53: {
    if (t->zone_type == 1) {
      offset = timelib_time_offset_ctor();
      offset->offset = (t->z - (t->dst * 60)) * -60;
      offset->leap_secs = 0;
      offset->is_dst = t->dst;
      offset->abbr = malloc(9);
      ap_php_snprintf(offset->abbr, 9, "GMT%c%02d%02d",
                      !localtime ? ((offset->offset < 0) ? '-' : '+') : '+',
                      !localtime ? abs(offset->offset / 3600) : 0,
                      !localtime ? abs((offset->offset % 3600) / 60) : 0);
    } else {
      offset = timelib_get_time_zone_info(t->sse, t->tz_info);
    }
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2375
  case 54: {
    memcpy(&date_object_handlers_date, zend_get_std_object_handlers(),
           sizeof(zend_object_handlers));
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2376
  case 55: {
    memcpy(&date_object_handlers_interval, zend_get_std_object_handlers(),
           sizeof(zend_object_handlers));
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2377
  case 56: {
    memcpy(&date_object_handlers_period, zend_get_std_object_handlers(),
           sizeof(zend_object_handlers));
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2378
  case 57: {
    memcpy(&date_object_handlers_timezone, zend_get_std_object_handlers(),
           sizeof(zend_object_handlers));
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2379
  case 58: {
    memset(offset, 0, sizeof(*(offset)));
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2380
  case 59: {
    offset = timelib_get_time_zone_info((t)->sse, t->tz_info);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2381
  case 60: {
    offset = timelib_get_time_zone_info(t->sse, (t)->tz_info);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2382
  case 61: {
    offset = timelib_get_time_zone_info(t->sse, t->tz_info);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2383
  case 62: {
    offset = timelib_time_offset_ctor();
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2384
  case 63: {
    offset->abbr = malloc(9);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2385
  case 64: {
    offset->abbr = strdup((t)->tz_abbr);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2386
  case 65: {
    offset->abbr = strdup(t->tz_abbr);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2387
  case 66: {
    offset->is_dst = (t)->dst;
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2388
  case 67: {
    offset->is_dst = t->dst;
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2389
  case 68: {
    offset->leap_secs = 0;
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2390
  case 69: {
    offset->offset = ((t)->z - (t->dst * 60)) * -60;
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2391
  case 70: {
    offset->offset = (t->z - ((t)->dst * 60)) * -60;
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2392
  case 71: {
    offset->offset = (t->z - (t->dst * 60)) * -60;
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2393
  case 72: {
    php_date_global_timezone_db = ((void *)0);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2394
  case 73: {
    php_date_global_timezone_db_enabled = 0;
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2395
  case 74: {
    php_date_global_timezone_db_enabled = 1;
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2396
  case 75: {
    php_error_docref0(
        ((void *)0), (1 << 0L),
        "Timezone database is corrupt - this should *never* happen!");
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2397
  case 76: {
    php_error_docref0(((void *)0), (1 << 13L),
                      "The is_dst parameter is deprecated");
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2398
  case 77: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "Can only do this for zones with ID for now");
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2399
  case 78: {
    php_error_docref0(
        ((void *)0), (1 << 1L),
        "It is not safe to rely on the system's timezone settings. You are "
        "*required* to use the date.timezone setting or the "
        "date_default_timezone_set() function. In case you used any of those "
        "methods and you are still getting this warning, you most likely "
        "misspelled the timezone identifier. We had to select 'UTC' because "
        "your platform doesn't provide functionality for the guessing "
        "algorithm");
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2400
  case 79: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "Only non-special relative time specifications are "
                      "supported for subtraction");
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2401
  case 80: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The DateInterval object has not been correctly "
                      "initialized by its constructor");
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2402
  case 81: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The DateTime object has not been correctly initialized "
                      "by its constructor");
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2403
  case 82: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The DateTimeZone object has not been correctly "
                      "initialized by its constructor");
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2404
  case 83: {
    php_error_docref0(
        ((void *)0), (1 << 1L),
        "This constructor accepts either (DateTime, DateInterval, int) OR "
        "(DateTime, DateInterval, DateTime) OR (string) as arguments.");
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2405
  case 84: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "Unrecognized date format token.");
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2406
  case 85: {
    php_error_docref0(
        ((void *)0), (1 << 1L),
        "Wrong return format given, pick one of SUNFUNCS_RET_TIMESTAMP, "
        "SUNFUNCS_RET_STRING or SUNFUNCS_RET_DOUBLE");
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2407
  case 86: {
    php_error_docref0(((void *)0), (1 << 1L), "idate format is one char");
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2408
  case 87: {
    php_error_docref0(
        ((void *)0), (1 << 3L),
        "A two-letter ISO 3166-1 compatible country code is expected");
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2409
  case 88: {
    php_info_print_table_end();
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2410
  case 89: {
    php_info_print_table_row(2, "Timezone Database",
                             php_date_global_timezone_db_enabled ? "external"
                                                                 : "internal");
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2411
  case 90: {
    php_info_print_table_row(2, "date/time support", "enabled");
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2412
  case 91: {
    php_info_print_table_start();
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2413
  case 92: {
    retval = retval % 1000;
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2414
  case 93: {
    t = timelib_time_ctor();
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2415
  case 94: {
    t->tz_info = (tzi);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2416
  case 95: {
    t->tz_info = tzi;
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2417
  case 96: {
    t->zone_type = 3;
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2418
  case 97: {
    timelib_error_container_dtor((date_globals.last_errors));
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2419
  case 98: {
    timelib_isoweek_from_date((t)->y, t->m, t->d, &isoweek, &isoyear);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2420
  case 99: {
    timelib_isoweek_from_date(t->y, (t)->m, t->d, &isoweek, &isoyear);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2421
  case 100: {
    timelib_isoweek_from_date(t->y, t->m, (t)->d, &isoweek, &isoyear);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2422
  case 101: {
    timelib_isoweek_from_date(t->y, t->m, t->d, &isoweek, &isoyear);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2423
  case 102: {
    timelib_time_dtor((t));
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2424
  case 103: {
    timelib_time_dtor(t);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2425
  case 104: {
    timelib_time_offset_dtor((offset));
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2426
  case 105: {
    timelib_time_offset_dtor(offset);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2427
  case 106: {
    timelib_unixtime2gmt((t), (timelib_sll)time(((void *)0)));
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2428
  case 107: {
    timelib_unixtime2gmt((t), ts);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2429
  case 108: {
    timelib_unixtime2gmt(t, ts);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2430
  case 109: {
    timelib_unixtime2local((t), (timelib_sll)time(((void *)0)));
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2431
  case 110: {
    timelib_unixtime2local((t), ts);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2432
  case 111: {
    timelib_unixtime2local(t, ts);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2433
  case 112: {
    timelib_update_from_sse((t));
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2434
  case 113: {
    timelib_update_ts((t), ((void *)0));
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2435
  case 114: {
    tzi = ((void *)0);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2436
  case 115: {
    tzi = get_timezone_info();
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2437
  case 116: {
    zend_class_implements(date_ce_period, 1, zend_ce_traversable);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2438
  case 117: {
    zend_declare_class_constant_long(date_ce_period, "EXCLUDE_START_DATE",
                                     sizeof("EXCLUDE_START_DATE") - 1, 1);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2439
  case 118: {
    zend_declare_class_constant_long(date_ce_timezone, "AFRICA",
                                     sizeof("AFRICA") - 1, 1);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2440
  case 119: {
    zend_declare_class_constant_long(date_ce_timezone, "ALL", sizeof("ALL") - 1,
                                     2047);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2441
  case 120: {
    zend_declare_class_constant_long(date_ce_timezone, "ALL_WITH_BC",
                                     sizeof("ALL_WITH_BC") - 1, 4095);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2442
  case 121: {
    zend_declare_class_constant_long(date_ce_timezone, "AMERICA",
                                     sizeof("AMERICA") - 1, 2);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2443
  case 122: {
    zend_declare_class_constant_long(date_ce_timezone, "ANTARCTICA",
                                     sizeof("ANTARCTICA") - 1, 4);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2444
  case 123: {
    zend_declare_class_constant_long(date_ce_timezone, "ARCTIC",
                                     sizeof("ARCTIC") - 1, 8);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2445
  case 124: {
    zend_declare_class_constant_long(date_ce_timezone, "ASIA",
                                     sizeof("ASIA") - 1, 16);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2446
  case 125: {
    zend_declare_class_constant_long(date_ce_timezone, "ATLANTIC",
                                     sizeof("ATLANTIC") - 1, 32);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2447
  case 126: {
    zend_declare_class_constant_long(date_ce_timezone, "AUSTRALIA",
                                     sizeof("AUSTRALIA") - 1, 64);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2448
  case 127: {
    zend_declare_class_constant_long(date_ce_timezone, "EUROPE",
                                     sizeof("EUROPE") - 1, 128);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2449
  case 128: {
    zend_declare_class_constant_long(date_ce_timezone, "INDIAN",
                                     sizeof("INDIAN") - 1, 256);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2450
  case 129: {
    zend_declare_class_constant_long(date_ce_timezone, "PACIFIC",
                                     sizeof("PACIFIC") - 1, 512);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2451
  case 130: {
    zend_declare_class_constant_long(date_ce_timezone, "PER_COUNTRY",
                                     sizeof("PER_COUNTRY") - 1, 4096);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2452
  case 131: {
    zend_declare_class_constant_long(date_ce_timezone, "UTC", sizeof("UTC") - 1,
                                     1024);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2453
  case 132: {
    zend_declare_class_constant_stringl(date_ce_date, "ATOM",
                                        sizeof("ATOM") - 1, "Y-m-d\\TH:i:sP",
                                        sizeof("Y-m-d\\TH:i:sP") - 1);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2454
  case 133: {
    zend_declare_class_constant_stringl(
        date_ce_date, "COOKIE", sizeof("COOKIE") - 1, "l, d-M-y H:i:s T",
        sizeof("l, d-M-y H:i:s T") - 1);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2455
  case 134: {
    zend_declare_class_constant_stringl(date_ce_date, "ISO8601",
                                        sizeof("ISO8601") - 1, "Y-m-d\\TH:i:sO",
                                        sizeof("Y-m-d\\TH:i:sO") - 1);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2456
  case 135: {
    zend_declare_class_constant_stringl(
        date_ce_date, "RFC1036", sizeof("RFC1036") - 1, "D, d M y H:i:s O",
        sizeof("D, d M y H:i:s O") - 1);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2457
  case 136: {
    zend_declare_class_constant_stringl(
        date_ce_date, "RFC1123", sizeof("RFC1123") - 1, "D, d M Y H:i:s O",
        sizeof("D, d M Y H:i:s O") - 1);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2458
  case 137: {
    zend_declare_class_constant_stringl(
        date_ce_date, "RFC2822", sizeof("RFC2822") - 1, "D, d M Y H:i:s O",
        sizeof("D, d M Y H:i:s O") - 1);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2459
  case 138: {
    zend_declare_class_constant_stringl(date_ce_date, "RFC3339",
                                        sizeof("RFC3339") - 1, "Y-m-d\\TH:i:sP",
                                        sizeof("Y-m-d\\TH:i:sP") - 1);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2460
  case 139: {
    zend_declare_class_constant_stringl(
        date_ce_date, "RFC822", sizeof("RFC822") - 1, "D, d M y H:i:s O",
        sizeof("D, d M y H:i:s O") - 1);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2461
  case 140: {
    zend_declare_class_constant_stringl(
        date_ce_date, "RFC850", sizeof("RFC850") - 1, "l, d-M-y H:i:s T",
        sizeof("l, d-M-y H:i:s T") - 1);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2462
  case 141: {
    zend_declare_class_constant_stringl(date_ce_date, "RSS", sizeof("RSS") - 1,
                                        "D, d M Y H:i:s O",
                                        sizeof("D, d M Y H:i:s O") - 1);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2463
  case 142: {
    zend_declare_class_constant_stringl(date_ce_date, "W3C", sizeof("W3C") - 1,
                                        "Y-m-d\\TH:i:sP",
                                        sizeof("Y-m-d\\TH:i:sP") - 1);
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2464
  case 143: {
    zend_error((1 << 0L),
               "An iterator cannot be used with foreach by reference");
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2465
  case 144: {
    zend_error((1 << 3L), "A non well formed numeric value encountered");
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
#ifdef COMPILE_2466
  case 145: {
    zend_hash_destroy((date_globals.tzcache));
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }

    break;
  }
#endif
  }
  // prophet generated patch
  switch (__choose("__ID13")) {
  case 0: {
    timelib_time_dtor(t);

    break;
  }
#ifdef COMPILE_2467
  case 1: {
    ((date_globals.tzcache)) = (HashTable *)_emalloc(
        (sizeof(HashTable)), "ext/date/php_date.c", 822, ((void *)0), 0);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2468
  case 2: {
    (date_globals.last_errors) = ((void *)0);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2469
  case 3: {
    (date_globals.timezone) = ((void *)0);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2470
  case 4: {
    (date_globals.timezone) = _estrndup(
        (zone), (zone_len), "ext/date/php_date.c", 3945, ((void *)0), 0);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2471
  case 5: {
    (date_globals.tzcache) = ((void *)0);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2472
  case 6: {
    (executor_globals.argument_stack) =
        zend_vm_stack_new_page(((16 * 1024) - 16));
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2473
  case 7: {
    (offset) = timelib_get_time_zone_info(t->sse, t->tz_info);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2474
  case 8: {
    (offset) = timelib_time_offset_ctor();
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2475
  case 9: {
    (offset)->abbr = malloc(9);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2476
  case 10: {
    (offset)->abbr = strdup(t->tz_abbr);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2477
  case 11: {
    (offset)->is_dst = t->dst;
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2478
  case 12: {
    (offset)->leap_secs = 0;
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2479
  case 13: {
    (offset)->offset = (t->z - (t->dst * 60)) * -60;
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2480
  case 14: {
    (t) = timelib_time_ctor();
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2481
  case 15: {
    (t)->tz_info = tzi;
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2482
  case 16: {
    (t)->zone_type = 3;
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2483
  case 17: {
    (tzi) = ((void *)0);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2484
  case 18: {
    (tzi) = get_timezone_info();
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2485
  case 19: {
    _efree(((date_globals.timezone)), "ext/date/php_date.c", 3942, ((void *)0),
           0);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2486
  case 20: {
    _efree(((date_globals.timezone)), "ext/date/php_date.c", 614, ((void *)0),
           0);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2487
  case 21: {
    _efree(((date_globals.timezone)), "ext/date/php_date.c", 628, ((void *)0),
           0);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2488
  case 22: {
    _efree(((date_globals.tzcache)), "ext/date/php_date.c", 633, ((void *)0),
           0);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2489
  case 23: {
    _zend_hash_init(((date_globals.tzcache)), (4), (((void *)0)),
                    (_php_date_tzinfo_dtor), (0), "ext/date/php_date.c", 823);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2490
  case 24: {
    ap_php_snprintf((offset)->abbr, 9, "GMT%c%02d%02d",
                    !localtime ? ((offset->offset < 0) ? '-' : '+') : '+',
                    !localtime ? abs(offset->offset / 3600) : 0,
                    !localtime ? abs((offset->offset % 3600) / 60) : 0);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2491
  case 25: {
    ap_php_snprintf(offset->abbr, 9, "GMT%c%02d%02d",
                    !localtime ? (((offset)->offset < 0) ? '-' : '+') : '+',
                    !localtime ? abs(offset->offset / 3600) : 0,
                    !localtime ? abs((offset->offset % 3600) / 60) : 0);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2492
  case 26: {
    ap_php_snprintf(offset->abbr, 9, "GMT%c%02d%02d",
                    !localtime ? ((offset->offset < 0) ? '-' : '+') : '+',
                    !localtime ? abs((offset)->offset / 3600) : 0,
                    !localtime ? abs((offset->offset % 3600) / 60) : 0);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2493
  case 27: {
    ap_php_snprintf(offset->abbr, 9, "GMT%c%02d%02d",
                    !localtime ? ((offset->offset < 0) ? '-' : '+') : '+',
                    !localtime ? abs(offset->offset / 3600) : 0,
                    !localtime ? abs(((offset)->offset % 3600) / 60) : 0);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2494
  case 28: {
    ap_php_snprintf(offset->abbr, 9, "GMT%c%02d%02d",
                    !localtime ? ((offset->offset < 0) ? '-' : '+') : '+',
                    !localtime ? abs(offset->offset / 3600) : 0,
                    !localtime ? abs((offset->offset % 3600) / 60) : 0);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2495
  case 29: {
    date_ce_period->get_iterator = date_object_period_get_iterator;
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2496
  case 30: {
    date_ce_period->iterator_funcs.funcs = &date_period_it_funcs;
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2497
  case 31: {
    date_object_handlers_date.clone_obj = date_object_clone_date;
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2498
  case 32: {
    date_object_handlers_date.compare_objects = date_object_compare_date;
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2499
  case 33: {
    date_object_handlers_date.get_properties = date_object_get_properties;
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2500
  case 34: {
    date_object_handlers_interval.clone_obj = date_object_clone_interval;
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2501
  case 35: {
    date_object_handlers_interval.get_properties =
        date_object_get_properties_interval;
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2502
  case 36: {
    date_object_handlers_interval.get_property_ptr_ptr = ((void *)0);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2503
  case 37: {
    date_object_handlers_interval.read_property = date_interval_read_property;
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2504
  case 38: {
    date_object_handlers_interval.write_property = date_interval_write_property;
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2505
  case 39: {
    date_object_handlers_period.clone_obj = date_object_clone_period;
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2506
  case 40: {
    date_object_handlers_timezone.clone_obj = date_object_clone_timezone;
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2507
  case 41: {
    date_register_classes();
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2508
  case 42: {
    exit(1);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2509
  case 43: {
    if (!(date_globals.tzcache)) {
      ((date_globals.tzcache)) = (HashTable *)_emalloc(
          (sizeof(HashTable)), "ext/date/php_date.c", 822, ((void *)0), 0);
      _zend_hash_init(((date_globals.tzcache)), (4), (((void *)0)),
                      (_php_date_tzinfo_dtor), (0), "ext/date/php_date.c", 823);
    }
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2510
  case 44: {
    if (!localtime) {
      timelib_time_offset_dtor(offset);
    }
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2511
  case 45: {
    if (!localtime) {
      tzi = get_timezone_info();
      t->tz_info = tzi;
      t->zone_type = 3;
      timelib_unixtime2local(t, ts);
    } else {
      tzi = ((void *)0);
      timelib_unixtime2gmt(t, ts);
    }
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2512
  case 46: {
    if ((date_globals.last_errors)) {
      timelib_error_container_dtor((date_globals.last_errors));
      (date_globals.last_errors) = ((void *)0);
    }
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2513
  case 47: {
    if ((date_globals.last_errors)) {
      timelib_error_container_dtor((date_globals.last_errors));
    }
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2514
  case 48: {
    if ((date_globals.timezone) && (strlen((date_globals.timezone)) > 0)) {
      return (date_globals.timezone);
    }
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2515
  case 49: {
    if ((date_globals.timezone)) {
      _efree(((date_globals.timezone)), "ext/date/php_date.c", 3942,
             ((void *)0), 0);
      (date_globals.timezone) = ((void *)0);
    }
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2516
  case 50: {
    if ((date_globals.timezone)) {
      _efree(((date_globals.timezone)), "ext/date/php_date.c", 614, ((void *)0),
             0);
    }
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2517
  case 51: {
    if ((date_globals.timezone)) {
      _efree(((date_globals.timezone)), "ext/date/php_date.c", 628, ((void *)0),
             0);
    }
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2518
  case 52: {
    if ((date_globals.tzcache)) {
      zend_hash_destroy((date_globals.tzcache));
      _efree(((date_globals.tzcache)), "ext/date/php_date.c", 633, ((void *)0),
             0);
      (date_globals.tzcache) = ((void *)0);
    }
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2519
  case 53: {
    if (t->zone_type == 1) {
      offset = timelib_time_offset_ctor();
      offset->offset = (t->z - (t->dst * 60)) * -60;
      offset->leap_secs = 0;
      offset->is_dst = t->dst;
      offset->abbr = malloc(9);
      ap_php_snprintf(offset->abbr, 9, "GMT%c%02d%02d",
                      !localtime ? ((offset->offset < 0) ? '-' : '+') : '+',
                      !localtime ? abs(offset->offset / 3600) : 0,
                      !localtime ? abs((offset->offset % 3600) / 60) : 0);
    } else {
      offset = timelib_get_time_zone_info(t->sse, t->tz_info);
    }
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2520
  case 54: {
    memcpy(&date_object_handlers_date, zend_get_std_object_handlers(),
           sizeof(zend_object_handlers));
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2521
  case 55: {
    memcpy(&date_object_handlers_interval, zend_get_std_object_handlers(),
           sizeof(zend_object_handlers));
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2522
  case 56: {
    memcpy(&date_object_handlers_period, zend_get_std_object_handlers(),
           sizeof(zend_object_handlers));
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2523
  case 57: {
    memcpy(&date_object_handlers_timezone, zend_get_std_object_handlers(),
           sizeof(zend_object_handlers));
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2524
  case 58: {
    memset(t, 0, sizeof(*(t)));
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2525
  case 59: {
    offset = timelib_get_time_zone_info((t)->sse, t->tz_info);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2526
  case 60: {
    offset = timelib_get_time_zone_info(t->sse, (t)->tz_info);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2527
  case 61: {
    offset = timelib_get_time_zone_info(t->sse, t->tz_info);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2528
  case 62: {
    offset = timelib_time_offset_ctor();
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2529
  case 63: {
    offset->abbr = malloc(9);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2530
  case 64: {
    offset->abbr = strdup((t)->tz_abbr);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2531
  case 65: {
    offset->abbr = strdup(t->tz_abbr);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2532
  case 66: {
    offset->is_dst = (t)->dst;
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2533
  case 67: {
    offset->is_dst = t->dst;
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2534
  case 68: {
    offset->leap_secs = 0;
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2535
  case 69: {
    offset->offset = ((t)->z - (t->dst * 60)) * -60;
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2536
  case 70: {
    offset->offset = (t->z - ((t)->dst * 60)) * -60;
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2537
  case 71: {
    offset->offset = (t->z - (t->dst * 60)) * -60;
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2538
  case 72: {
    php_date_global_timezone_db = ((void *)0);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2539
  case 73: {
    php_date_global_timezone_db_enabled = 0;
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2540
  case 74: {
    php_date_global_timezone_db_enabled = 1;
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2541
  case 75: {
    php_error_docref0(
        ((void *)0), (1 << 0L),
        "Timezone database is corrupt - this should *never* happen!");
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2542
  case 76: {
    php_error_docref0(((void *)0), (1 << 13L),
                      "The is_dst parameter is deprecated");
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2543
  case 77: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "Can only do this for zones with ID for now");
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2544
  case 78: {
    php_error_docref0(
        ((void *)0), (1 << 1L),
        "It is not safe to rely on the system's timezone settings. You are "
        "*required* to use the date.timezone setting or the "
        "date_default_timezone_set() function. In case you used any of those "
        "methods and you are still getting this warning, you most likely "
        "misspelled the timezone identifier. We had to select 'UTC' because "
        "your platform doesn't provide functionality for the guessing "
        "algorithm");
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2545
  case 79: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "Only non-special relative time specifications are "
                      "supported for subtraction");
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2546
  case 80: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The DateInterval object has not been correctly "
                      "initialized by its constructor");
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2547
  case 81: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The DateTime object has not been correctly initialized "
                      "by its constructor");
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2548
  case 82: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "The DateTimeZone object has not been correctly "
                      "initialized by its constructor");
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2549
  case 83: {
    php_error_docref0(
        ((void *)0), (1 << 1L),
        "This constructor accepts either (DateTime, DateInterval, int) OR "
        "(DateTime, DateInterval, DateTime) OR (string) as arguments.");
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2550
  case 84: {
    php_error_docref0(((void *)0), (1 << 1L),
                      "Unrecognized date format token.");
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2551
  case 85: {
    php_error_docref0(
        ((void *)0), (1 << 1L),
        "Wrong return format given, pick one of SUNFUNCS_RET_TIMESTAMP, "
        "SUNFUNCS_RET_STRING or SUNFUNCS_RET_DOUBLE");
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2552
  case 86: {
    php_error_docref0(((void *)0), (1 << 1L), "idate format is one char");
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2553
  case 87: {
    php_error_docref0(
        ((void *)0), (1 << 3L),
        "A two-letter ISO 3166-1 compatible country code is expected");
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2554
  case 88: {
    php_info_print_table_end();
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2555
  case 89: {
    php_info_print_table_row(2, "Timezone Database",
                             php_date_global_timezone_db_enabled ? "external"
                                                                 : "internal");
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2556
  case 90: {
    php_info_print_table_row(2, "date/time support", "enabled");
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2557
  case 91: {
    php_info_print_table_start();
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2558
  case 92: {
    retval = retval % 1000;
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2559
  case 93: {
    t = timelib_time_ctor();
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2560
  case 94: {
    t->tz_info = (tzi);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2561
  case 95: {
    t->tz_info = tzi;
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2562
  case 96: {
    t->zone_type = 3;
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2563
  case 97: {
    timelib_error_container_dtor((date_globals.last_errors));
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2564
  case 98: {
    timelib_get_current_offset(t);

    break;
  }
#endif
#ifdef COMPILE_2565
  case 99: {
    timelib_isoweek_from_date((t)->y, t->m, t->d, &isoweek, &isoyear);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2566
  case 100: {
    timelib_isoweek_from_date(t->y, (t)->m, t->d, &isoweek, &isoyear);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2567
  case 101: {
    timelib_isoweek_from_date(t->y, t->m, (t)->d, &isoweek, &isoyear);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2568
  case 102: {
    timelib_isoweek_from_date(t->y, t->m, t->d, &isoweek, &isoyear);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2569
  case 103: {
    timelib_time_clone(t);

    break;
  }
#endif
#ifdef COMPILE_2570
  case 104: {
    timelib_time_dtor((t));

    break;
  }
#endif
#ifdef COMPILE_2571
  case 105: {
    timelib_time_dtor((t));
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2572
  case 106: {
    timelib_time_dtor(t);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2573
  case 107: {
    timelib_time_offset_dtor((offset));
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2574
  case 108: {
    timelib_time_offset_dtor(offset);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2575
  case 109: {
    timelib_unixtime2gmt((t), (timelib_sll)time(((void *)0)));
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2576
  case 110: {
    timelib_unixtime2gmt((t), ts);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2577
  case 111: {
    timelib_unixtime2gmt(t, ts);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2578
  case 112: {
    timelib_unixtime2local((t), (timelib_sll)time(((void *)0)));
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2579
  case 113: {
    timelib_unixtime2local((t), ts);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2580
  case 114: {
    timelib_unixtime2local(t, ts);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2581
  case 115: {
    timelib_update_from_sse((t));
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2582
  case 116: {
    timelib_update_from_sse(t);

    break;
  }
#endif
#ifdef COMPILE_2583
  case 117: {
    timelib_update_ts((t), ((void *)0));
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2584
  case 118: {
    tzi = ((void *)0);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2585
  case 119: {
    tzi = get_timezone_info();
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2586
  case 120: {
    zend_class_implements(date_ce_period, 1, zend_ce_traversable);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2587
  case 121: {
    zend_declare_class_constant_long(date_ce_period, "EXCLUDE_START_DATE",
                                     sizeof("EXCLUDE_START_DATE") - 1, 1);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2588
  case 122: {
    zend_declare_class_constant_long(date_ce_timezone, "AFRICA",
                                     sizeof("AFRICA") - 1, 1);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2589
  case 123: {
    zend_declare_class_constant_long(date_ce_timezone, "ALL", sizeof("ALL") - 1,
                                     2047);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2590
  case 124: {
    zend_declare_class_constant_long(date_ce_timezone, "ALL_WITH_BC",
                                     sizeof("ALL_WITH_BC") - 1, 4095);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2591
  case 125: {
    zend_declare_class_constant_long(date_ce_timezone, "AMERICA",
                                     sizeof("AMERICA") - 1, 2);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2592
  case 126: {
    zend_declare_class_constant_long(date_ce_timezone, "ANTARCTICA",
                                     sizeof("ANTARCTICA") - 1, 4);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2593
  case 127: {
    zend_declare_class_constant_long(date_ce_timezone, "ARCTIC",
                                     sizeof("ARCTIC") - 1, 8);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2594
  case 128: {
    zend_declare_class_constant_long(date_ce_timezone, "ASIA",
                                     sizeof("ASIA") - 1, 16);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2595
  case 129: {
    zend_declare_class_constant_long(date_ce_timezone, "ATLANTIC",
                                     sizeof("ATLANTIC") - 1, 32);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2596
  case 130: {
    zend_declare_class_constant_long(date_ce_timezone, "AUSTRALIA",
                                     sizeof("AUSTRALIA") - 1, 64);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2597
  case 131: {
    zend_declare_class_constant_long(date_ce_timezone, "EUROPE",
                                     sizeof("EUROPE") - 1, 128);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2598
  case 132: {
    zend_declare_class_constant_long(date_ce_timezone, "INDIAN",
                                     sizeof("INDIAN") - 1, 256);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2599
  case 133: {
    zend_declare_class_constant_long(date_ce_timezone, "PACIFIC",
                                     sizeof("PACIFIC") - 1, 512);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2600
  case 134: {
    zend_declare_class_constant_long(date_ce_timezone, "PER_COUNTRY",
                                     sizeof("PER_COUNTRY") - 1, 4096);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2601
  case 135: {
    zend_declare_class_constant_long(date_ce_timezone, "UTC", sizeof("UTC") - 1,
                                     1024);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2602
  case 136: {
    zend_declare_class_constant_stringl(date_ce_date, "ATOM",
                                        sizeof("ATOM") - 1, "Y-m-d\\TH:i:sP",
                                        sizeof("Y-m-d\\TH:i:sP") - 1);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2603
  case 137: {
    zend_declare_class_constant_stringl(
        date_ce_date, "COOKIE", sizeof("COOKIE") - 1, "l, d-M-y H:i:s T",
        sizeof("l, d-M-y H:i:s T") - 1);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2604
  case 138: {
    zend_declare_class_constant_stringl(date_ce_date, "ISO8601",
                                        sizeof("ISO8601") - 1, "Y-m-d\\TH:i:sO",
                                        sizeof("Y-m-d\\TH:i:sO") - 1);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2605
  case 139: {
    zend_declare_class_constant_stringl(
        date_ce_date, "RFC1036", sizeof("RFC1036") - 1, "D, d M y H:i:s O",
        sizeof("D, d M y H:i:s O") - 1);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2606
  case 140: {
    zend_declare_class_constant_stringl(
        date_ce_date, "RFC1123", sizeof("RFC1123") - 1, "D, d M Y H:i:s O",
        sizeof("D, d M Y H:i:s O") - 1);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2607
  case 141: {
    zend_declare_class_constant_stringl(
        date_ce_date, "RFC2822", sizeof("RFC2822") - 1, "D, d M Y H:i:s O",
        sizeof("D, d M Y H:i:s O") - 1);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2608
  case 142: {
    zend_declare_class_constant_stringl(date_ce_date, "RFC3339",
                                        sizeof("RFC3339") - 1, "Y-m-d\\TH:i:sP",
                                        sizeof("Y-m-d\\TH:i:sP") - 1);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2609
  case 143: {
    zend_declare_class_constant_stringl(
        date_ce_date, "RFC822", sizeof("RFC822") - 1, "D, d M y H:i:s O",
        sizeof("D, d M y H:i:s O") - 1);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2610
  case 144: {
    zend_declare_class_constant_stringl(
        date_ce_date, "RFC850", sizeof("RFC850") - 1, "l, d-M-y H:i:s T",
        sizeof("l, d-M-y H:i:s T") - 1);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2611
  case 145: {
    zend_declare_class_constant_stringl(date_ce_date, "RSS", sizeof("RSS") - 1,
                                        "D, d M Y H:i:s O",
                                        sizeof("D, d M Y H:i:s O") - 1);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2612
  case 146: {
    zend_declare_class_constant_stringl(date_ce_date, "W3C", sizeof("W3C") - 1,
                                        "Y-m-d\\TH:i:sP",
                                        sizeof("Y-m-d\\TH:i:sP") - 1);
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2613
  case 147: {
    zend_error((1 << 0L),
               "An iterator cannot be used with foreach by reference");
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2614
  case 148: {
    zend_error((1 << 3L), "A non well formed numeric value encountered");
    timelib_time_dtor(t);

    break;
  }
#endif
#ifdef COMPILE_2615
  case 149: {
    zend_hash_destroy((date_globals.tzcache));
    timelib_time_dtor(t);

    break;
  }
#endif
  }

  return retval;
}
/* }}} */

/* {{{ proto string date(string format [, long timestamp])
   Format a local date/time */
PHP_FUNCTION(date) { php_date(INTERNAL_FUNCTION_PARAM_PASSTHRU, 1); }
/* }}} */

/* {{{ proto string gmdate(string format [, long timestamp])
   Format a GMT date/time */
PHP_FUNCTION(gmdate) { php_date(INTERNAL_FUNCTION_PARAM_PASSTHRU, 0); }
/* }}} */

/* {{{ proto int idate(string format [, int timestamp])
   Format a local time/date as integer */
PHP_FUNCTION(idate) {
  char *format;
  int format_len;
  long ts = 0;
  int ret;

  if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "s|l", &format,
                            &format_len, &ts) == FAILURE) {
    RETURN_FALSE;
  }

  if (format_len != 1) {
    php_error_docref(NULL TSRMLS_CC, E_WARNING, "idate format is one char");
    RETURN_FALSE;
  }

  if (ZEND_NUM_ARGS() == 1) {
    ts = time(NULL);
  }

  ret = php_idate(format[0], ts, 0 TSRMLS_CC);
  if (ret == -1) {
    php_error_docref(NULL TSRMLS_CC, E_WARNING,
                     "Unrecognized date format token.");
    RETURN_FALSE;
  }
  RETURN_LONG(ret);
}
/* }}} */

/* {{{ php_date_set_tzdb - NOT THREADSAFE */
PHPAPI void php_date_set_tzdb(timelib_tzdb *tzdb) {
  const timelib_tzdb *builtin = timelib_builtin_db();

  if (php_version_compare(tzdb->version, builtin->version) > 0) {
    php_date_global_timezone_db = tzdb;
    php_date_global_timezone_db_enabled = 1;
  }
}
/* }}} */

/* {{{ php_parse_date: Backwards compability function */
PHPAPI signed long php_parse_date(char *string, signed long *now) {
  timelib_time *parsed_time;
  timelib_error_container *error = NULL;
  int error2;
  signed long retval;

  parsed_time =
      timelib_strtotime(string, strlen(string), &error, DATE_TIMEZONEDB);
  if (error->error_count) {
    timelib_error_container_dtor(error);
    return -1;
  }
  timelib_error_container_dtor(error);
  timelib_update_ts(parsed_time, NULL);
  retval = timelib_date_to_int(parsed_time, &error2);
  timelib_time_dtor(parsed_time);
  if (error2) {
    return -1;
  }
  return retval;
}
/* }}} */

/* {{{ proto int strtotime(string time [, int now ])
   Convert string representation of date and time to a timestamp */
PHP_FUNCTION(strtotime) {
  char *times, *initial_ts;
  int time_len, error1, error2;
  struct timelib_error_container *error;
  long preset_ts = 0, ts;

  timelib_time *t, *now;
  timelib_tzinfo *tzi;

  tzi = get_timezone_info(TSRMLS_C);

  if (zend_parse_parameters_ex(ZEND_PARSE_PARAMS_QUIET,
                               ZEND_NUM_ARGS() TSRMLS_CC, "sl", &times,
                               &time_len, &preset_ts) != FAILURE) {
    /* We have an initial timestamp */
    now = timelib_time_ctor();

    initial_ts = emalloc(25);
    snprintf(initial_ts, 24, "@%ld UTC", preset_ts);
    t = timelib_strtotime(initial_ts, strlen(initial_ts), NULL,
                          DATE_TIMEZONEDB); /* we ignore the error here, as this
                                               should never fail */
    timelib_update_ts(t, tzi);
    now->tz_info = tzi;
    now->zone_type = TIMELIB_ZONETYPE_ID;
    timelib_unixtime2local(now, t->sse);
    timelib_time_dtor(t);
    efree(initial_ts);
  } else if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "s|l", &times,
                                   &time_len, &preset_ts) != FAILURE) {
    /* We have no initial timestamp */
    now = timelib_time_ctor();
    now->tz_info = tzi;
    now->zone_type = TIMELIB_ZONETYPE_ID;
    timelib_unixtime2local(now, (timelib_sll)time(NULL));
  } else {
    RETURN_FALSE;
  }

  if (!time_len) {
    timelib_time_dtor(now);
    RETURN_FALSE;
  }

  t = timelib_strtotime(times, time_len, &error, DATE_TIMEZONEDB);
  error1 = error->error_count;
  timelib_error_container_dtor(error);
  timelib_fill_holes(t, now, TIMELIB_NO_CLONE);
  timelib_update_ts(t, tzi);
  ts = timelib_date_to_int(t, &error2);

  timelib_time_dtor(now);
  timelib_time_dtor(t);

  if (error1 || error2) {
    RETURN_FALSE;
  } else {
    RETURN_LONG(ts);
  }
}
/* }}} */

/* {{{ php_mktime - (gm)mktime helper */
PHPAPI void php_mktime(INTERNAL_FUNCTION_PARAMETERS, int gmt) {
  long hou = 0, min = 0, sec = 0, mon = 0, day = 0, yea = 0, dst = -1;
  timelib_time *now;
  timelib_tzinfo *tzi = NULL;
  long ts, adjust_seconds = 0;
  int error;

  if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "|lllllll", &hou, &min,
                            &sec, &mon, &day, &yea, &dst) == FAILURE) {
    RETURN_FALSE;
  }
  /* Initialize structure with current time */
  now = timelib_time_ctor();
  if (gmt) {
    timelib_unixtime2gmt(now, (timelib_sll)time(NULL));
  } else {
    tzi = get_timezone_info(TSRMLS_C);
    now->tz_info = tzi;
    now->zone_type = TIMELIB_ZONETYPE_ID;
    timelib_unixtime2local(now, (timelib_sll)time(NULL));
  }
  /* Fill in the new data */
  switch (ZEND_NUM_ARGS()) {
  case 7:
    /* break intentionally missing */
  case 6:
    if (yea >= 0 && yea < 70) {
      yea += 2000;
    } else if (yea >= 70 && yea <= 100) {
      yea += 1900;
    }
    now->y = yea;
    /* break intentionally missing again */
  case 5:
    now->d = day;
    /* break missing intentionally here too */
  case 4:
    now->m = mon;
    /* and here */
  case 3:
    now->s = sec;
    /* yup, this break isn't here on purpose too */
  case 2:
    now->i = min;
    /* last intentionally missing break */
  case 1:
    now->h = hou;
    break;
  default:
    php_error_docref(NULL TSRMLS_CC, E_STRICT,
                     "You should be using the time() function instead");
  }
  /* Update the timestamp */
  if (gmt) {
    timelib_update_ts(now, NULL);
  } else {
    timelib_update_ts(now, tzi);
  }
  /* Support for the deprecated is_dst parameter */
  if (dst != -1) {
    php_error_docref(NULL TSRMLS_CC, E_DEPRECATED,
                     "The is_dst parameter is deprecated");
    if (gmt) {
      /* GMT never uses DST */
      if (dst == 1) {
        adjust_seconds = -3600;
      }
    } else {
      /* Figure out is_dst for current TS */
      timelib_time_offset *tmp_offset;
      tmp_offset = timelib_get_time_zone_info(now->sse, tzi);
      if (dst == 1 && tmp_offset->is_dst == 0) {
        adjust_seconds = -3600;
      }
      if (dst == 0 && tmp_offset->is_dst == 1) {
        adjust_seconds = +3600;
      }
      timelib_time_offset_dtor(tmp_offset);
    }
  }
  /* Clean up and return */
  ts = timelib_date_to_int(now, &error);
  ts += adjust_seconds;
  timelib_time_dtor(now);

  if (error) {
    RETURN_FALSE;
  } else {
    RETURN_LONG(ts);
  }
}
/* }}} */

/* {{{ proto int mktime([int hour [, int min [, int sec [, int mon [, int day [,
   int year]]]]]]) Get UNIX timestamp for a date */
PHP_FUNCTION(mktime) { php_mktime(INTERNAL_FUNCTION_PARAM_PASSTHRU, 0); }
/* }}} */

/* {{{ proto int gmmktime([int hour [, int min [, int sec [, int mon [, int day
   [, int year]]]]]]) Get UNIX timestamp for a GMT date */
PHP_FUNCTION(gmmktime) { php_mktime(INTERNAL_FUNCTION_PARAM_PASSTHRU, 1); }
/* }}} */

/* {{{ proto bool checkdate(int month, int day, int year)
   Returns true(1) if it is a valid date in gregorian calendar */
PHP_FUNCTION(checkdate) {
  long m, d, y;

  if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "lll", &m, &d, &y) ==
      FAILURE) {
    RETURN_FALSE;
  }

  if (y < 1 || y > 32767 || !timelib_valid_date(y, m, d)) {
    RETURN_FALSE;
  }
  RETURN_TRUE; /* True : This month, day, year arguments are valid */
}
/* }}} */

#ifdef HAVE_STRFTIME
/* {{{ php_strftime - (gm)strftime helper */
PHPAPI void php_strftime(INTERNAL_FUNCTION_PARAMETERS, int gmt) {
  char *format, *buf;
  int format_len;
  long timestamp = 0;
  struct tm ta;
  int max_reallocs = 5;
  size_t buf_len = 64, real_len;
  timelib_time *ts;
  timelib_tzinfo *tzi;
  timelib_time_offset *offset = NULL;

  timestamp = (long)time(NULL);

  if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "s|l", &format,
                            &format_len, &timestamp) == FAILURE) {
    RETURN_FALSE;
  }

  if (format_len == 0) {
    RETURN_FALSE;
  }

  ts = timelib_time_ctor();
  if (gmt) {
    tzi = NULL;
    timelib_unixtime2gmt(ts, (timelib_sll)timestamp);
  } else {
    tzi = get_timezone_info(TSRMLS_C);
    ts->tz_info = tzi;
    ts->zone_type = TIMELIB_ZONETYPE_ID;
    timelib_unixtime2local(ts, (timelib_sll)timestamp);
  }
  ta.tm_sec = ts->s;
  ta.tm_min = ts->i;
  ta.tm_hour = ts->h;
  ta.tm_mday = ts->d;
  ta.tm_mon = ts->m - 1;
  ta.tm_year = ts->y - 1900;
  ta.tm_wday = timelib_day_of_week(ts->y, ts->m, ts->d);
  ta.tm_yday = timelib_day_of_year(ts->y, ts->m, ts->d);
  if (gmt) {
    ta.tm_isdst = 0;
#if HAVE_TM_GMTOFF
    ta.tm_gmtoff = 0;
#endif
#if HAVE_TM_ZONE
    ta.tm_zone = "GMT";
#endif
  } else {
    offset = timelib_get_time_zone_info(timestamp, tzi);

    ta.tm_isdst = offset->is_dst;
#if HAVE_TM_GMTOFF
    ta.tm_gmtoff = offset->offset;
#endif
#if HAVE_TM_ZONE
    ta.tm_zone = offset->abbr;
#endif
  }

  buf = (char *)emalloc(buf_len);
  while ((real_len = strftime(buf, buf_len, format, &ta)) == buf_len ||
         real_len == 0) {
    buf_len *= 2;
    buf = (char *)erealloc(buf, buf_len);
    if (!--max_reallocs) {
      break;
    }
  }

  timelib_time_dtor(ts);
  if (!gmt) {
    timelib_time_offset_dtor(offset);
  }

  if (real_len && real_len != buf_len) {
    buf = (char *)erealloc(buf, real_len + 1);
    RETURN_STRINGL(buf, real_len, 0);
  }
  efree(buf);
  RETURN_FALSE;
}
/* }}} */

/* {{{ proto string strftime(string format [, int timestamp])
   Format a local time/date according to locale settings */
PHP_FUNCTION(strftime) { php_strftime(INTERNAL_FUNCTION_PARAM_PASSTHRU, 0); }
/* }}} */

/* {{{ proto string gmstrftime(string format [, int timestamp])
   Format a GMT/UCT time/date according to locale settings */
PHP_FUNCTION(gmstrftime) { php_strftime(INTERNAL_FUNCTION_PARAM_PASSTHRU, 1); }
/* }}} */
#endif

/* {{{ proto int time(void)
   Return current UNIX timestamp */
PHP_FUNCTION(time) { RETURN_LONG((long)time(NULL)); }
/* }}} */

/* {{{ proto array localtime([int timestamp [, bool associative_array]])
   Returns the results of the C system call localtime as an associative array if
   the associative_array argument is set to 1 other wise it is a regular array
 */
PHP_FUNCTION(localtime) {
  long timestamp = (long)time(NULL);
  zend_bool associative = 0;
  timelib_tzinfo *tzi;
  timelib_time *ts;

  if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "|lb", &timestamp,
                            &associative) == FAILURE) {
    RETURN_FALSE;
  }

  tzi = get_timezone_info(TSRMLS_C);
  ts = timelib_time_ctor();
  ts->tz_info = tzi;
  ts->zone_type = TIMELIB_ZONETYPE_ID;
  timelib_unixtime2local(ts, (timelib_sll)timestamp);

  array_init(return_value);

  if (associative) {
    add_assoc_long(return_value, "tm_sec", ts->s);
    add_assoc_long(return_value, "tm_min", ts->i);
    add_assoc_long(return_value, "tm_hour", ts->h);
    add_assoc_long(return_value, "tm_mday", ts->d);
    add_assoc_long(return_value, "tm_mon", ts->m - 1);
    add_assoc_long(return_value, "tm_year", ts->y - 1900);
    add_assoc_long(return_value, "tm_wday",
                   timelib_day_of_week(ts->y, ts->m, ts->d));
    add_assoc_long(return_value, "tm_yday",
                   timelib_day_of_year(ts->y, ts->m, ts->d));
    add_assoc_long(return_value, "tm_isdst", ts->dst);
  } else {
    add_next_index_long(return_value, ts->s);
    add_next_index_long(return_value, ts->i);
    add_next_index_long(return_value, ts->h);
    add_next_index_long(return_value, ts->d);
    add_next_index_long(return_value, ts->m - 1);
    add_next_index_long(return_value, ts->y - 1900);
    add_next_index_long(return_value, timelib_day_of_week(ts->y, ts->m, ts->d));
    add_next_index_long(return_value, timelib_day_of_year(ts->y, ts->m, ts->d));
    add_next_index_long(return_value, ts->dst);
  }

  timelib_time_dtor(ts);
}
/* }}} */

/* {{{ proto array getdate([int timestamp])
   Get date/time information */
PHP_FUNCTION(getdate) {
  long timestamp = (long)time(NULL);
  timelib_tzinfo *tzi;
  timelib_time *ts;

  if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "|l", &timestamp) ==
      FAILURE) {
    RETURN_FALSE;
  }

  tzi = get_timezone_info(TSRMLS_C);
  ts = timelib_time_ctor();
  ts->tz_info = tzi;
  ts->zone_type = TIMELIB_ZONETYPE_ID;
  timelib_unixtime2local(ts, (timelib_sll)timestamp);

  array_init(return_value);

  add_assoc_long(return_value, "seconds", ts->s);
  add_assoc_long(return_value, "minutes", ts->i);
  add_assoc_long(return_value, "hours", ts->h);
  add_assoc_long(return_value, "mday", ts->d);
  add_assoc_long(return_value, "wday",
                 timelib_day_of_week(ts->y, ts->m, ts->d));
  add_assoc_long(return_value, "mon", ts->m);
  add_assoc_long(return_value, "year", ts->y);
  add_assoc_long(return_value, "yday",
                 timelib_day_of_year(ts->y, ts->m, ts->d));
  add_assoc_string(return_value, "weekday",
                   php_date_full_day_name(ts->y, ts->m, ts->d), 1);
  add_assoc_string(return_value, "month", mon_full_names[ts->m - 1], 1);
  add_index_long(return_value, 0, timestamp);

  timelib_time_dtor(ts);
}
/* }}} */

#define PHP_DATE_TIMEZONE_GROUP_AFRICA 0x0001
#define PHP_DATE_TIMEZONE_GROUP_AMERICA 0x0002
#define PHP_DATE_TIMEZONE_GROUP_ANTARCTICA 0x0004
#define PHP_DATE_TIMEZONE_GROUP_ARCTIC 0x0008
#define PHP_DATE_TIMEZONE_GROUP_ASIA 0x0010
#define PHP_DATE_TIMEZONE_GROUP_ATLANTIC 0x0020
#define PHP_DATE_TIMEZONE_GROUP_AUSTRALIA 0x0040
#define PHP_DATE_TIMEZONE_GROUP_EUROPE 0x0080
#define PHP_DATE_TIMEZONE_GROUP_INDIAN 0x0100
#define PHP_DATE_TIMEZONE_GROUP_PACIFIC 0x0200
#define PHP_DATE_TIMEZONE_GROUP_UTC 0x0400
#define PHP_DATE_TIMEZONE_GROUP_ALL 0x07FF
#define PHP_DATE_TIMEZONE_GROUP_ALL_W_BC 0x0FFF
#define PHP_DATE_TIMEZONE_PER_COUNTRY 0x1000

#define PHP_DATE_PERIOD_EXCLUDE_START_DATE 0x0001

/* define an overloaded iterator structure */
typedef struct {
  zend_object_iterator intern;
  zval *date_period_zval;
  zval *current;
  php_period_obj *object;
  int current_index;
} date_period_it;

/* {{{ date_period_it_invalidate_current */
static void
date_period_it_invalidate_current(zend_object_iterator *iter TSRMLS_DC) {
  date_period_it *iterator = (date_period_it *)iter;

  if (iterator->current) {
    zval_ptr_dtor(&iterator->current);
    iterator->current = NULL;
  }
}
/* }}} */

/* {{{ date_period_it_dtor */
static void date_period_it_dtor(zend_object_iterator *iter TSRMLS_DC) {
  date_period_it *iterator = (date_period_it *)iter;

  date_period_it_invalidate_current(iter TSRMLS_CC);

  zval_ptr_dtor(&iterator->date_period_zval);

  efree(iterator);
}
/* }}} */

/* {{{ date_period_it_has_more */
static int date_period_it_has_more(zend_object_iterator *iter TSRMLS_DC) {
  date_period_it *iterator = (date_period_it *)iter;
  php_period_obj *object = iterator->object;
  timelib_time *it_time = object->current;

  /* apply modification if it's not the first iteration */
  if (!object->include_start_date || iterator->current_index > 0) {
    it_time->have_relative = 1;
    it_time->relative = *object->interval;
    it_time->sse_uptodate = 0;
    timelib_update_ts(it_time, NULL);
    timelib_update_from_sse(it_time);
  }

  if (object->end) {
    return object->current->sse < object->end->sse ? SUCCESS : FAILURE;
  } else {
    return (iterator->current_index < object->recurrences) ? SUCCESS : FAILURE;
  }
}
/* }}} */

/* {{{ date_period_it_current_data */
static void date_period_it_current_data(zend_object_iterator *iter,
                                        zval ***data TSRMLS_DC) {
  date_period_it *iterator = (date_period_it *)iter;
  php_period_obj *object = iterator->object;
  timelib_time *it_time = object->current;
  php_date_obj *newdateobj;

  /* Create new object */
  MAKE_STD_ZVAL(iterator->current);
  php_date_instantiate(date_ce_date, iterator->current TSRMLS_CC);
  newdateobj =
      (php_date_obj *)zend_object_store_get_object(iterator->current TSRMLS_CC);
  newdateobj->time = timelib_time_ctor();
  *newdateobj->time = *it_time;
  if (it_time->tz_abbr) {
    newdateobj->time->tz_abbr = strdup(it_time->tz_abbr);
  }
  if (it_time->tz_info) {
    newdateobj->time->tz_info = it_time->tz_info;
  }

  *data = &iterator->current;
}
/* }}} */

/* {{{ date_period_it_current_key */
static int date_period_it_current_key(zend_object_iterator *iter,
                                      char **str_key, uint *str_key_len,
                                      ulong *int_key TSRMLS_DC) {
  date_period_it *iterator = (date_period_it *)iter;
  *int_key = iterator->current_index;
  return HASH_KEY_IS_LONG;
}
/* }}} */

/* {{{ date_period_it_move_forward */
static void date_period_it_move_forward(zend_object_iterator *iter TSRMLS_DC) {
  date_period_it *iterator = (date_period_it *)iter;

  iterator->current_index++;
  date_period_it_invalidate_current(iter TSRMLS_CC);
}
/* }}} */

/* {{{ date_period_it_rewind */
static void date_period_it_rewind(zend_object_iterator *iter TSRMLS_DC) {
  date_period_it *iterator = (date_period_it *)iter;

  iterator->current_index = 0;
  if (iterator->object->current) {
    timelib_time_dtor(iterator->object->current);
  }
  iterator->object->current = timelib_time_clone(iterator->object->start);
  date_period_it_invalidate_current(iter TSRMLS_CC);
}
/* }}} */

/* iterator handler table */
zend_object_iterator_funcs date_period_it_funcs = {
    date_period_it_dtor,
    date_period_it_has_more,
    date_period_it_current_data,
    date_period_it_current_key,
    date_period_it_move_forward,
    date_period_it_rewind,
    date_period_it_invalidate_current};

zend_object_iterator *date_object_period_get_iterator(zend_class_entry *ce,
                                                      zval *object,
                                                      int by_ref TSRMLS_DC) {
  date_period_it *iterator = emalloc(sizeof(date_period_it));
  php_period_obj *dpobj =
      (php_period_obj *)zend_object_store_get_object(object TSRMLS_CC);

  if (by_ref) {
    zend_error(E_ERROR, "An iterator cannot be used with foreach by reference");
  }

  Z_ADDREF_P(object);
  iterator->intern.data = (void *)dpobj;
  iterator->intern.funcs = &date_period_it_funcs;
  iterator->date_period_zval = object;
  iterator->object = dpobj;
  iterator->current = NULL;

  return (zend_object_iterator *)iterator;
}

static void date_register_classes(TSRMLS_D) {
  zend_class_entry ce_date, ce_timezone, ce_interval, ce_period;

  INIT_CLASS_ENTRY(ce_date, "DateTime", date_funcs_date);
  ce_date.create_object = date_object_new_date;
  date_ce_date =
      zend_register_internal_class_ex(&ce_date, NULL, NULL TSRMLS_CC);
  memcpy(&date_object_handlers_date, zend_get_std_object_handlers(),
         sizeof(zend_object_handlers));
  date_object_handlers_date.clone_obj = date_object_clone_date;
  date_object_handlers_date.compare_objects = date_object_compare_date;
  date_object_handlers_date.get_properties = date_object_get_properties;

#define REGISTER_DATE_CLASS_CONST_STRING(const_name, value)                    \
  zend_declare_class_constant_stringl(date_ce_date, const_name,                \
                                      sizeof(const_name) - 1, value,           \
                                      sizeof(value) - 1 TSRMLS_CC);

  REGISTER_DATE_CLASS_CONST_STRING("ATOM", DATE_FORMAT_RFC3339);
  REGISTER_DATE_CLASS_CONST_STRING("COOKIE", DATE_FORMAT_RFC850);
  REGISTER_DATE_CLASS_CONST_STRING("ISO8601", DATE_FORMAT_ISO8601);
  REGISTER_DATE_CLASS_CONST_STRING("RFC822", DATE_FORMAT_RFC822);
  REGISTER_DATE_CLASS_CONST_STRING("RFC850", DATE_FORMAT_RFC850);
  REGISTER_DATE_CLASS_CONST_STRING("RFC1036", DATE_FORMAT_RFC1036);
  REGISTER_DATE_CLASS_CONST_STRING("RFC1123", DATE_FORMAT_RFC1123);
  REGISTER_DATE_CLASS_CONST_STRING("RFC2822", DATE_FORMAT_RFC2822);
  REGISTER_DATE_CLASS_CONST_STRING("RFC3339", DATE_FORMAT_RFC3339);
  REGISTER_DATE_CLASS_CONST_STRING("RSS", DATE_FORMAT_RFC1123);
  REGISTER_DATE_CLASS_CONST_STRING("W3C", DATE_FORMAT_RFC3339);

  INIT_CLASS_ENTRY(ce_timezone, "DateTimeZone", date_funcs_timezone);
  ce_timezone.create_object = date_object_new_timezone;
  date_ce_timezone =
      zend_register_internal_class_ex(&ce_timezone, NULL, NULL TSRMLS_CC);
  memcpy(&date_object_handlers_timezone, zend_get_std_object_handlers(),
         sizeof(zend_object_handlers));
  date_object_handlers_timezone.clone_obj = date_object_clone_timezone;

#define REGISTER_TIMEZONE_CLASS_CONST_STRING(const_name, value)                \
  zend_declare_class_constant_long(date_ce_timezone, const_name,               \
                                   sizeof(const_name) - 1, value TSRMLS_CC);

  REGISTER_TIMEZONE_CLASS_CONST_STRING("AFRICA",
                                       PHP_DATE_TIMEZONE_GROUP_AFRICA);
  REGISTER_TIMEZONE_CLASS_CONST_STRING("AMERICA",
                                       PHP_DATE_TIMEZONE_GROUP_AMERICA);
  REGISTER_TIMEZONE_CLASS_CONST_STRING("ANTARCTICA",
                                       PHP_DATE_TIMEZONE_GROUP_ANTARCTICA);
  REGISTER_TIMEZONE_CLASS_CONST_STRING("ARCTIC",
                                       PHP_DATE_TIMEZONE_GROUP_ARCTIC);
  REGISTER_TIMEZONE_CLASS_CONST_STRING("ASIA", PHP_DATE_TIMEZONE_GROUP_ASIA);
  REGISTER_TIMEZONE_CLASS_CONST_STRING("ATLANTIC",
                                       PHP_DATE_TIMEZONE_GROUP_ATLANTIC);
  REGISTER_TIMEZONE_CLASS_CONST_STRING("AUSTRALIA",
                                       PHP_DATE_TIMEZONE_GROUP_AUSTRALIA);
  REGISTER_TIMEZONE_CLASS_CONST_STRING("EUROPE",
                                       PHP_DATE_TIMEZONE_GROUP_EUROPE);
  REGISTER_TIMEZONE_CLASS_CONST_STRING("INDIAN",
                                       PHP_DATE_TIMEZONE_GROUP_INDIAN);
  REGISTER_TIMEZONE_CLASS_CONST_STRING("PACIFIC",
                                       PHP_DATE_TIMEZONE_GROUP_PACIFIC);
  REGISTER_TIMEZONE_CLASS_CONST_STRING("UTC", PHP_DATE_TIMEZONE_GROUP_UTC);
  REGISTER_TIMEZONE_CLASS_CONST_STRING("ALL", PHP_DATE_TIMEZONE_GROUP_ALL);
  REGISTER_TIMEZONE_CLASS_CONST_STRING("ALL_WITH_BC",
                                       PHP_DATE_TIMEZONE_GROUP_ALL_W_BC);
  REGISTER_TIMEZONE_CLASS_CONST_STRING("PER_COUNTRY",
                                       PHP_DATE_TIMEZONE_PER_COUNTRY);

  INIT_CLASS_ENTRY(ce_interval, "DateInterval", date_funcs_interval);
  ce_interval.create_object = date_object_new_interval;
  date_ce_interval =
      zend_register_internal_class_ex(&ce_interval, NULL, NULL TSRMLS_CC);
  memcpy(&date_object_handlers_interval, zend_get_std_object_handlers(),
         sizeof(zend_object_handlers));
  date_object_handlers_interval.clone_obj = date_object_clone_interval;
  date_object_handlers_interval.read_property = date_interval_read_property;
  date_object_handlers_interval.write_property = date_interval_write_property;
  date_object_handlers_interval.get_properties =
      date_object_get_properties_interval;
  date_object_handlers_interval.get_property_ptr_ptr = NULL;

  INIT_CLASS_ENTRY(ce_period, "DatePeriod", date_funcs_period);
  ce_period.create_object = date_object_new_period;
  date_ce_period =
      zend_register_internal_class_ex(&ce_period, NULL, NULL TSRMLS_CC);
  date_ce_period->get_iterator = date_object_period_get_iterator;
  date_ce_period->iterator_funcs.funcs = &date_period_it_funcs;
  zend_class_implements(date_ce_period TSRMLS_CC, 1, zend_ce_traversable);
  memcpy(&date_object_handlers_period, zend_get_std_object_handlers(),
         sizeof(zend_object_handlers));
  date_object_handlers_period.clone_obj = date_object_clone_period;

#define REGISTER_PERIOD_CLASS_CONST_STRING(const_name, value)                  \
  zend_declare_class_constant_long(date_ce_period, const_name,                 \
                                   sizeof(const_name) - 1, value TSRMLS_CC);

  REGISTER_PERIOD_CLASS_CONST_STRING("EXCLUDE_START_DATE",
                                     PHP_DATE_PERIOD_EXCLUDE_START_DATE);
}

static inline zend_object_value
date_object_new_date_ex(zend_class_entry *class_type,
                        php_date_obj **ptr TSRMLS_DC) {
  php_date_obj *intern;
  zend_object_value retval;

  intern = emalloc(sizeof(php_date_obj));
  memset(intern, 0, sizeof(php_date_obj));
  if (ptr) {
    *ptr = intern;
  }

  zend_object_std_init(&intern->std, class_type TSRMLS_CC);
  object_properties_init(&intern->std, class_type);

  retval.handle = zend_objects_store_put(
      intern, (zend_objects_store_dtor_t)zend_objects_destroy_object,
      (zend_objects_free_object_storage_t)date_object_free_storage_date,
      NULL TSRMLS_CC);
  retval.handlers = &date_object_handlers_date;

  return retval;
}

static zend_object_value
date_object_new_date(zend_class_entry *class_type TSRMLS_DC) {
  return date_object_new_date_ex(class_type, NULL TSRMLS_CC);
}

static zend_object_value date_object_clone_date(zval *this_ptr TSRMLS_DC) {
  php_date_obj *new_obj = NULL;
  php_date_obj *old_obj =
      (php_date_obj *)zend_object_store_get_object(this_ptr TSRMLS_CC);
  zend_object_value new_ov =
      date_object_new_date_ex(old_obj->std.ce, &new_obj TSRMLS_CC);

  zend_objects_clone_members(&new_obj->std, new_ov, &old_obj->std,
                             Z_OBJ_HANDLE_P(this_ptr) TSRMLS_CC);

  /* this should probably moved to a new `timelib_time
   * *timelime_time_clone(timelib_time *)` */
  new_obj->time = timelib_time_ctor();
  *new_obj->time = *old_obj->time;
  if (old_obj->time->tz_abbr) {
    new_obj->time->tz_abbr = strdup(old_obj->time->tz_abbr);
  }
  if (old_obj->time->tz_info) {
    new_obj->time->tz_info = old_obj->time->tz_info;
  }

  return new_ov;
}

static int date_object_compare_date(zval *d1, zval *d2 TSRMLS_DC) {
  if (Z_TYPE_P(d1) == IS_OBJECT && Z_TYPE_P(d2) == IS_OBJECT &&
      instanceof_function(Z_OBJCE_P(d1), date_ce_date TSRMLS_CC) &&
      instanceof_function(Z_OBJCE_P(d2), date_ce_date TSRMLS_CC)) {
    php_date_obj *o1 = zend_object_store_get_object(d1 TSRMLS_CC);
    php_date_obj *o2 = zend_object_store_get_object(d2 TSRMLS_CC);

    if (!o1->time->sse_uptodate) {
      timelib_update_ts(o1->time, o1->time->tz_info);
    }
    if (!o2->time->sse_uptodate) {
      timelib_update_ts(o2->time, o2->time->tz_info);
    }

    return (o1->time->sse == o2->time->sse)
               ? 0
               : ((o1->time->sse < o2->time->sse) ? -1 : 1);
  }

  return 1;
}

static HashTable *date_object_get_properties(zval *object TSRMLS_DC) {
  HashTable *props;
  zval *zv;
  php_date_obj *dateobj;

  dateobj = (php_date_obj *)zend_object_store_get_object(object TSRMLS_CC);

  props = zend_std_get_properties(object TSRMLS_CC);

  if (!dateobj->time || GC_G(gc_active)) {
    return props;
  }

  /* first we add the date and time in ISO format */
  MAKE_STD_ZVAL(zv);
  ZVAL_STRING(zv, date_format("Y-m-d H:i:s", 12, dateobj->time, 1), 0);
  zend_hash_update(props, "date", 5, &zv, sizeof(zval), NULL);

  /* then we add the timezone name (or similar) */
  if (dateobj->time->is_localtime) {
    MAKE_STD_ZVAL(zv);
    ZVAL_LONG(zv, dateobj->time->zone_type);
    zend_hash_update(props, "timezone_type", 14, &zv, sizeof(zval), NULL);

    MAKE_STD_ZVAL(zv);
    switch (dateobj->time->zone_type) {
    case TIMELIB_ZONETYPE_ID:
      ZVAL_STRING(zv, dateobj->time->tz_info->name, 1);
      break;
    case TIMELIB_ZONETYPE_OFFSET: {
      char *tmpstr = emalloc(sizeof("UTC+05:00"));
      timelib_sll utc_offset = dateobj->time->z;

      snprintf(tmpstr, sizeof("+05:00"), "%c%02d:%02d",
               utc_offset > 0 ? '-' : '+', abs(utc_offset / 60),
               abs((utc_offset % 60)));

      ZVAL_STRING(zv, tmpstr, 0);
    } break;
    case TIMELIB_ZONETYPE_ABBR:
      ZVAL_STRING(zv, dateobj->time->tz_abbr, 1);
      break;
    }
    zend_hash_update(props, "timezone", 9, &zv, sizeof(zval), NULL);
  }

  return props;
}

static inline zend_object_value
date_object_new_timezone_ex(zend_class_entry *class_type,
                            php_timezone_obj **ptr TSRMLS_DC) {
  php_timezone_obj *intern;
  zend_object_value retval;

  intern = emalloc(sizeof(php_timezone_obj));
  memset(intern, 0, sizeof(php_timezone_obj));
  if (ptr) {
    *ptr = intern;
  }

  zend_object_std_init(&intern->std, class_type TSRMLS_CC);
  object_properties_init(&intern->std, class_type);

  retval.handle = zend_objects_store_put(
      intern, (zend_objects_store_dtor_t)zend_objects_destroy_object,
      (zend_objects_free_object_storage_t)date_object_free_storage_timezone,
      NULL TSRMLS_CC);
  retval.handlers = &date_object_handlers_timezone;

  return retval;
}

static zend_object_value
date_object_new_timezone(zend_class_entry *class_type TSRMLS_DC) {
  return date_object_new_timezone_ex(class_type, NULL TSRMLS_CC);
}

static zend_object_value date_object_clone_timezone(zval *this_ptr TSRMLS_DC) {
  php_timezone_obj *new_obj = NULL;
  php_timezone_obj *old_obj =
      (php_timezone_obj *)zend_object_store_get_object(this_ptr TSRMLS_CC);
  zend_object_value new_ov =
      date_object_new_timezone_ex(old_obj->std.ce, &new_obj TSRMLS_CC);

  zend_objects_clone_members(&new_obj->std, new_ov, &old_obj->std,
                             Z_OBJ_HANDLE_P(this_ptr) TSRMLS_CC);
  new_obj->type = old_obj->type;
  new_obj->initialized = 1;
  switch (new_obj->type) {
  case TIMELIB_ZONETYPE_ID:
    new_obj->tzi.tz = old_obj->tzi.tz;
    break;
  case TIMELIB_ZONETYPE_OFFSET:
    new_obj->tzi.utc_offset = old_obj->tzi.utc_offset;
    break;
  case TIMELIB_ZONETYPE_ABBR:
    new_obj->tzi.z.utc_offset = old_obj->tzi.z.utc_offset;
    new_obj->tzi.z.dst = old_obj->tzi.z.dst;
    new_obj->tzi.z.abbr = old_obj->tzi.z.abbr;
    break;
  }

  return new_ov;
}

static inline zend_object_value
date_object_new_interval_ex(zend_class_entry *class_type,
                            php_interval_obj **ptr TSRMLS_DC) {
  php_interval_obj *intern;
  zend_object_value retval;

  intern = emalloc(sizeof(php_interval_obj));
  memset(intern, 0, sizeof(php_interval_obj));
  if (ptr) {
    *ptr = intern;
  }

  zend_object_std_init(&intern->std, class_type TSRMLS_CC);
  object_properties_init(&intern->std, class_type);

  retval.handle = zend_objects_store_put(
      intern, (zend_objects_store_dtor_t)zend_objects_destroy_object,
      (zend_objects_free_object_storage_t)date_object_free_storage_interval,
      NULL TSRMLS_CC);
  retval.handlers = &date_object_handlers_interval;

  return retval;
}

static zend_object_value
date_object_new_interval(zend_class_entry *class_type TSRMLS_DC) {
  return date_object_new_interval_ex(class_type, NULL TSRMLS_CC);
}

static zend_object_value date_object_clone_interval(zval *this_ptr TSRMLS_DC) {
  php_interval_obj *new_obj = NULL;
  php_interval_obj *old_obj =
      (php_interval_obj *)zend_object_store_get_object(this_ptr TSRMLS_CC);
  zend_object_value new_ov =
      date_object_new_interval_ex(old_obj->std.ce, &new_obj TSRMLS_CC);

  zend_objects_clone_members(&new_obj->std, new_ov, &old_obj->std,
                             Z_OBJ_HANDLE_P(this_ptr) TSRMLS_CC);

  /** FIX ME ADD CLONE STUFF **/
  return new_ov;
}

static HashTable *date_object_get_properties_interval(zval *object TSRMLS_DC) {
  HashTable *props;
  zval *zv;
  php_interval_obj *intervalobj;

  intervalobj =
      (php_interval_obj *)zend_object_store_get_object(object TSRMLS_CC);

  props = zend_std_get_properties(object TSRMLS_CC);

  if (!intervalobj->initialized || GC_G(gc_active)) {
    return props;
  }

#define PHP_DATE_INTERVAL_ADD_PROPERTY(n, f)                                   \
  MAKE_STD_ZVAL(zv);                                                           \
  ZVAL_LONG(zv, intervalobj->diff->f);                                         \
  zend_hash_update(props, n, strlen(n) + 1, &zv, sizeof(zval), NULL);

  PHP_DATE_INTERVAL_ADD_PROPERTY("y", y);
  PHP_DATE_INTERVAL_ADD_PROPERTY("m", m);
  PHP_DATE_INTERVAL_ADD_PROPERTY("d", d);
  PHP_DATE_INTERVAL_ADD_PROPERTY("h", h);
  PHP_DATE_INTERVAL_ADD_PROPERTY("i", i);
  PHP_DATE_INTERVAL_ADD_PROPERTY("s", s);
  PHP_DATE_INTERVAL_ADD_PROPERTY("invert", invert);
  if (intervalobj->diff->days != -99999) {
    PHP_DATE_INTERVAL_ADD_PROPERTY("days", days);
  } else {
    MAKE_STD_ZVAL(zv);
    ZVAL_FALSE(zv);
    zend_hash_update(props, "days", 5, &zv, sizeof(zval), NULL);
  }

  return props;
}

static inline zend_object_value
date_object_new_period_ex(zend_class_entry *class_type,
                          php_period_obj **ptr TSRMLS_DC) {
  php_period_obj *intern;
  zend_object_value retval;

  intern = emalloc(sizeof(php_period_obj));
  memset(intern, 0, sizeof(php_period_obj));
  if (ptr) {
    *ptr = intern;
  }

  zend_object_std_init(&intern->std, class_type TSRMLS_CC);
  object_properties_init(&intern->std, class_type);

  retval.handle = zend_objects_store_put(
      intern, (zend_objects_store_dtor_t)zend_objects_destroy_object,
      (zend_objects_free_object_storage_t)date_object_free_storage_period,
      NULL TSRMLS_CC);
  retval.handlers = &date_object_handlers_period;

  return retval;
}

static zend_object_value
date_object_new_period(zend_class_entry *class_type TSRMLS_DC) {
  return date_object_new_period_ex(class_type, NULL TSRMLS_CC);
}

static zend_object_value date_object_clone_period(zval *this_ptr TSRMLS_DC) {
  php_period_obj *new_obj = NULL;
  php_period_obj *old_obj =
      (php_period_obj *)zend_object_store_get_object(this_ptr TSRMLS_CC);
  zend_object_value new_ov =
      date_object_new_period_ex(old_obj->std.ce, &new_obj TSRMLS_CC);

  zend_objects_clone_members(&new_obj->std, new_ov, &old_obj->std,
                             Z_OBJ_HANDLE_P(this_ptr) TSRMLS_CC);

  /** FIX ME ADD CLONE STUFF **/
  return new_ov;
}

static void date_object_free_storage_date(void *object TSRMLS_DC) {
  php_date_obj *intern = (php_date_obj *)object;

  if (intern->time) {
    timelib_time_dtor(intern->time);
  }

  zend_object_std_dtor(&intern->std TSRMLS_CC);
  efree(object);
}

static void date_object_free_storage_timezone(void *object TSRMLS_DC) {
  php_timezone_obj *intern = (php_timezone_obj *)object;

  if (intern->type == TIMELIB_ZONETYPE_ABBR) {
    free(intern->tzi.z.abbr);
  }
  zend_object_std_dtor(&intern->std TSRMLS_CC);
  efree(object);
}

static void date_object_free_storage_interval(void *object TSRMLS_DC) {
  php_interval_obj *intern = (php_interval_obj *)object;

  timelib_rel_time_dtor(intern->diff);
  zend_object_std_dtor(&intern->std TSRMLS_CC);
  efree(object);
}

static void date_object_free_storage_period(void *object TSRMLS_DC) {
  php_period_obj *intern = (php_period_obj *)object;

  if (intern->start) {
    timelib_time_dtor(intern->start);
  }

  if (intern->current) {
    timelib_time_dtor(intern->current);
  }

  if (intern->end) {
    timelib_time_dtor(intern->end);
  }

  timelib_rel_time_dtor(intern->interval);
  zend_object_std_dtor(&intern->std TSRMLS_CC);
  efree(object);
}

/* Advanced Interface */
PHPAPI zval *php_date_instantiate(zend_class_entry *pce,
                                  zval *object TSRMLS_DC) {
  Z_TYPE_P(object) = IS_OBJECT;
  object_init_ex(object, pce);
  Z_SET_REFCOUNT_P(object, 1);
  Z_UNSET_ISREF_P(object);
  return object;
}

/* Helper function used to store the latest found warnings and errors while
 * parsing, from either strtotime or parse_from_format. */
static void
update_errors_warnings(timelib_error_container *last_errors TSRMLS_DC) {
  if (DATEG(last_errors)) {
    timelib_error_container_dtor(DATEG(last_errors));
    DATEG(last_errors) = NULL;
  }
  DATEG(last_errors) = last_errors;
}

PHPAPI int php_date_initialize(php_date_obj *dateobj, /*const*/ char *time_str,
                               int time_str_len, char *format,
                               zval *timezone_object, int ctor TSRMLS_DC) {
  timelib_time *now;
  timelib_tzinfo *tzi;
  timelib_error_container *err = NULL;
  int type = TIMELIB_ZONETYPE_ID, new_dst;
  char *new_abbr;
  timelib_sll new_offset;

  if (dateobj->time) {
    timelib_time_dtor(dateobj->time);
  }
  if (format) {
    dateobj->time = timelib_parse_from_format(
        format, time_str_len ? time_str : "", time_str_len ? time_str_len : 0,
        &err, DATE_TIMEZONEDB);
  } else {
    dateobj->time = timelib_strtotime(
        time_str_len ? time_str : "now",
        time_str_len ? time_str_len : sizeof("now") - 1, &err, DATE_TIMEZONEDB);
  }

  /* update last errors and warnings */
  update_errors_warnings(err TSRMLS_CC);

  if (ctor && err && err->error_count) {
    /* spit out the first library error message, at least */
    php_error_docref(NULL TSRMLS_CC, E_WARNING,
                     "Failed to parse time string (%s) at position %d (%c): %s",
                     time_str, err->error_messages[0].position,
                     err->error_messages[0].character,
                     err->error_messages[0].message);
  }
  if (err && err->error_count) {
    return 0;
  }

  if (timezone_object) {
    php_timezone_obj *tzobj;

    tzobj = (php_timezone_obj *)zend_object_store_get_object(
        timezone_object TSRMLS_CC);
    switch (tzobj->type) {
    case TIMELIB_ZONETYPE_ID:
      tzi = tzobj->tzi.tz;
      break;
    case TIMELIB_ZONETYPE_OFFSET:
      new_offset = tzobj->tzi.utc_offset;
      break;
    case TIMELIB_ZONETYPE_ABBR:
      new_offset = tzobj->tzi.z.utc_offset;
      new_dst = tzobj->tzi.z.dst;
      new_abbr = strdup(tzobj->tzi.z.abbr);
      break;
    }
    type = tzobj->type;
  } else if (dateobj->time->tz_info) {
    tzi = dateobj->time->tz_info;
  } else {
    tzi = get_timezone_info(TSRMLS_C);
  }

  now = timelib_time_ctor();
  now->zone_type = type;
  switch (type) {
  case TIMELIB_ZONETYPE_ID:
    now->tz_info = tzi;
    break;
  case TIMELIB_ZONETYPE_OFFSET:
    now->z = new_offset;
    break;
  case TIMELIB_ZONETYPE_ABBR:
    now->z = new_offset;
    now->dst = new_dst;
    now->tz_abbr = new_abbr;
    break;
  }
  timelib_unixtime2local(now, (timelib_sll)time(NULL));

  timelib_fill_holes(dateobj->time, now, TIMELIB_NO_CLONE);
  timelib_update_ts(dateobj->time, tzi);

  dateobj->time->have_relative = 0;

  timelib_time_dtor(now);

  return 1;
}

/* {{{ proto DateTime date_create([string time[, DateTimeZone object]])
   Returns new DateTime object
*/
PHP_FUNCTION(date_create) {
  zval *timezone_object = NULL;
  char *time_str = NULL;
  int time_str_len = 0;

  if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "|sO!", &time_str,
                            &time_str_len, &timezone_object,
                            date_ce_timezone) == FAILURE) {
    RETURN_FALSE;
  }

  php_date_instantiate(date_ce_date, return_value TSRMLS_CC);
  if (!php_date_initialize(zend_object_store_get_object(return_value TSRMLS_CC),
                           time_str, time_str_len, NULL, timezone_object,
                           0 TSRMLS_CC)) {
    RETURN_FALSE;
  }
}
/* }}} */

/* {{{ proto DateTime date_create_from_format(string format, string time[,
   DateTimeZone object]) Returns new DateTime object formatted according to the
   specified format
*/
PHP_FUNCTION(date_create_from_format) {
  zval *timezone_object = NULL;
  char *time_str = NULL, *format_str = NULL;
  int time_str_len = 0, format_str_len = 0;

  if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "ss|O", &format_str,
                            &format_str_len, &time_str, &time_str_len,
                            &timezone_object, date_ce_timezone) == FAILURE) {
    RETURN_FALSE;
  }

  php_date_instantiate(date_ce_date, return_value TSRMLS_CC);
  if (!php_date_initialize(zend_object_store_get_object(return_value TSRMLS_CC),
                           time_str, time_str_len, format_str, timezone_object,
                           0 TSRMLS_CC)) {
    RETURN_FALSE;
  }
}
/* }}} */

/* {{{ proto DateTime::__construct([string time[, DateTimeZone object]])
   Creates new DateTime object
*/
PHP_METHOD(DateTime, __construct) {
  zval *timezone_object = NULL;
  char *time_str = NULL;
  int time_str_len = 0;
  zend_error_handling error_handling;

  zend_replace_error_handling(EH_THROW, NULL, &error_handling TSRMLS_CC);
  if (SUCCESS == zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "|sO!",
                                       &time_str, &time_str_len,
                                       &timezone_object, date_ce_timezone)) {
    php_date_initialize(zend_object_store_get_object(getThis() TSRMLS_CC),
                        time_str, time_str_len, NULL, timezone_object,
                        1 TSRMLS_CC);
  }
  zend_restore_error_handling(&error_handling TSRMLS_CC);
}
/* }}} */

static int php_date_initialize_from_hash(zval **return_value,
                                         php_date_obj **dateobj,
                                         HashTable *myht TSRMLS_DC) {
  zval **z_date = NULL;
  zval **z_timezone = NULL;
  zval **z_timezone_type = NULL;
  zval *tmp_obj = NULL;
  timelib_tzinfo *tzi;
  php_timezone_obj *tzobj;

  if (zend_hash_find(myht, "date", 5, (void **)&z_date) == SUCCESS) {
    convert_to_string(*z_date);
    if (zend_hash_find(myht, "timezone_type", 14, (void **)&z_timezone_type) ==
        SUCCESS) {
      convert_to_long(*z_timezone_type);
      if (zend_hash_find(myht, "timezone", 9, (void **)&z_timezone) ==
          SUCCESS) {
        convert_to_string(*z_timezone);

        switch (Z_LVAL_PP(z_timezone_type)) {
        case TIMELIB_ZONETYPE_OFFSET:
        case TIMELIB_ZONETYPE_ABBR: {
          char *tmp =
              emalloc(Z_STRLEN_PP(z_date) + Z_STRLEN_PP(z_timezone) + 2);
          snprintf(tmp, Z_STRLEN_PP(z_date) + Z_STRLEN_PP(z_timezone) + 2,
                   "%s %s", Z_STRVAL_PP(z_date), Z_STRVAL_PP(z_timezone));
          php_date_initialize(*dateobj, tmp,
                              Z_STRLEN_PP(z_date) + Z_STRLEN_PP(z_timezone) + 1,
                              NULL, NULL, 0 TSRMLS_CC);
          efree(tmp);
          return 1;
        }

        case TIMELIB_ZONETYPE_ID:
          convert_to_string(*z_timezone);

          tzi = php_date_parse_tzfile(Z_STRVAL_PP(z_timezone),
                                      DATE_TIMEZONEDB TSRMLS_CC);

          ALLOC_INIT_ZVAL(tmp_obj);
          tzobj = zend_object_store_get_object(php_date_instantiate(
              date_ce_timezone, tmp_obj TSRMLS_CC) TSRMLS_CC);
          tzobj->type = TIMELIB_ZONETYPE_ID;
          tzobj->tzi.tz = tzi;
          tzobj->initialized = 1;

          php_date_initialize(*dateobj, Z_STRVAL_PP(z_date),
                              Z_STRLEN_PP(z_date), NULL, tmp_obj, 0 TSRMLS_CC);
          zval_ptr_dtor(&tmp_obj);
          return 1;
        }
      }
    }
  }
  return 0;
}

/* {{{ proto DateTime::__set_state()
 */
PHP_METHOD(DateTime, __set_state) {
  php_date_obj *dateobj;
  zval *array;
  HashTable *myht;

  if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "a", &array) ==
      FAILURE) {
    RETURN_FALSE;
  }

  myht = HASH_OF(array);

  php_date_instantiate(date_ce_date, return_value TSRMLS_CC);
  dateobj =
      (php_date_obj *)zend_object_store_get_object(return_value TSRMLS_CC);
  php_date_initialize_from_hash(&return_value, &dateobj, myht TSRMLS_CC);
}
/* }}} */

/* {{{ proto DateTime::__wakeup()
 */
PHP_METHOD(DateTime, __wakeup) {
  zval *object = getThis();
  php_date_obj *dateobj;
  HashTable *myht;

  dateobj = (php_date_obj *)zend_object_store_get_object(object TSRMLS_CC);

  myht = Z_OBJPROP_P(object);

  php_date_initialize_from_hash(&return_value, &dateobj, myht TSRMLS_CC);
}
/* }}} */

/* Helper function used to add an associative array of warnings and errors to a
 * zval */
static void zval_from_error_container(zval *z, timelib_error_container *error) {
  int i;
  zval *element;

  add_assoc_long(z, "warning_count", error->warning_count);
  MAKE_STD_ZVAL(element);
  array_init(element);
  for (i = 0; i < error->warning_count; i++) {
    add_index_string(element, error->warning_messages[i].position,
                     error->warning_messages[i].message, 1);
  }
  add_assoc_zval(z, "warnings", element);

  add_assoc_long(z, "error_count", error->error_count);
  MAKE_STD_ZVAL(element);
  array_init(element);
  for (i = 0; i < error->error_count; i++) {
    add_index_string(element, error->error_messages[i].position,
                     error->error_messages[i].message, 1);
  }
  add_assoc_zval(z, "errors", element);
}

/* {{{ proto array date_get_last_errors()
   Returns the warnings and errors found while parsing a date/time string.
*/
PHP_FUNCTION(date_get_last_errors) {
  if (DATEG(last_errors)) {
    array_init(return_value);
    zval_from_error_container(return_value, DATEG(last_errors));
  } else {
    RETURN_FALSE;
  }
}
/* }}} */

void php_date_do_return_parsed_time(INTERNAL_FUNCTION_PARAMETERS,
                                    timelib_time *parsed_time,
                                    struct timelib_error_container *error) {
  zval *element;

  array_init(return_value);
#define PHP_DATE_PARSE_DATE_SET_TIME_ELEMENT(name, elem)                       \
  if (parsed_time->elem == -99999) {                                           \
    add_assoc_bool(return_value, #name, 0);                                    \
  } else {                                                                     \
    add_assoc_long(return_value, #name, parsed_time->elem);                    \
  }
  PHP_DATE_PARSE_DATE_SET_TIME_ELEMENT(year, y);
  PHP_DATE_PARSE_DATE_SET_TIME_ELEMENT(month, m);
  PHP_DATE_PARSE_DATE_SET_TIME_ELEMENT(day, d);
  PHP_DATE_PARSE_DATE_SET_TIME_ELEMENT(hour, h);
  PHP_DATE_PARSE_DATE_SET_TIME_ELEMENT(minute, i);
  PHP_DATE_PARSE_DATE_SET_TIME_ELEMENT(second, s);

  if (parsed_time->f == -99999) {
    add_assoc_bool(return_value, "fraction", 0);
  } else {
    add_assoc_double(return_value, "fraction", parsed_time->f);
  }

  zval_from_error_container(return_value, error);

  timelib_error_container_dtor(error);

  add_assoc_bool(return_value, "is_localtime", parsed_time->is_localtime);

  if (parsed_time->is_localtime) {
    PHP_DATE_PARSE_DATE_SET_TIME_ELEMENT(zone_type, zone_type);
    switch (parsed_time->zone_type) {
    case TIMELIB_ZONETYPE_OFFSET:
      PHP_DATE_PARSE_DATE_SET_TIME_ELEMENT(zone, z);
      add_assoc_bool(return_value, "is_dst", parsed_time->dst);
      break;
    case TIMELIB_ZONETYPE_ID:
      if (parsed_time->tz_abbr) {
        add_assoc_string(return_value, "tz_abbr", parsed_time->tz_abbr, 1);
      }
      if (parsed_time->tz_info) {
        add_assoc_string(return_value, "tz_id", parsed_time->tz_info->name, 1);
      }
      break;
    case TIMELIB_ZONETYPE_ABBR:
      PHP_DATE_PARSE_DATE_SET_TIME_ELEMENT(zone, z);
      add_assoc_bool(return_value, "is_dst", parsed_time->dst);
      add_assoc_string(return_value, "tz_abbr", parsed_time->tz_abbr, 1);
      break;
    }
  }
  if (parsed_time->have_relative) {
    MAKE_STD_ZVAL(element);
    array_init(element);
    add_assoc_long(element, "year", parsed_time->relative.y);
    add_assoc_long(element, "month", parsed_time->relative.m);
    add_assoc_long(element, "day", parsed_time->relative.d);
    add_assoc_long(element, "hour", parsed_time->relative.h);
    add_assoc_long(element, "minute", parsed_time->relative.i);
    add_assoc_long(element, "second", parsed_time->relative.s);
    if (parsed_time->relative.have_weekday_relative) {
      add_assoc_long(element, "weekday", parsed_time->relative.weekday);
    }
    if (parsed_time->relative.have_special_relative &&
        (parsed_time->relative.special.type == TIMELIB_SPECIAL_WEEKDAY)) {
      add_assoc_long(element, "weekdays", parsed_time->relative.special.amount);
    }
    if (parsed_time->relative.first_last_day_of) {
      add_assoc_bool(element,
                     parsed_time->relative.first_last_day_of == 1
                         ? "first_day_of_month"
                         : "last_day_of_month",
                     1);
    }
    add_assoc_zval(return_value, "relative", element);
  }
  timelib_time_dtor(parsed_time);
}

/* {{{ proto array date_parse(string date)
   Returns associative array with detailed info about given date
*/
PHP_FUNCTION(date_parse) {
  char *date;
  int date_len;
  struct timelib_error_container *error;
  timelib_time *parsed_time;

  if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "s", &date, &date_len) ==
      FAILURE) {
    RETURN_FALSE;
  }

  parsed_time = timelib_strtotime(date, date_len, &error, DATE_TIMEZONEDB);
  php_date_do_return_parsed_time(INTERNAL_FUNCTION_PARAM_PASSTHRU, parsed_time,
                                 error);
}
/* }}} */

/* {{{ proto array date_parse_from_format(string format, string date)
   Returns associative array with detailed info about given date
*/
PHP_FUNCTION(date_parse_from_format) {
  char *date, *format;
  int date_len, format_len;
  struct timelib_error_container *error;
  timelib_time *parsed_time;

  if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "ss", &format,
                            &format_len, &date, &date_len) == FAILURE) {
    RETURN_FALSE;
  }

  parsed_time = timelib_parse_from_format(format, date, date_len, &error,
                                          DATE_TIMEZONEDB);
  php_date_do_return_parsed_time(INTERNAL_FUNCTION_PARAM_PASSTHRU, parsed_time,
                                 error);
}
/* }}} */

/* {{{ proto string date_format(DateTime object, string format)
   Returns date formatted according to given format
*/
PHP_FUNCTION(date_format) {
  zval *object;
  php_date_obj *dateobj;
  char *format;
  int format_len;

  if (zend_parse_method_parameters(ZEND_NUM_ARGS() TSRMLS_CC, getThis(), "Os",
                                   &object, date_ce_date, &format,
                                   &format_len) == FAILURE) {
    RETURN_FALSE;
  }
  dateobj = (php_date_obj *)zend_object_store_get_object(object TSRMLS_CC);
  DATE_CHECK_INITIALIZED(dateobj->time, DateTime);
  RETURN_STRING(date_format(format, format_len, dateobj->time,
                            dateobj->time->is_localtime),
                0);
}
/* }}} */

/* {{{ proto DateTime date_modify(DateTime object, string modify)
   Alters the timestamp.
*/
PHP_FUNCTION(date_modify) {
  zval *object;
  php_date_obj *dateobj;
  char *modify;
  int modify_len;
  timelib_time *tmp_time;
  timelib_error_container *err = NULL;

  if (zend_parse_method_parameters(ZEND_NUM_ARGS() TSRMLS_CC, getThis(), "Os",
                                   &object, date_ce_date, &modify,
                                   &modify_len) == FAILURE) {
    RETURN_FALSE;
  }
  dateobj = (php_date_obj *)zend_object_store_get_object(object TSRMLS_CC);
  DATE_CHECK_INITIALIZED(dateobj->time, DateTime);

  tmp_time = timelib_strtotime(modify, modify_len, &err, DATE_TIMEZONEDB);

  /* update last errors and warnings */
  update_errors_warnings(err TSRMLS_CC);
  if (err && err->error_count) {
    /* spit out the first library error message, at least */
    php_error_docref(NULL TSRMLS_CC, E_WARNING,
                     "Failed to parse time string (%s) at position %d (%c): %s",
                     modify, err->error_messages[0].position,
                     err->error_messages[0].character,
                     err->error_messages[0].message);
    timelib_time_dtor(tmp_time);
    RETURN_FALSE;
  }

  memcpy(&dateobj->time->relative, &tmp_time->relative,
         sizeof(struct timelib_rel_time));
  dateobj->time->have_relative = tmp_time->have_relative;
  dateobj->time->sse_uptodate = 0;

  if (tmp_time->y != -99999) {
    dateobj->time->y = tmp_time->y;
  }
  if (tmp_time->m != -99999) {
    dateobj->time->m = tmp_time->m;
  }
  if (tmp_time->d != -99999) {
    dateobj->time->d = tmp_time->d;
  }

  if (tmp_time->h != -99999) {
    dateobj->time->h = tmp_time->h;
    if (tmp_time->i != -99999) {
      dateobj->time->i = tmp_time->i;
      if (tmp_time->s != -99999) {
        dateobj->time->s = tmp_time->s;
      } else {
        dateobj->time->s = 0;
      }
    } else {
      dateobj->time->i = 0;
      dateobj->time->s = 0;
    }
  }
  timelib_time_dtor(tmp_time);

  timelib_update_ts(dateobj->time, NULL);
  timelib_update_from_sse(dateobj->time);
  dateobj->time->have_relative = 0;

  RETURN_ZVAL(object, 1, 0);
}
/* }}} */

/* {{{ proto DateTime date_add(DateTime object, DateInterval interval)
   Adds an interval to the current date in object.
*/
PHP_FUNCTION(date_add) {
  zval *object, *interval;
  php_date_obj *dateobj;
  php_interval_obj *intobj;
  int bias = 1;

  if (zend_parse_method_parameters(ZEND_NUM_ARGS() TSRMLS_CC, getThis(), "OO",
                                   &object, date_ce_date, &interval,
                                   date_ce_interval) == FAILURE) {
    RETURN_FALSE;
  }
  dateobj = (php_date_obj *)zend_object_store_get_object(object TSRMLS_CC);
  DATE_CHECK_INITIALIZED(dateobj->time, DateTime);
  intobj = (php_interval_obj *)zend_object_store_get_object(interval TSRMLS_CC);
  DATE_CHECK_INITIALIZED(intobj->initialized, DateInterval);

  if (intobj->diff->have_weekday_relative ||
      intobj->diff->have_special_relative) {
    memcpy(&dateobj->time->relative, intobj->diff,
           sizeof(struct timelib_rel_time));
  } else {
    if (intobj->diff->invert) {
      bias = -1;
    }
    memset(&dateobj->time->relative, 0, sizeof(struct timelib_rel_time));
    dateobj->time->relative.y = intobj->diff->y * bias;
    dateobj->time->relative.m = intobj->diff->m * bias;
    dateobj->time->relative.d = intobj->diff->d * bias;
    dateobj->time->relative.h = intobj->diff->h * bias;
    dateobj->time->relative.i = intobj->diff->i * bias;
    dateobj->time->relative.s = intobj->diff->s * bias;
  }
  dateobj->time->have_relative = 1;
  dateobj->time->sse_uptodate = 0;

  timelib_update_ts(dateobj->time, NULL);
  timelib_update_from_sse(dateobj->time);
  dateobj->time->have_relative = 0;

  RETURN_ZVAL(object, 1, 0);
}
/* }}} */

/* {{{ proto DateTime date_sub(DateTime object, DateInterval interval)
   Subtracts an interval to the current date in object.
*/
PHP_FUNCTION(date_sub) {
  zval *object, *interval;
  php_date_obj *dateobj;
  php_interval_obj *intobj;
  int bias = 1;

  if (zend_parse_method_parameters(ZEND_NUM_ARGS() TSRMLS_CC, getThis(), "OO",
                                   &object, date_ce_date, &interval,
                                   date_ce_interval) == FAILURE) {
    RETURN_FALSE;
  }
  dateobj = (php_date_obj *)zend_object_store_get_object(object TSRMLS_CC);
  DATE_CHECK_INITIALIZED(dateobj->time, DateTime);
  intobj = (php_interval_obj *)zend_object_store_get_object(interval TSRMLS_CC);
  DATE_CHECK_INITIALIZED(intobj->initialized, DateInterval);

  if (intobj->diff->have_special_relative) {
    php_error_docref(NULL TSRMLS_CC, E_WARNING,
                     "Only non-special relative time specifications are "
                     "supported for subtraction");
    return;
  }

  if (intobj->diff->invert) {
    bias = -1;
  }

  memset(&dateobj->time->relative, 0, sizeof(struct timelib_rel_time));
  dateobj->time->relative.y = 0 - (intobj->diff->y * bias);
  dateobj->time->relative.m = 0 - (intobj->diff->m * bias);
  dateobj->time->relative.d = 0 - (intobj->diff->d * bias);
  dateobj->time->relative.h = 0 - (intobj->diff->h * bias);
  dateobj->time->relative.i = 0 - (intobj->diff->i * bias);
  dateobj->time->relative.s = 0 - (intobj->diff->s * bias);
  dateobj->time->have_relative = 1;
  dateobj->time->sse_uptodate = 0;

  timelib_update_ts(dateobj->time, NULL);
  timelib_update_from_sse(dateobj->time);

  dateobj->time->have_relative = 0;

  RETURN_ZVAL(object, 1, 0);
}
/* }}} */

/* {{{ proto DateTimeZone date_timezone_get(DateTime object)
   Return new DateTimeZone object relative to give DateTime
*/
PHP_FUNCTION(date_timezone_get) {
  zval *object;
  php_date_obj *dateobj;
  php_timezone_obj *tzobj;

  if (zend_parse_method_parameters(ZEND_NUM_ARGS() TSRMLS_CC, getThis(), "O",
                                   &object, date_ce_date) == FAILURE) {
    RETURN_FALSE;
  }
  dateobj = (php_date_obj *)zend_object_store_get_object(object TSRMLS_CC);
  DATE_CHECK_INITIALIZED(dateobj->time, DateTime);
  if (dateobj->time->is_localtime /* && dateobj->time->tz_info*/) {
    php_date_instantiate(date_ce_timezone, return_value TSRMLS_CC);
    tzobj = (php_timezone_obj *)zend_object_store_get_object(
        return_value TSRMLS_CC);
    tzobj->initialized = 1;
    tzobj->type = dateobj->time->zone_type;
    switch (dateobj->time->zone_type) {
    case TIMELIB_ZONETYPE_ID:
      tzobj->tzi.tz = dateobj->time->tz_info;
      break;
    case TIMELIB_ZONETYPE_OFFSET:
      tzobj->tzi.utc_offset = dateobj->time->z;
      break;
    case TIMELIB_ZONETYPE_ABBR:
      tzobj->tzi.z.utc_offset = dateobj->time->z;
      tzobj->tzi.z.dst = dateobj->time->dst;
      tzobj->tzi.z.abbr = strdup(dateobj->time->tz_abbr);
      break;
    }
  } else {
    RETURN_FALSE;
  }
}
/* }}} */

/* {{{ proto DateTime date_timezone_set(DateTime object, DateTimeZone object)
   Sets the timezone for the DateTime object.
*/
PHP_FUNCTION(date_timezone_set) {
  zval *object;
  zval *timezone_object;
  php_date_obj *dateobj;
  php_timezone_obj *tzobj;

  if (zend_parse_method_parameters(ZEND_NUM_ARGS() TSRMLS_CC, getThis(), "OO",
                                   &object, date_ce_date, &timezone_object,
                                   date_ce_timezone) == FAILURE) {
    RETURN_FALSE;
  }
  dateobj = (php_date_obj *)zend_object_store_get_object(object TSRMLS_CC);
  DATE_CHECK_INITIALIZED(dateobj->time, DateTime);
  tzobj = (php_timezone_obj *)zend_object_store_get_object(
      timezone_object TSRMLS_CC);
  if (tzobj->type != TIMELIB_ZONETYPE_ID) {
    php_error_docref(NULL TSRMLS_CC, E_WARNING,
                     "Can only do this for zones with ID for now");
    return;
  }
  timelib_set_timezone(dateobj->time, tzobj->tzi.tz);
  timelib_unixtime2local(dateobj->time, dateobj->time->sse);

  RETURN_ZVAL(object, 1, 0);
}
/* }}} */

/* {{{ proto long date_offset_get(DateTime object)
   Returns the DST offset.
*/
PHP_FUNCTION(date_offset_get) {
  zval *object;
  php_date_obj *dateobj;
  timelib_time_offset *offset;

  if (zend_parse_method_parameters(ZEND_NUM_ARGS() TSRMLS_CC, getThis(), "O",
                                   &object, date_ce_date) == FAILURE) {
    RETURN_FALSE;
  }
  dateobj = (php_date_obj *)zend_object_store_get_object(object TSRMLS_CC);
  DATE_CHECK_INITIALIZED(dateobj->time, DateTime);
  if (dateobj->time->is_localtime /* && dateobj->time->tz_info*/) {
    switch (dateobj->time->zone_type) {
    case TIMELIB_ZONETYPE_ID:
      offset = timelib_get_time_zone_info(dateobj->time->sse,
                                          dateobj->time->tz_info);
      RETVAL_LONG(offset->offset);
      timelib_time_offset_dtor(offset);
      break;
    case TIMELIB_ZONETYPE_OFFSET:
      RETVAL_LONG(dateobj->time->z * -60);
      break;
    case TIMELIB_ZONETYPE_ABBR:
      RETVAL_LONG((dateobj->time->z - (60 * dateobj->time->dst)) * -60);
      break;
    }
    return;
  } else {
    RETURN_LONG(0);
  }
}
/* }}} */

/* {{{ proto DateTime date_time_set(DateTime object, long hour, long minute[,
   long second]) Sets the time.
*/
PHP_FUNCTION(date_time_set) {
  zval *object;
  php_date_obj *dateobj;
  long h, i, s = 0;

  if (zend_parse_method_parameters(ZEND_NUM_ARGS() TSRMLS_CC, getThis(),
                                   "Oll|l", &object, date_ce_date, &h, &i,
                                   &s) == FAILURE) {
    RETURN_FALSE;
  }
  dateobj = (php_date_obj *)zend_object_store_get_object(object TSRMLS_CC);
  DATE_CHECK_INITIALIZED(dateobj->time, DateTime);
  dateobj->time->h = h;
  dateobj->time->i = i;
  dateobj->time->s = s;
  timelib_update_ts(dateobj->time, NULL);

  RETURN_ZVAL(object, 1, 0);
}
/* }}} */

/* {{{ proto DateTime date_date_set(DateTime object, long year, long month, long
   day) Sets the date.
*/
PHP_FUNCTION(date_date_set) {
  zval *object;
  php_date_obj *dateobj;
  long y, m, d;

  if (zend_parse_method_parameters(ZEND_NUM_ARGS() TSRMLS_CC, getThis(), "Olll",
                                   &object, date_ce_date, &y, &m,
                                   &d) == FAILURE) {
    RETURN_FALSE;
  }
  dateobj = (php_date_obj *)zend_object_store_get_object(object TSRMLS_CC);
  DATE_CHECK_INITIALIZED(dateobj->time, DateTime);
  dateobj->time->y = y;
  dateobj->time->m = m;
  dateobj->time->d = d;
  timelib_update_ts(dateobj->time, NULL);

  RETURN_ZVAL(object, 1, 0);
}
/* }}} */

/* {{{ proto DateTime date_isodate_set(DateTime object, long year, long week[,
   long day]) Sets the ISO date.
*/
PHP_FUNCTION(date_isodate_set) {
  zval *object;
  php_date_obj *dateobj;
  long y, w, d = 1;

  if (zend_parse_method_parameters(ZEND_NUM_ARGS() TSRMLS_CC, getThis(),
                                   "Oll|l", &object, date_ce_date, &y, &w,
                                   &d) == FAILURE) {
    RETURN_FALSE;
  }
  dateobj = (php_date_obj *)zend_object_store_get_object(object TSRMLS_CC);
  DATE_CHECK_INITIALIZED(dateobj->time, DateTime);
  dateobj->time->y = y;
  dateobj->time->m = 1;
  dateobj->time->d = 1;
  memset(&dateobj->time->relative, 0, sizeof(dateobj->time->relative));
  dateobj->time->relative.d = timelib_daynr_from_weeknr(y, w, d);
  dateobj->time->have_relative = 1;

  timelib_update_ts(dateobj->time, NULL);

  RETURN_ZVAL(object, 1, 0);
}
/* }}} */

/* {{{ proto DateTime date_timestamp_set(DateTime object, long unixTimestamp)
   Sets the date and time based on an Unix timestamp.
*/
PHP_FUNCTION(date_timestamp_set) {
  zval *object;
  php_date_obj *dateobj;
  long timestamp;

  if (zend_parse_method_parameters(ZEND_NUM_ARGS() TSRMLS_CC, getThis(), "Ol",
                                   &object, date_ce_date,
                                   &timestamp) == FAILURE) {
    RETURN_FALSE;
  }
  dateobj = (php_date_obj *)zend_object_store_get_object(object TSRMLS_CC);
  DATE_CHECK_INITIALIZED(dateobj->time, DateTime);
  timelib_unixtime2local(dateobj->time, (timelib_sll)timestamp);
  timelib_update_ts(dateobj->time, NULL);

  RETURN_ZVAL(object, 1, 0);
}
/* }}} */

/* {{{ proto long date_timestamp_get(DateTime object)
   Gets the Unix timestamp.
*/
PHP_FUNCTION(date_timestamp_get) {
  zval *object;
  php_date_obj *dateobj;
  long timestamp;
  int error;

  if (zend_parse_method_parameters(ZEND_NUM_ARGS() TSRMLS_CC, getThis(), "O",
                                   &object, date_ce_date) == FAILURE) {
    RETURN_FALSE;
  }
  dateobj = (php_date_obj *)zend_object_store_get_object(object TSRMLS_CC);
  DATE_CHECK_INITIALIZED(dateobj->time, DateTime);
  timelib_update_ts(dateobj->time, NULL);

  timestamp = timelib_date_to_int(dateobj->time, &error);
  if (error) {
    RETURN_FALSE;
  } else {
    RETVAL_LONG(timestamp);
  }
}
/* }}} */

/* {{{ proto DateInterval date_diff(DateTime object [, bool absolute])
   Returns the difference between two DateTime objects.
*/
PHP_FUNCTION(date_diff) {
  zval *object1, *object2;
  php_date_obj *dateobj1, *dateobj2;
  php_interval_obj *interval;
  long absolute = 0;

  if (zend_parse_method_parameters(ZEND_NUM_ARGS() TSRMLS_CC, getThis(), "OO|l",
                                   &object1, date_ce_date, &object2,
                                   date_ce_date, &absolute) == FAILURE) {
    RETURN_FALSE;
  }
  dateobj1 = (php_date_obj *)zend_object_store_get_object(object1 TSRMLS_CC);
  dateobj2 = (php_date_obj *)zend_object_store_get_object(object2 TSRMLS_CC);
  DATE_CHECK_INITIALIZED(dateobj1->time, DateTime);
  DATE_CHECK_INITIALIZED(dateobj2->time, DateTime);
  timelib_update_ts(dateobj1->time, NULL);
  timelib_update_ts(dateobj2->time, NULL);

  php_date_instantiate(date_ce_interval, return_value TSRMLS_CC);
  interval = zend_object_store_get_object(return_value TSRMLS_CC);
  interval->diff = timelib_diff(dateobj1->time, dateobj2->time);
  if (absolute) {
    interval->diff->invert = 0;
  }
  interval->initialized = 1;
}
/* }}} */

static int timezone_initialize(timelib_tzinfo **tzi,
                               /*const*/ char *tz TSRMLS_DC) {
  char *tzid;

  *tzi = NULL;

  if ((tzid = timelib_timezone_id_from_abbr(tz, -1, 0))) {
    *tzi = php_date_parse_tzfile(tzid, DATE_TIMEZONEDB TSRMLS_CC);
  } else {
    *tzi = php_date_parse_tzfile(tz, DATE_TIMEZONEDB TSRMLS_CC);
  }

  if (*tzi) {
    return SUCCESS;
  } else {
    php_error_docref(NULL TSRMLS_CC, E_WARNING, "Unknown or bad timezone (%s)",
                     tz);
    return FAILURE;
  }
}

/* {{{ proto DateTimeZone timezone_open(string timezone)
   Returns new DateTimeZone object
*/
PHP_FUNCTION(timezone_open) {
  char *tz;
  int tz_len;
  timelib_tzinfo *tzi = NULL;
  php_timezone_obj *tzobj;

  if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "s", &tz, &tz_len) ==
      FAILURE) {
    RETURN_FALSE;
  }
  if (SUCCESS != timezone_initialize(&tzi, tz TSRMLS_CC)) {
    RETURN_FALSE;
  }
  tzobj = zend_object_store_get_object(
      php_date_instantiate(date_ce_timezone, return_value TSRMLS_CC) TSRMLS_CC);
  tzobj->type = TIMELIB_ZONETYPE_ID;
  tzobj->tzi.tz = tzi;
  tzobj->initialized = 1;
}
/* }}} */

/* {{{ proto DateTimeZone::__construct(string timezone)
   Creates new DateTimeZone object.
*/
PHP_METHOD(DateTimeZone, __construct) {
  char *tz;
  int tz_len;
  timelib_tzinfo *tzi = NULL;
  php_timezone_obj *tzobj;
  zend_error_handling error_handling;

  zend_replace_error_handling(EH_THROW, NULL, &error_handling TSRMLS_CC);
  if (SUCCESS ==
      zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "s", &tz, &tz_len)) {
    if (SUCCESS == timezone_initialize(&tzi, tz TSRMLS_CC)) {
      tzobj = zend_object_store_get_object(getThis() TSRMLS_CC);
      tzobj->type = TIMELIB_ZONETYPE_ID;
      tzobj->tzi.tz = tzi;
      tzobj->initialized = 1;
    } else {
      ZVAL_NULL(getThis());
    }
  }
  zend_restore_error_handling(&error_handling TSRMLS_CC);
}
/* }}} */

/* {{{ proto string timezone_name_get(DateTimeZone object)
   Returns the name of the timezone.
*/
PHP_FUNCTION(timezone_name_get) {
  zval *object;
  php_timezone_obj *tzobj;

  if (zend_parse_method_parameters(ZEND_NUM_ARGS() TSRMLS_CC, getThis(), "O",
                                   &object, date_ce_timezone) == FAILURE) {
    RETURN_FALSE;
  }
  tzobj = (php_timezone_obj *)zend_object_store_get_object(object TSRMLS_CC);
  DATE_CHECK_INITIALIZED(tzobj->initialized, DateTimeZone);

  switch (tzobj->type) {
  case TIMELIB_ZONETYPE_ID:
    RETURN_STRING(tzobj->tzi.tz->name, 1);
    break;
  case TIMELIB_ZONETYPE_OFFSET: {
    char *tmpstr = emalloc(sizeof("UTC+05:00"));
    timelib_sll utc_offset = tzobj->tzi.utc_offset;

    snprintf(tmpstr, sizeof("+05:00"), "%c%02d:%02d",
             utc_offset > 0 ? '-' : '+', abs(utc_offset / 60),
             abs((utc_offset % 60)));

    RETURN_STRING(tmpstr, 0);
  } break;
  case TIMELIB_ZONETYPE_ABBR:
    RETURN_STRING(tzobj->tzi.z.abbr, 1);
    break;
  }
}
/* }}} */

/* {{{ proto string timezone_name_from_abbr(string abbr[, long gmtOffset[, long
   isdst]]) Returns the timezone name from abbrevation
*/
PHP_FUNCTION(timezone_name_from_abbr) {
  char *abbr;
  char *tzid;
  int abbr_len;
  long gmtoffset = -1;
  long isdst = -1;

  if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "s|ll", &abbr, &abbr_len,
                            &gmtoffset, &isdst) == FAILURE) {
    RETURN_FALSE;
  }
  tzid = timelib_timezone_id_from_abbr(abbr, gmtoffset, isdst);

  if (tzid) {
    RETURN_STRING(tzid, 1);
  } else {
    RETURN_FALSE;
  }
}
/* }}} */

/* {{{ proto long timezone_offset_get(DateTimeZone object, DateTime object)
   Returns the timezone offset.
*/
PHP_FUNCTION(timezone_offset_get) {
  zval *object, *dateobject;
  php_timezone_obj *tzobj;
  php_date_obj *dateobj;
  timelib_time_offset *offset;

  if (zend_parse_method_parameters(ZEND_NUM_ARGS() TSRMLS_CC, getThis(), "OO",
                                   &object, date_ce_timezone, &dateobject,
                                   date_ce_date) == FAILURE) {
    RETURN_FALSE;
  }
  tzobj = (php_timezone_obj *)zend_object_store_get_object(object TSRMLS_CC);
  DATE_CHECK_INITIALIZED(tzobj->initialized, DateTimeZone);
  dateobj = (php_date_obj *)zend_object_store_get_object(dateobject TSRMLS_CC);
  DATE_CHECK_INITIALIZED(dateobj->time, DateTime);

  switch (tzobj->type) {
  case TIMELIB_ZONETYPE_ID:
    offset = timelib_get_time_zone_info(dateobj->time->sse, tzobj->tzi.tz);
    RETVAL_LONG(offset->offset);
    timelib_time_offset_dtor(offset);
    break;
  case TIMELIB_ZONETYPE_OFFSET:
    RETURN_LONG(tzobj->tzi.utc_offset * -60);
    break;
  case TIMELIB_ZONETYPE_ABBR:
    RETURN_LONG((tzobj->tzi.z.utc_offset - (tzobj->tzi.z.dst * 60)) * -60);
    break;
  }
}
/* }}} */

/* {{{ proto array timezone_transitions_get(DateTimeZone object [, long
   timestamp_begin [, long timestamp_end ]]) Returns numerically indexed array
   containing associative array for all transitions in the specified range for
   the timezone.
*/
PHP_FUNCTION(timezone_transitions_get) {
  zval *object, *element;
  php_timezone_obj *tzobj;
  unsigned int i, begin = 0, found;
  long timestamp_begin = LONG_MIN, timestamp_end = LONG_MAX;

  if (zend_parse_method_parameters(ZEND_NUM_ARGS() TSRMLS_CC, getThis(), "O|ll",
                                   &object, date_ce_timezone, &timestamp_begin,
                                   &timestamp_end) == FAILURE) {
    RETURN_FALSE;
  }
  tzobj = (php_timezone_obj *)zend_object_store_get_object(object TSRMLS_CC);
  DATE_CHECK_INITIALIZED(tzobj->initialized, DateTimeZone);
  if (tzobj->type != TIMELIB_ZONETYPE_ID) {
    RETURN_FALSE;
  }

#define add_nominal()                                                          \
  MAKE_STD_ZVAL(element);                                                      \
  array_init(element);                                                         \
  add_assoc_long(element, "ts", timestamp_begin);                              \
  add_assoc_string(                                                            \
      element, "time",                                                         \
      php_format_date(DATE_FORMAT_ISO8601, 13, timestamp_begin, 0 TSRMLS_CC),  \
      0);                                                                      \
  add_assoc_long(element, "offset", tzobj->tzi.tz->type[0].offset);            \
  add_assoc_bool(element, "isdst", tzobj->tzi.tz->type[0].isdst);              \
  add_assoc_string(                                                            \
      element, "abbr",                                                         \
      &tzobj->tzi.tz->timezone_abbr[tzobj->tzi.tz->type[0].abbr_idx], 1);      \
  add_next_index_zval(return_value, element);

#define add(i, ts)                                                             \
  MAKE_STD_ZVAL(element);                                                      \
  array_init(element);                                                         \
  add_assoc_long(element, "ts", ts);                                           \
  add_assoc_string(element, "time",                                            \
                   php_format_date(DATE_FORMAT_ISO8601, 13, ts, 0 TSRMLS_CC),  \
                   0);                                                         \
  add_assoc_long(element, "offset",                                            \
                 tzobj->tzi.tz->type[tzobj->tzi.tz->trans_idx[i]].offset);     \
  add_assoc_bool(element, "isdst",                                             \
                 tzobj->tzi.tz->type[tzobj->tzi.tz->trans_idx[i]].isdst);      \
  add_assoc_string(                                                            \
      element, "abbr",                                                         \
      &tzobj->tzi.tz->timezone_abbr                                            \
           [tzobj->tzi.tz->type[tzobj->tzi.tz->trans_idx[i]].abbr_idx],        \
      1);                                                                      \
  add_next_index_zval(return_value, element);

#define add_last() add(tzobj->tzi.tz->timecnt - 1, timestamp_begin)

  array_init(return_value);

  if (timestamp_begin == LONG_MIN) {
    add_nominal();
    begin = 0;
    found = 1;
  } else {
    begin = 0;
    found = 0;
    if (tzobj->tzi.tz->timecnt > 0) {
      do {
        if (tzobj->tzi.tz->trans[begin] > timestamp_begin) {
          if (begin > 0) {
            add(begin - 1, timestamp_begin);
          } else {
            add_nominal();
          }
          found = 1;
          break;
        }
        begin++;
      } while (begin < tzobj->tzi.tz->timecnt);
    }
  }

  if (!found) {
    if (tzobj->tzi.tz->timecnt > 0) {
      add_last();
    } else {
      add_nominal();
    }
  } else {
    for (i = begin; i < tzobj->tzi.tz->timecnt; ++i) {
      if (tzobj->tzi.tz->trans[i] < timestamp_end) {
        add(i, tzobj->tzi.tz->trans[i]);
      }
    }
  }
}
/* }}} */

/* {{{ proto array timezone_location_get()
   Returns location information for a timezone, including country code,
   latitude/longitude and comments
*/
PHP_FUNCTION(timezone_location_get) {
  zval *object;
  php_timezone_obj *tzobj;

  if (zend_parse_method_parameters(ZEND_NUM_ARGS() TSRMLS_CC, getThis(), "O",
                                   &object, date_ce_timezone) == FAILURE) {
    RETURN_FALSE;
  }
  tzobj = (php_timezone_obj *)zend_object_store_get_object(object TSRMLS_CC);
  DATE_CHECK_INITIALIZED(tzobj->initialized, DateTimeZone);
  if (tzobj->type != TIMELIB_ZONETYPE_ID) {
    RETURN_FALSE;
  }

  array_init(return_value);
  add_assoc_string(return_value, "country_code",
                   tzobj->tzi.tz->location.country_code, 1);
  add_assoc_double(return_value, "latitude", tzobj->tzi.tz->location.latitude);
  add_assoc_double(return_value, "longitude",
                   tzobj->tzi.tz->location.longitude);
  add_assoc_string(return_value, "comments", tzobj->tzi.tz->location.comments,
                   1);
}
/* }}} */

static int date_interval_initialize(timelib_rel_time **rt,
                                    /*const*/ char *format,
                                    int format_length TSRMLS_DC) {
  timelib_time *b = NULL, *e = NULL;
  timelib_rel_time *p = NULL;
  int r = 0;
  int retval = 0;
  struct timelib_error_container *errors;

  timelib_strtointerval(format, format_length, &b, &e, &p, &r, &errors);

  if (errors->error_count > 0) {
    php_error_docref(NULL TSRMLS_CC, E_WARNING, "Unknown or bad format (%s)",
                     format);
    retval = FAILURE;
  } else {
    if (p) {
      *rt = p;
      retval = SUCCESS;
    } else {
      if (b && e) {
        timelib_update_ts(b, NULL);
        timelib_update_ts(e, NULL);
        *rt = timelib_diff(b, e);
        retval = SUCCESS;
      } else {
        php_error_docref(NULL TSRMLS_CC, E_WARNING,
                         "Failed to parse interval (%s)", format);
        retval = FAILURE;
      }
    }
  }
  timelib_error_container_dtor(errors);
  return retval;
}

/* {{{ date_interval_read_property */
zval *date_interval_read_property(zval *object, zval *member, int type,
                                  const zend_literal *key TSRMLS_DC) {
  php_interval_obj *obj;
  zval *retval;
  zval tmp_member;
  timelib_sll value = -1;

  if (member->type != IS_STRING) {
    tmp_member = *member;
    zval_copy_ctor(&tmp_member);
    convert_to_string(&tmp_member);
    member = &tmp_member;
  }

  obj = (php_interval_obj *)zend_objects_get_address(object TSRMLS_CC);

#define GET_VALUE_FROM_STRUCT(n, m)                                            \
  if (strcmp(Z_STRVAL_P(member), m) == 0) {                                    \
    value = obj->diff->n;                                                      \
    break;                                                                     \
  }
  do {
    GET_VALUE_FROM_STRUCT(y, "y");
    GET_VALUE_FROM_STRUCT(m, "m");
    GET_VALUE_FROM_STRUCT(d, "d");
    GET_VALUE_FROM_STRUCT(h, "h");
    GET_VALUE_FROM_STRUCT(i, "i");
    GET_VALUE_FROM_STRUCT(s, "s");
    GET_VALUE_FROM_STRUCT(invert, "invert");
    GET_VALUE_FROM_STRUCT(days, "days");
    /* didn't find any */
    retval = (zend_get_std_object_handlers())
                 ->read_property(object, member, type, key TSRMLS_CC);

    if (member == &tmp_member) {
      zval_dtor(member);
    }

    return retval;
  } while (0);

  ALLOC_INIT_ZVAL(retval);
  Z_SET_REFCOUNT_P(retval, 0);

  ZVAL_LONG(retval, value);

  if (member == &tmp_member) {
    zval_dtor(member);
  }

  return retval;
}
/* }}} */

/* {{{ date_interval_write_property */
void date_interval_write_property(zval *object, zval *member, zval *value,
                                  const zend_literal *key TSRMLS_DC) {
  php_interval_obj *obj;
  zval tmp_member, tmp_value;

  if (member->type != IS_STRING) {
    tmp_member = *member;
    zval_copy_ctor(&tmp_member);
    convert_to_string(&tmp_member);
    member = &tmp_member;
  }
  obj = (php_interval_obj *)zend_objects_get_address(object TSRMLS_CC);

#define SET_VALUE_FROM_STRUCT(n, m)                                            \
  if (strcmp(Z_STRVAL_P(member), m) == 0) {                                    \
    if (value->type != IS_LONG) {                                              \
      tmp_value = *value;                                                      \
      zval_copy_ctor(&tmp_value);                                              \
      convert_to_long(&tmp_value);                                             \
      value = &tmp_value;                                                      \
    }                                                                          \
    obj->diff->n = Z_LVAL_P(value);                                            \
    if (value == &tmp_value) {                                                 \
      zval_dtor(value);                                                        \
    }                                                                          \
    break;                                                                     \
  }

  do {
    SET_VALUE_FROM_STRUCT(y, "y");
    SET_VALUE_FROM_STRUCT(m, "m");
    SET_VALUE_FROM_STRUCT(d, "d");
    SET_VALUE_FROM_STRUCT(h, "h");
    SET_VALUE_FROM_STRUCT(i, "i");
    SET_VALUE_FROM_STRUCT(s, "s");
    SET_VALUE_FROM_STRUCT(invert, "invert");
    /* didn't find any */
    (zend_get_std_object_handlers())
        ->write_property(object, member, value, key TSRMLS_CC);
  } while (0);

  if (member == &tmp_member) {
    zval_dtor(member);
  }
}
/* }}} */

/* {{{ proto DateInterval::__construct([string interval_spec])
   Creates new DateInterval object.
*/
PHP_METHOD(DateInterval, __construct) {
  char *interval_string = NULL;
  int interval_string_length;
  php_interval_obj *diobj;
  timelib_rel_time *reltime;
  zend_error_handling error_handling;

  zend_replace_error_handling(EH_THROW, NULL, &error_handling TSRMLS_CC);
  if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "s", &interval_string,
                            &interval_string_length) == SUCCESS) {
    if (date_interval_initialize(&reltime, interval_string,
                                 interval_string_length TSRMLS_CC) == SUCCESS) {
      diobj = zend_object_store_get_object(getThis() TSRMLS_CC);
      diobj->diff = reltime;
      diobj->initialized = 1;
    } else {
      ZVAL_NULL(getThis());
    }
  }
  zend_restore_error_handling(&error_handling TSRMLS_CC);
}
/* }}} */

/* {{{ proto DateInterval date_interval_create_from_date_string(string time)
   Uses the normal date parsers and sets up a DateInterval from the relative
   parts of the parsed string
*/
PHP_FUNCTION(date_interval_create_from_date_string) {
  char *time_str = NULL;
  int time_str_len = 0;
  timelib_time *time;
  timelib_error_container *err = NULL;
  php_interval_obj *diobj;

  if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "s", &time_str,
                            &time_str_len) == FAILURE) {
    RETURN_FALSE;
  }

  php_date_instantiate(date_ce_interval, return_value TSRMLS_CC);

  time = timelib_strtotime(time_str, time_str_len, &err, DATE_TIMEZONEDB);
  diobj =
      (php_interval_obj *)zend_object_store_get_object(return_value TSRMLS_CC);
  diobj->diff = timelib_rel_time_clone(&time->relative);
  diobj->initialized = 1;
  timelib_time_dtor(time);
  timelib_error_container_dtor(err);
}
/* }}} */

/* {{{ date_interval_format -  */
static char *date_interval_format(char *format, int format_len,
                                  timelib_rel_time *t) {
  smart_str string = {0};
  int i, length, have_format_spec = 0;
  char buffer[33];

  if (!format_len) {
    return estrdup("");
  }

  for (i = 0; i < format_len; i++) {
    if (have_format_spec) {
      switch (format[i]) {
      case 'Y':
        length = slprintf(buffer, 32, "%02d", (int)t->y);
        break;
      case 'y':
        length = slprintf(buffer, 32, "%d", (int)t->y);
        break;

      case 'M':
        length = slprintf(buffer, 32, "%02d", (int)t->m);
        break;
      case 'm':
        length = slprintf(buffer, 32, "%d", (int)t->m);
        break;

      case 'D':
        length = slprintf(buffer, 32, "%02d", (int)t->d);
        break;
      case 'd':
        length = slprintf(buffer, 32, "%d", (int)t->d);
        break;

      case 'H':
        length = slprintf(buffer, 32, "%02d", (int)t->h);
        break;
      case 'h':
        length = slprintf(buffer, 32, "%d", (int)t->h);
        break;

      case 'I':
        length = slprintf(buffer, 32, "%02d", (int)t->i);
        break;
      case 'i':
        length = slprintf(buffer, 32, "%d", (int)t->i);
        break;

      case 'S':
        length = slprintf(buffer, 32, "%02d", (int)t->s);
        break;
      case 's':
        length = slprintf(buffer, 32, "%d", (int)t->s);
        break;

      case 'a': {
        if ((int)t->days != -99999) {
          length = slprintf(buffer, 32, "%d", (int)t->days);
        } else {
          length = slprintf(buffer, 32, "(unknown)");
        }
      } break;
      case 'r':
        length = slprintf(buffer, 32, "%s", t->invert ? "-" : "");
        break;
      case 'R':
        length = slprintf(buffer, 32, "%c", t->invert ? '-' : '+');
        break;

      case '%':
        length = slprintf(buffer, 32, "%%");
        break;
      default:
        buffer[0] = '%';
        buffer[1] = format[i];
        buffer[2] = '\0';
        length = 2;
        break;
      }
      smart_str_appendl(&string, buffer, length);
      have_format_spec = 0;
    } else {
      if (format[i] == '%') {
        have_format_spec = 1;
      } else {
        smart_str_appendc(&string, format[i]);
      }
    }
  }

  smart_str_0(&string);

  return string.c;
}
/* }}} */

/* {{{ proto string date_interval_format(DateInterval object, string format)
   Formats the interval.
*/
PHP_FUNCTION(date_interval_format) {
  zval *object;
  php_interval_obj *diobj;
  char *format;
  int format_len;

  if (zend_parse_method_parameters(ZEND_NUM_ARGS() TSRMLS_CC, getThis(), "Os",
                                   &object, date_ce_interval, &format,
                                   &format_len) == FAILURE) {
    RETURN_FALSE;
  }
  diobj = (php_interval_obj *)zend_object_store_get_object(object TSRMLS_CC);
  DATE_CHECK_INITIALIZED(diobj->initialized, DateInterval);

  RETURN_STRING(date_interval_format(format, format_len, diobj->diff), 0);
}
/* }}} */

static int date_period_initialize(timelib_time **st, timelib_time **et,
                                  timelib_rel_time **d, long *recurrences,
                                  /*const*/ char *format,
                                  int format_length TSRMLS_DC) {
  timelib_time *b = NULL, *e = NULL;
  timelib_rel_time *p = NULL;
  int r = 0;
  int retval = 0;
  struct timelib_error_container *errors;

  timelib_strtointerval(format, format_length, &b, &e, &p, &r, &errors);

  if (errors->error_count > 0) {
    php_error_docref(NULL TSRMLS_CC, E_WARNING, "Unknown or bad format (%s)",
                     format);
    retval = FAILURE;
  } else {
    *st = b;
    *et = e;
    *d = p;
    *recurrences = r;
    retval = SUCCESS;
  }
  timelib_error_container_dtor(errors);
  return retval;
}

/* {{{ proto DatePeriod::__construct(DateTime $start, DateInterval $interval,
   int recurrences|DateTime $end) Creates new DatePeriod object.
*/
PHP_METHOD(DatePeriod, __construct) {
  php_period_obj *dpobj;
  php_date_obj *dateobj;
  php_interval_obj *intobj;
  zval *start, *end = NULL, *interval;
  long recurrences = 0, options = 0;
  char *isostr = NULL;
  int isostr_len = 0;
  timelib_time *clone;
  zend_error_handling error_handling;

  zend_replace_error_handling(EH_THROW, NULL, &error_handling TSRMLS_CC);
  if (zend_parse_parameters_ex(ZEND_PARSE_PARAMS_QUIET,
                               ZEND_NUM_ARGS() TSRMLS_CC, "OOl|l", &start,
                               date_ce_date, &interval, date_ce_interval,
                               &recurrences, &options) == FAILURE) {
    if (zend_parse_parameters_ex(ZEND_PARSE_PARAMS_QUIET,
                                 ZEND_NUM_ARGS() TSRMLS_CC, "OOO|l", &start,
                                 date_ce_date, &interval, date_ce_interval,
                                 &end, date_ce_date, &options) == FAILURE) {
      if (zend_parse_parameters_ex(ZEND_PARSE_PARAMS_QUIET,
                                   ZEND_NUM_ARGS() TSRMLS_CC, "s|l", &isostr,
                                   &isostr_len, &options) == FAILURE) {
        php_error_docref(
            NULL TSRMLS_CC, E_WARNING,
            "This constructor accepts either (DateTime, DateInterval, int) OR "
            "(DateTime, DateInterval, DateTime) OR (string) as arguments.");
        zend_restore_error_handling(&error_handling TSRMLS_CC);
        return;
      }
    }
  }

  dpobj = zend_object_store_get_object(getThis() TSRMLS_CC);
  dpobj->current = NULL;

  if (isostr_len) {
    date_period_initialize(&(dpobj->start), &(dpobj->end), &(dpobj->interval),
                           &recurrences, isostr, isostr_len TSRMLS_CC);
    if (dpobj->start == NULL) {
      php_error_docref(NULL TSRMLS_CC, E_WARNING,
                       "The ISO interval '%s' did not contain a start date.",
                       isostr);
    }
    if (dpobj->interval == NULL) {
      php_error_docref(NULL TSRMLS_CC, E_WARNING,
                       "The ISO interval '%s' did not contain an interval.",
                       isostr);
    }
    if (dpobj->end == NULL && recurrences == 0) {
      php_error_docref(NULL TSRMLS_CC, E_WARNING,
                       "The ISO interval '%s' did not contain an end date or a "
                       "recurrence count.",
                       isostr);
    }

    if (dpobj->start) {
      timelib_update_ts(dpobj->start, NULL);
    }
    if (dpobj->end) {
      timelib_update_ts(dpobj->end, NULL);
    }
  } else {
    /* init */
    intobj =
        (php_interval_obj *)zend_object_store_get_object(interval TSRMLS_CC);

    /* start date */
    dateobj = (php_date_obj *)zend_object_store_get_object(start TSRMLS_CC);
    clone = timelib_time_ctor();
    memcpy(clone, dateobj->time, sizeof(timelib_time));
    if (dateobj->time->tz_abbr) {
      clone->tz_abbr = strdup(dateobj->time->tz_abbr);
    }
    if (dateobj->time->tz_info) {
      clone->tz_info = dateobj->time->tz_info;
    }
    dpobj->start = clone;

    /* interval */
    dpobj->interval = timelib_rel_time_clone(intobj->diff);

    /* end date */
    if (end) {
      dateobj = (php_date_obj *)zend_object_store_get_object(end TSRMLS_CC);
      clone = timelib_time_clone(dateobj->time);
      dpobj->end = clone;
    }
  }

  /* options */
  dpobj->include_start_date = !(options & PHP_DATE_PERIOD_EXCLUDE_START_DATE);

  /* recurrrences */
  dpobj->recurrences = recurrences + dpobj->include_start_date;

  dpobj->initialized = 1;

  zend_restore_error_handling(&error_handling TSRMLS_CC);
}
/* }}} */

static int check_id_allowed(char *id, long what) {
  if (what & PHP_DATE_TIMEZONE_GROUP_AFRICA &&
      strncasecmp(id, "Africa/", 7) == 0)
    return 1;
  if (what & PHP_DATE_TIMEZONE_GROUP_AMERICA &&
      strncasecmp(id, "America/", 8) == 0)
    return 1;
  if (what & PHP_DATE_TIMEZONE_GROUP_ANTARCTICA &&
      strncasecmp(id, "Antarctica/", 11) == 0)
    return 1;
  if (what & PHP_DATE_TIMEZONE_GROUP_ARCTIC &&
      strncasecmp(id, "Arctic/", 7) == 0)
    return 1;
  if (what & PHP_DATE_TIMEZONE_GROUP_ASIA && strncasecmp(id, "Asia/", 5) == 0)
    return 1;
  if (what & PHP_DATE_TIMEZONE_GROUP_ATLANTIC &&
      strncasecmp(id, "Atlantic/", 9) == 0)
    return 1;
  if (what & PHP_DATE_TIMEZONE_GROUP_AUSTRALIA &&
      strncasecmp(id, "Australia/", 10) == 0)
    return 1;
  if (what & PHP_DATE_TIMEZONE_GROUP_EUROPE &&
      strncasecmp(id, "Europe/", 7) == 0)
    return 1;
  if (what & PHP_DATE_TIMEZONE_GROUP_INDIAN &&
      strncasecmp(id, "Indian/", 7) == 0)
    return 1;
  if (what & PHP_DATE_TIMEZONE_GROUP_PACIFIC &&
      strncasecmp(id, "Pacific/", 8) == 0)
    return 1;
  if (what & PHP_DATE_TIMEZONE_GROUP_UTC && strncasecmp(id, "UTC", 3) == 0)
    return 1;
  return 0;
}

/* {{{ proto array timezone_identifiers_list([long what[, string country]])
   Returns numerically index array with all timezone identifiers.
*/
PHP_FUNCTION(timezone_identifiers_list) {
  const timelib_tzdb *tzdb;
  const timelib_tzdb_index_entry *table;
  int i, item_count;
  long what = PHP_DATE_TIMEZONE_GROUP_ALL;
  char *option = NULL;
  int option_len = 0;

  if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "|ls", &what, &option,
                            &option_len) == FAILURE) {
    RETURN_FALSE;
  }

  /* Extra validation */
  if (what == PHP_DATE_TIMEZONE_PER_COUNTRY && option_len != 2) {
    php_error_docref(
        NULL TSRMLS_CC, E_NOTICE,
        "A two-letter ISO 3166-1 compatible country code is expected");
    RETURN_FALSE;
  }

  tzdb = DATE_TIMEZONEDB;
  item_count = tzdb->index_size;
  table = tzdb->index;

  array_init(return_value);

  for (i = 0; i < item_count; ++i) {
    if (what == PHP_DATE_TIMEZONE_PER_COUNTRY) {
      if (tzdb->data[table[i].pos + 5] == option[0] &&
          tzdb->data[table[i].pos + 6] == option[1]) {
        add_next_index_string(return_value, table[i].id, 1);
      }
    } else if (what == PHP_DATE_TIMEZONE_GROUP_ALL_W_BC ||
               (check_id_allowed(table[i].id, what) &&
                (tzdb->data[table[i].pos + 4] == '\1'))) {
      add_next_index_string(return_value, table[i].id, 1);
    }
  };
}
/* }}} */

/* {{{ proto array timezone_version_get()
   Returns the Olson database version number.
*/
PHP_FUNCTION(timezone_version_get) {
  const timelib_tzdb *tzdb;

  tzdb = DATE_TIMEZONEDB;
  RETURN_STRING(tzdb->version, 1);
}
/* }}} */

/* {{{ proto array timezone_abbreviations_list()
   Returns associative array containing dst, offset and the timezone name
*/
PHP_FUNCTION(timezone_abbreviations_list) {
  const timelib_tz_lookup_table *table, *entry;
  zval *element, **abbr_array_pp, *abbr_array;

  table = timelib_timezone_abbreviations_list();
  array_init(return_value);
  entry = table;

  do {
    MAKE_STD_ZVAL(element);
    array_init(element);
    add_assoc_bool(element, "dst", entry->type);
    add_assoc_long(element, "offset", entry->gmtoffset);
    if (entry->full_tz_name) {
      add_assoc_string(element, "timezone_id", entry->full_tz_name, 1);
    } else {
      add_assoc_null(element, "timezone_id");
    }

    if (zend_hash_find(HASH_OF(return_value), entry->name,
                       strlen(entry->name) + 1,
                       (void **)&abbr_array_pp) == FAILURE) {
      MAKE_STD_ZVAL(abbr_array);
      array_init(abbr_array);
      add_assoc_zval(return_value, entry->name, abbr_array);
    } else {
      abbr_array = *abbr_array_pp;
    }
    add_next_index_zval(abbr_array, element);
    entry++;
  } while (entry->name);
}
/* }}} */

/* {{{ proto bool date_default_timezone_set(string timezone_identifier)
   Sets the default timezone used by all date/time functions in a script */
PHP_FUNCTION(date_default_timezone_set) {
  char *zone;
  int zone_len;

  if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "s", &zone, &zone_len) ==
      FAILURE) {
    RETURN_FALSE;
  }
  if (!timelib_timezone_id_is_valid(zone, DATE_TIMEZONEDB)) {
    php_error_docref(NULL TSRMLS_CC, E_NOTICE, "Timezone ID '%s' is invalid",
                     zone);
    RETURN_FALSE;
  }
  if (DATEG(timezone)) {
    efree(DATEG(timezone));
    DATEG(timezone) = NULL;
  }
  DATEG(timezone) = estrndup(zone, zone_len);
  RETURN_TRUE;
}
/* }}} */

/* {{{ proto string date_default_timezone_get()
   Gets the default timezone used by all date/time functions in a script */
PHP_FUNCTION(date_default_timezone_get) {
  timelib_tzinfo *default_tz;

  default_tz = get_timezone_info(TSRMLS_C);
  RETVAL_STRING(default_tz->name, 1);
}
/* }}} */

/* {{{ php_do_date_sunrise_sunset
 *  Common for date_sunrise() and date_sunset() functions
 */
static void php_do_date_sunrise_sunset(INTERNAL_FUNCTION_PARAMETERS,
                                       int calc_sunset) {
  double latitude = 0.0, longitude = 0.0, zenith = 0.0, gmt_offset = 0,
         altitude;
  double h_rise, h_set, N;
  timelib_sll rise, set, transit;
  long time, retformat = 0;
  int rs;
  timelib_time *t;
  timelib_tzinfo *tzi;
  char *retstr;

  if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "l|ldddd", &time,
                            &retformat, &latitude, &longitude, &zenith,
                            &gmt_offset) == FAILURE) {
    RETURN_FALSE;
  }

  switch (ZEND_NUM_ARGS()) {
  case 1:
    retformat = SUNFUNCS_RET_STRING;
  case 2:
    latitude = INI_FLT("date.default_latitude");
  case 3:
    longitude = INI_FLT("date.default_longitude");
  case 4:
    if (calc_sunset) {
      zenith = INI_FLT("date.sunset_zenith");
    } else {
      zenith = INI_FLT("date.sunrise_zenith");
    }
  case 5:
  case 6:
    break;
  default:
    php_error_docref(NULL TSRMLS_CC, E_WARNING, "invalid format");
    RETURN_FALSE;
    break;
  }
  if (retformat != SUNFUNCS_RET_TIMESTAMP && retformat != SUNFUNCS_RET_STRING &&
      retformat != SUNFUNCS_RET_DOUBLE) {
    php_error_docref(
        NULL TSRMLS_CC, E_WARNING,
        "Wrong return format given, pick one of SUNFUNCS_RET_TIMESTAMP, "
        "SUNFUNCS_RET_STRING or SUNFUNCS_RET_DOUBLE");
    RETURN_FALSE;
  }
  altitude = 90 - zenith;

  /* Initialize time struct */
  t = timelib_time_ctor();
  tzi = get_timezone_info(TSRMLS_C);
  t->tz_info = tzi;
  t->zone_type = TIMELIB_ZONETYPE_ID;

  if (ZEND_NUM_ARGS() <= 5) {
    gmt_offset = timelib_get_current_offset(t) / 3600;
  }

  timelib_unixtime2local(t, time);
  rs = timelib_astro_rise_set_altitude(t, longitude, latitude, altitude, 1,
                                       &h_rise, &h_set, &rise, &set, &transit);
  timelib_time_dtor(t);

  if (rs != 0) {
    RETURN_FALSE;
  }

  if (retformat == SUNFUNCS_RET_TIMESTAMP) {
    RETURN_LONG(calc_sunset ? set : rise);
  }
  N = (calc_sunset ? h_set : h_rise) + gmt_offset;

  if (N > 24 || N < 0) {
    N -= floor(N / 24) * 24;
  }

  switch (retformat) {
  case SUNFUNCS_RET_STRING:
    spprintf(&retstr, 0, "%02d:%02d", (int)N, (int)(60 * (N - (int)N)));
    RETURN_STRINGL(retstr, 5, 0);
    break;
  case SUNFUNCS_RET_DOUBLE:
    RETURN_DOUBLE(N);
    break;
  }
}
/* }}} */

/* {{{ proto mixed date_sunrise(mixed time [, int format [, float latitude [,
   float longitude [, float zenith [, float gmt_offset]]]]]) Returns time of
   sunrise for a given day and location */
PHP_FUNCTION(date_sunrise) {
  php_do_date_sunrise_sunset(INTERNAL_FUNCTION_PARAM_PASSTHRU, 0);
}
/* }}} */

/* {{{ proto mixed date_sunset(mixed time [, int format [, float latitude [,
   float longitude [, float zenith [, float gmt_offset]]]]]) Returns time of
   sunset for a given day and location */
PHP_FUNCTION(date_sunset) {
  php_do_date_sunrise_sunset(INTERNAL_FUNCTION_PARAM_PASSTHRU, 1);
}
/* }}} */

/* {{{ proto array date_sun_info(long time, float latitude, float longitude)
   Returns an array with information about sun set/rise and twilight begin/end
 */
PHP_FUNCTION(date_sun_info) {
  long time;
  double latitude, longitude;
  timelib_time *t, *t2;
  timelib_tzinfo *tzi;
  int rs;
  timelib_sll rise, set, transit;
  int dummy;
  double ddummy;

  if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "ldd", &time, &latitude,
                            &longitude) == FAILURE) {
    RETURN_FALSE;
  }
  /* Initialize time struct */
  t = timelib_time_ctor();
  tzi = get_timezone_info(TSRMLS_C);
  t->tz_info = tzi;
  t->zone_type = TIMELIB_ZONETYPE_ID;
  timelib_unixtime2local(t, time);

  /* Setup */
  t2 = timelib_time_ctor();
  array_init(return_value);

  /* Get sun up/down and transit */
  rs = timelib_astro_rise_set_altitude(t, longitude, latitude, -35.0 / 60, 1,
                                       &ddummy, &ddummy, &rise, &set, &transit);
  switch (rs) {
  case -1: /* always below */
    add_assoc_bool(return_value, "sunrise", 0);
    add_assoc_bool(return_value, "sunset", 0);
    break;
  case 1: /* always above */
    add_assoc_bool(return_value, "sunrise", 1);
    add_assoc_bool(return_value, "sunset", 1);
    break;
  default:
    t2->sse = rise;
    add_assoc_long(return_value, "sunrise", timelib_date_to_int(t2, &dummy));
    t2->sse = set;
    add_assoc_long(return_value, "sunset", timelib_date_to_int(t2, &dummy));
  }
  t2->sse = transit;
  add_assoc_long(return_value, "transit", timelib_date_to_int(t2, &dummy));

  /* Get civil twilight */
  rs = timelib_astro_rise_set_altitude(t, longitude, latitude, -6.0, 0, &ddummy,
                                       &ddummy, &rise, &set, &transit);
  switch (rs) {
  case -1: /* always below */
    add_assoc_bool(return_value, "civil_twilight_begin", 0);
    add_assoc_bool(return_value, "civil_twilight_end", 0);
    break;
  case 1: /* always above */
    add_assoc_bool(return_value, "civil_twilight_begin", 1);
    add_assoc_bool(return_value, "civil_twilight_end", 1);
    break;
  default:
    t2->sse = rise;
    add_assoc_long(return_value, "civil_twilight_begin",
                   timelib_date_to_int(t2, &dummy));
    t2->sse = set;
    add_assoc_long(return_value, "civil_twilight_end",
                   timelib_date_to_int(t2, &dummy));
  }

  /* Get nautical twilight */
  rs = timelib_astro_rise_set_altitude(t, longitude, latitude, -12.0, 0,
                                       &ddummy, &ddummy, &rise, &set, &transit);
  switch (rs) {
  case -1: /* always below */
    add_assoc_bool(return_value, "nautical_twilight_begin", 0);
    add_assoc_bool(return_value, "nautical_twilight_end", 0);
    break;
  case 1: /* always above */
    add_assoc_bool(return_value, "nautical_twilight_begin", 1);
    add_assoc_bool(return_value, "nautical_twilight_end", 1);
    break;
  default:
    t2->sse = rise;
    add_assoc_long(return_value, "nautical_twilight_begin",
                   timelib_date_to_int(t2, &dummy));
    t2->sse = set;
    add_assoc_long(return_value, "nautical_twilight_end",
                   timelib_date_to_int(t2, &dummy));
  }

  /* Get astronomical twilight */
  rs = timelib_astro_rise_set_altitude(t, longitude, latitude, -18.0, 0,
                                       &ddummy, &ddummy, &rise, &set, &transit);
  switch (rs) {
  case -1: /* always below */
    add_assoc_bool(return_value, "astronomical_twilight_begin", 0);
    add_assoc_bool(return_value, "astronomical_twilight_end", 0);
    break;
  case 1: /* always above */
    add_assoc_bool(return_value, "astronomical_twilight_begin", 1);
    add_assoc_bool(return_value, "astronomical_twilight_end", 1);
    break;
  default:
    t2->sse = rise;
    add_assoc_long(return_value, "astronomical_twilight_begin",
                   timelib_date_to_int(t2, &dummy));
    t2->sse = set;
    add_assoc_long(return_value, "astronomical_twilight_end",
                   timelib_date_to_int(t2, &dummy));
  }
  timelib_time_dtor(t);
  timelib_time_dtor(t2);
}
/* }}} */
/*
 * Local variables:
 * tab-width: 4
 * c-basic-offset: 4
 * End:
 * vim600: fdm=marker
 * vim: noet sw=4 ts=4
 */
